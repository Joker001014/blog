<?xml version="1.0" encoding="UTF-8"?><rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title><![CDATA[JokerDebug Blog RSS Feed]]></title><description><![CDATA[A starter blog demonstrating what Gatsby can do.]]></description><link>https://gatsbystarterblogsource.gatsbyjs.io</link><generator>GatsbyJS</generator><lastBuildDate>Sat, 08 Mar 2025 14:15:11 GMT</lastBuildDate><item><title><![CDATA[Self-introduction]]></title><description><![CDATA[Hi, I'm JokerDebug, a Developer ğŸš€ from China. Github
GmailÂ  Talking about Personal Stuffs: ğŸ‘¨ğŸ½â€ğŸ’» Iâ€™m currently working on myblog; ğŸŒ± I'mâ€¦]]></description><link>https://gatsbystarterblogsource.gatsbyjs.io/hello-world/</link><guid isPermaLink="false">https://gatsbystarterblogsource.gatsbyjs.io/hello-world/</guid><pubDate>Sat, 01 Mar 2025 22:12:03 GMT</pubDate><content:encoded>&lt;!-- dynamic typing effect --&gt;
&lt;div align=&quot;center&quot;&gt;
    &lt;a href=&quot;https://blog.505218.xyz&quot;&gt;
      &lt;img src=&quot;https://readme-typing-svg.demolab.com?font=Fira+Code&amp;amp;pause=1000&amp;amp;width=435&amp;amp;lines=(Hello%2C%20World!);&amp;amp;center=true&amp;amp;size=27&quot; alt=&quot;Typing SVG&quot;&gt;
    &lt;/a&gt;
  &lt;/div&gt;
&lt;!-- Your title --&gt;
&lt;h1&gt;Hi, I&apos;m JokerDebug, a Developer ğŸš€ from China.&lt;/h1&gt;
&lt;!-- Your badges
You can use the website to generate badges: https://shields.io/
--&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/joker001014&quot;&gt;&lt;img src=&quot;https://img.shields.io/badge/-Github-000?style=flat&amp;#x26;logo=Github&amp;#x26;logoColor=white&quot; alt=&quot;Github&quot;&gt;&lt;/a&gt;
&lt;a href=&quot;mailto:kywang1014@163.com&quot;&gt;&lt;img src=&quot;https://img.shields.io/badge/-163.com-D14836?style=flat&amp;#x26;logo=Mail&amp;#x26;logoColor=white&quot; alt=&quot;Gmail&quot;&gt;&lt;/a&gt;Â &lt;/p&gt;
&lt;!-- Talking about you --&gt; 
&lt;h2&gt;Talking about Personal Stuffs:&lt;/h2&gt;
&lt;!-- Any image aligned to the right. Beware the width --&gt;
&lt;!-- &lt;img width=&quot;55%&quot; align=&quot;right&quot; alt=&quot;Github&quot; src=&quot;https://github.com/TroyMitchell911/Troymitchell911/blob/main/git-header.svg&quot; /&gt; --&gt;
&lt;ul&gt;
&lt;li&gt;ğŸ‘¨ğŸ½â€ğŸ’» Iâ€™m currently working on &lt;a href=&quot;https://github.com/joker001014/blog/&quot;&gt;myblog&lt;/a&gt;;&lt;/li&gt;
&lt;li&gt;ğŸŒ± I&apos;m currently learning operating systems;&lt;/li&gt;
&lt;li&gt;ğŸ‘¯ Iâ€™m looking to collaborate on [Operating System]ğŸ¤;&lt;/li&gt;
&lt;li&gt;ğŸ¤” Iâ€™m looking for help with  [Understand linux source code]ğŸ˜­;&lt;/li&gt;
&lt;li&gt;ğŸ’¬ Ask me about anything, I am happy to help;&lt;/li&gt;
&lt;li&gt;âš¡ï¸ Fun-Fact: I am a graduate student. I really hope to get internship opportunities abroad, whether online or offline;&lt;/li&gt;
&lt;li&gt;ğŸ“« How to reach me: &lt;a href=&quot;mailto:kywang1014@163.com&quot;&gt;kywang1014@163.com&lt;/a&gt;;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Technologies I&apos;m Learning :books:&lt;/h2&gt;
&lt;p&gt;&lt;img src=&quot;http://img.shields.io/badge/-C-A8B9CC?style=flat-square&amp;#x26;logo=c&amp;#x26;logoColor=ffffff&quot; alt=&quot;c&quot;&gt;
&lt;img src=&quot;http://img.shields.io/badge/-C++-03234B?style=flat-square&amp;#x26;logo=cplusplus&amp;#x26;logoColor=ffffff&quot; alt=&quot;cplusplus&quot;&gt;
&lt;img src=&quot;http://img.shields.io/badge/-python-3776AB?style=flat-square&amp;#x26;logo=python&amp;#x26;logoColor=ffffff&quot; alt=&quot;python&quot;&gt;
&lt;img src=&quot;http://img.shields.io/badge/-ASM-6E4C37?style=flat-square&amp;#x26;logo=assemblyscript&amp;#x26;logoColor=ffffff&quot; alt=&quot;asm&quot;&gt;
&lt;img src=&quot;https://img.shields.io/badge/-Markdown-000000?style=flat-square&amp;#x26;logo=markdown&quot; alt=&quot;Markdown&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://img.shields.io/badge/-imx6ull-03234B?style=flat-square&amp;#x26;logo=nxp&amp;#x26;logoColor=ffffff&quot; alt=&quot;nxp&quot;&gt;
&lt;img src=&quot;https://img.shields.io/badge/-Raspberry%20Pi-C51A4A?style=flat-square&amp;#x26;logo=Raspberry-Pi&amp;#x26;link=https://github.com/LuizCarlosAbbott/&quot; alt=&quot;Raspberry Pi&quot;&gt;
&lt;img src=&quot;https://img.shields.io/badge/-Arduino-black?style=flat-square&amp;#x26;logo=Arduino&amp;#x26;link=https://github.com/LuizCarlosAbbott/&quot; alt=&quot;Arduino&quot;&gt;
&lt;img src=&quot;http://img.shields.io/badge/-ESP32%20&amp;#x26;%20ESP8266-E7352C?style=flat-square&amp;#x26;logo=espressif&amp;#x26;logoColor=ffffff&quot; alt=&quot;espressif&quot;&gt;
&lt;img src=&quot;http://img.shields.io/badge/-STM32-03234B?style=flat-square&amp;#x26;logo=stmicroelectronics&amp;#x26;logoColor=ffffff&quot; alt=&quot;stmicroelectronics&quot;&gt;
&lt;img src=&quot;http://img.shields.io/badge/-rk3568%20&amp;#x26;%20rk3588-F40027?style=flat-square&amp;#x26;logo=kfc&amp;#x26;logoColor=ffffff&quot; alt=&quot;rockchip&quot;&gt;
&lt;img src=&quot;http://img.shields.io/badge/-f1c200s-FBC817?style=flat-square&amp;#x26;logo=mcdonalds&amp;#x26;logoColor=ffffff&quot; alt=&quot;allwinner&quot;&gt;
&lt;img src=&quot;http://img.shields.io/badge/-Linux-FCC624?style=flat-square&amp;#x26;logo=linux&amp;#x26;logoColor=ffffff&quot; alt=&quot;linux&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img.shields.io/badge/-Git-%23F05032?style=flat-square&amp;#x26;logo=git&amp;#x26;logoColor=%23ffffff&quot; alt=&quot;Git&quot;&gt;
&lt;img src=&quot;https://img.shields.io/badge/-GitLab-FCA121?style=flat-square&amp;#x26;logo=gitlab&quot; alt=&quot;GitLab&quot;&gt;
&lt;img src=&quot;https://img.shields.io/badge/-GitHub-181717?style=flat-square&amp;#x26;logo=github&quot; alt=&quot;GitHub&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://img.shields.io/badge/-VS%20Code-007ACC?style=flat-square&amp;#x26;logo=visual-studio-code&amp;#x26;logoColor=ffffff&quot; alt=&quot;VS Code&quot;&gt;
&lt;img src=&quot;http://img.shields.io/badge/-PyCharm-000000?style=flat-square&amp;#x26;logo=pycharm&amp;#x26;logoColor=ffffff&quot; alt=&quot;PyCharm&quot;&gt;
&lt;img src=&quot;http://img.shields.io/badge/-CLion-000000?style=flat-square&amp;#x26;logo=clion&amp;#x26;logoColor=ffffff&quot; alt=&quot;CLion&quot;&gt;
&lt;img src=&quot;http://img.shields.io/badge/-Keil-394049?style=flat-square&amp;#x26;logo=armkeil&amp;#x26;logoColor=ffffff&quot; alt=&quot;armkeil&quot;&gt;
&lt;img src=&quot;http://img.shields.io/badge/-Vim-019733?style=flat-square&amp;#x26;logo=vim&amp;#x26;logoColor=ffffff&quot; alt=&quot;vim&quot;&gt;
&lt;img src=&quot;https://img.shields.io/badge/-Docker-black?style=flat-square&amp;#x26;logo=docker&quot; alt=&quot;Docker&quot;&gt;
&lt;img src=&quot;http://img.shields.io/badge/-GNU%20Bash-000000?style=flat-square&amp;#x26;logo=gnu-bash&amp;#x26;logoColor=ffffff&quot; alt=&quot;GNU Bash&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://img.shields.io/badge/-Ubuntu-E95420?style=flat-square&amp;#x26;logo=ubuntu&amp;#x26;logoColor=ffffff&quot; alt=&quot;Ubuntu&quot;&gt;
&lt;img src=&quot;http://img.shields.io/badge/-Windows-0078D6?style=flat-square&amp;#x26;logo=windows11&amp;#x26;logoColor=ffffff&quot; alt=&quot;Windows&quot;&gt;&lt;/p&gt;
&lt;!-- Its main projects --&gt;
&lt;!-- Your github readme stats
You can use this api: https://github.com/anuraghazra/github-readme-stats
--&gt;
 &lt;!-- Your languages and tools. Be careful with the alignment. 
  You can use this sites to get logos: https://www.vectorlogo.zone or https://simpleicons.org/
  --&gt;
&lt;!-- This readme was created by Murillo Comino - https://github.com/onimur --&gt;
&lt;p&gt;â­ï¸ From &lt;a href=&quot;https://github.com/joker001014&quot;&gt;JokerDebug&lt;/a&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[ã€å“ˆå·¥å¤§_æ“ä½œç³»ç»Ÿå®éªŒã€‘Lab9 procæ–‡ä»¶ç³»ç»Ÿçš„å®ç°]]></title><description><![CDATA[Githubä»£ç ä»“åº“é“¾æ¥ æœ¬èŠ‚å°†æ›´æ–°å“ˆå·¥å¤§ã€Šæ“ä½œç³»ç»Ÿã€‹è¯¾ç¨‹ç¬¬ä¹ä¸ª Lab å®éªŒ procâ€¦]]></description><link>https://gatsbystarterblogsource.gatsbyjs.io/018_HIT_OS_Lab9/</link><guid isPermaLink="false">https://gatsbystarterblogsource.gatsbyjs.io/018_HIT_OS_Lab9/</guid><pubDate>Mon, 28 Oct 2024 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;a href=&quot;https://github.com/Joker001014/HIT-OSlab&quot;&gt;Githubä»£ç ä»“åº“é“¾æ¥&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æœ¬èŠ‚å°†æ›´æ–°å“ˆå·¥å¤§ã€Šæ“ä½œç³»ç»Ÿã€‹è¯¾ç¨‹ç¬¬ä¹ä¸ª Lab å®éªŒ &lt;strong&gt;procæ–‡ä»¶ç³»ç»Ÿçš„å®ç°&lt;/strong&gt;ã€‚æŒ‰ç…§å®éªŒä¹¦è¦æ±‚ï¼Œä»‹ç»äº†éå¸¸è¯¦ç»†çš„å®éªŒæ“ä½œæµç¨‹ï¼Œå¹¶æä¾›äº†è¶…çº§æ— æ•Œè¯¦ç»†çš„ä»£ç æ³¨é‡Šã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å®éªŒç›®çš„ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;æŒæ¡è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿçš„å®ç°åŸç†ï¼›&lt;/li&gt;
&lt;li&gt;å®è·µæ–‡ä»¶ã€ç›®å½•ã€æ–‡ä»¶ç³»ç»Ÿç­‰æ¦‚å¿µã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;å®éªŒä»»åŠ¡ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;åœ¨ Linux 0.11 ä¸Šå®ç° procfsï¼ˆproc æ–‡ä»¶ç³»ç»Ÿï¼‰å†…çš„ psinfo ç»“ç‚¹ã€‚å½“è¯»å–æ­¤ç»“ç‚¹çš„å†…å®¹æ—¶ï¼Œå¯å¾—åˆ°ç³»ç»Ÿå½“å‰æ‰€æœ‰è¿›ç¨‹çš„çŠ¶æ€ä¿¡æ¯ã€‚ä¾‹å¦‚ï¼Œç”¨ cat å‘½ä»¤æ˜¾ç¤º /proc/psinfo çš„å†…å®¹ï¼Œå¯å¾—åˆ°ï¼š&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 455px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/2a1389925599264c281aad7fc60bbeb9/379c3/1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 39.87341772151899%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAABm0lEQVR42pWS204aQRyH9wV6o6aCUcpyWsBFYKkPYAwxnnqythIWl7XFBtqi8dpEowYSE3vTmBYUJbW9atpnaHyW+gwcAnwdxitvJJ1kMpnD75vvPxmlXD5iLbWKZZu8zdlY2TS5zTfYGxlK5UP+tym2ncHnd+PxuXg8HSNuRAhPBggEPSSTM5RKR3wsFli30hSL79nZ2RJjgazI5TY32Nr+IPfzhXfs7++i5PM5VHWcUNjPVDQsocGQDy3oxUhEcHsm6F96dlbhsl7j+48r6vULTk8/U6l85erbpVyvXZzz+9dPlGzWZNQxTCyu4xbgmDD0C+PEdBzD0Bl1jnBeq8pyOp3O4JIty8QhQpGpEF7fI2mpCisjEUXXNcYnnFSrX+ThVqslofd1+YYul0Ma9svsAwOah2hMl6X7Ayonn44lsNvrDTZcffWcoeEHIuwVNg8lwDk2IoCTaJoq7RcW57i5+SsDvQFQ5eBgj+TcLGnzNctPFkiJL7S0PC/mKVZePuPFylPMzBrX139uLbvdO4B2u02z2ZS90WjwD0k4r/tp2CHLAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/2a1389925599264c281aad7fc60bbeb9/379c3/1.png&quot;
        srcset=&quot;/blog/static/2a1389925599264c281aad7fc60bbeb9/c26ae/1.png 158w,
/blog/static/2a1389925599264c281aad7fc60bbeb9/6bdcf/1.png 315w,
/blog/static/2a1389925599264c281aad7fc60bbeb9/379c3/1.png 455w&quot;
        sizes=&quot;(max-width: 455px) 100vw, 455px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;cat&lt;/code&gt;ï¼šæ˜¾ç¤ºæ–‡ä»¶å†…å®¹ã€å°†æ–‡ä»¶å†…å®¹åˆå¹¶è¾“å‡ºåˆ°ç»ˆç«¯æˆ–å…¶ä»–æ–‡ä»¶ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;procfsï¼Œå®ƒæ˜¯ä¸€ä¸ª&lt;code class=&quot;language-text&quot;&gt;è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿ&lt;/code&gt;ï¼Œé€šå¸¸è¢« mountï¼ˆæŒ‚è½½ï¼‰ åˆ° /proc ç›®å½•ä¸Šï¼Œé€šè¿‡è™šæ‹Ÿæ–‡ä»¶å’Œè™šæ‹Ÿç›®å½•çš„æ–¹å¼æä¾›è®¿é—®ç³»ç»Ÿå‚æ•°çš„æœºä¼šï¼›&lt;/li&gt;
&lt;li&gt;è¿™äº›è™šæ‹Ÿçš„æ–‡ä»¶å’Œç›®å½•å¹¶æ²¡æœ‰çœŸå®åœ°å­˜åœ¨åœ¨ç£ç›˜ä¸Šï¼Œè€Œæ˜¯å†…æ ¸ä¸­å„ç§æ•°æ®çš„ä¸€ç§ç›´è§‚è¡¨ç¤ºï¼Œæ˜¯å®Œå…¨å­˜åœ¨äºå†…å­˜ä¸­çš„ã€‚è™½ç„¶æ˜¯è™šæ‹Ÿçš„ï¼Œä½†å®ƒä»¬éƒ½å¯ä»¥é€šè¿‡æ ‡å‡†çš„ç³»ç»Ÿè°ƒç”¨ï¼ˆopen()ã€read() ç­‰ï¼‰è®¿é—®ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;å®ç°æ€è·¯ï¼š
Linux 0.11 ä½¿ç”¨çš„æ˜¯ Minix çš„æ–‡ä»¶ç³»ç»Ÿï¼Œè¿™æ˜¯ä¸€ä¸ªå…¸å‹çš„åŸºäº inode çš„æ–‡ä»¶ç³»ç»Ÿï¼Œã€Šæ³¨é‡Šã€‹ä¸€ä¹¦å¯¹å®ƒæœ‰è¯¦ç»†æè¿°ã€‚å®ƒçš„æ¯ä¸ªæ–‡ä»¶éƒ½è¦å¯¹åº”è‡³å°‘ä¸€ä¸ª inodeï¼Œè€Œ &lt;code class=&quot;language-text&quot;&gt;inode&lt;/code&gt; ä¸­è®°å½•ç€æ–‡ä»¶çš„å„ç§å±æ€§ï¼ŒåŒ…æ‹¬æ–‡ä»¶ç±»å‹ã€‚æ–‡ä»¶ç±»å‹æœ‰æ™®é€šæ–‡ä»¶ã€ç›®å½•ã€å­—ç¬¦è®¾å¤‡æ–‡ä»¶å’Œ 9b å—è®¾å¤‡æ–‡ä»¶ç­‰ã€‚åœ¨å†…æ ¸ä¸­ï¼Œæ¯ç§ç±»å‹çš„æ–‡ä»¶éƒ½æœ‰ä¸åŒçš„å¤„ç†å‡½æ•°ä¸ä¹‹å¯¹åº”ã€‚æˆ‘ä»¬å¯ä»¥å¢åŠ ä¸€ç§æ–°çš„æ–‡ä»¶ç±»å‹â€”â€”proc æ–‡ä»¶ï¼Œå¹¶åœ¨ç›¸åº”çš„å¤„ç†å‡½æ•°å†…å®ç° procfs è¦å®ç°çš„åŠŸèƒ½ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;ä¸€ã€å¢åŠ  proc æ–‡ä»¶&lt;/h3&gt;
&lt;p&gt;1ã€åœ¨ &lt;code class=&quot;language-text&quot;&gt;include/sys/stat.h&lt;/code&gt; æ–‡ä»¶å®šä¹‰ä¸­æ–°å¢ &lt;code class=&quot;language-text&quot;&gt;proc&lt;/code&gt; æ–‡ä»¶çš„ å®å®šä¹‰ å’Œ æµ‹è¯•å®ï¼š&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;h&quot;&gt;&lt;pre class=&quot;language-h&quot;&gt;&lt;code class=&quot;language-h&quot;&gt;//procæ–‡ä»¶çš„å®å®šä¹‰/å®å‡½æ•° 
#define S_IFPROC 0030000 
#define S_ISPROC(m) (((m) &amp;amp; S_IFMT) == S_IFPROC) //æµ‹è¯•mæ˜¯å¦æ˜¯procæ–‡ä»¶&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;2ã€ä¿®æ”¹ &lt;code class=&quot;language-text&quot;&gt;fs/namei.c&lt;/code&gt; æ–‡ä»¶ï¼Œè®©&lt;code class=&quot;language-text&quot;&gt;mknod()&lt;/code&gt; æ”¯æŒæ–°çš„æ–‡ä»¶ç±»å‹&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;åœ¨ &lt;code class=&quot;language-text&quot;&gt;proc&lt;/code&gt; ç›®å½•ä¸‹åˆ›å»º&lt;code class=&quot;language-text&quot;&gt;psinfo&lt;/code&gt;ã€&lt;code class=&quot;language-text&quot;&gt;hdinfo&lt;/code&gt;ã€&lt;code class=&quot;language-text&quot;&gt;inodeinfo&lt;/code&gt;ç­‰æ–‡ä»¶ï¼Œéœ€è¦è°ƒç”¨&lt;code class=&quot;language-text&quot;&gt;mknod&lt;/code&gt; å‡½æ•° -&gt; &lt;code class=&quot;language-text&quot;&gt;sys_mknod&lt;/code&gt; å‡½æ•°ï¼Œåˆ™éœ€è¦è®©å®ƒæ”¯æŒæ–°çš„æ–‡ä»¶ç±»å‹ï¼ŒæˆåŠŸåˆ›å»º&lt;code class=&quot;language-text&quot;&gt;inode&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;sys_mknod&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; filename&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; mode&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; dev&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;//  ....&lt;/span&gt;
	inode&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;i_mode &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; mode&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;S_ISBLK&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;mode&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;S_ISCHR&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;mode&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;S_ISPROC&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;mode&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        inode&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;i_zone&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; dev&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    inode&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;i_mtime &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; inode&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;i_atime &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; CURRENT_TIME&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;3ã€ä¿®æ”¹ &lt;code class=&quot;language-text&quot;&gt;init/main.c&lt;/code&gt; æ–‡ä»¶ï¼Œåˆ›å»ºè¿›ç¨‹&lt;code class=&quot;language-text&quot;&gt;proc&lt;/code&gt;æ–‡ä»¶
procfs çš„åˆå§‹åŒ–å·¥ä½œåº”è¯¥åœ¨æ ¹æ–‡ä»¶ç³»ç»ŸæŒ‚è½½ä¹‹åå¼€å§‹ï¼ŒåŒ…æ‹¬ä¸¤ä¸ªæ­¥éª¤ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å»ºç«‹ /proc ç›®å½•ï¼Œé€šè¿‡ç”¨æˆ·æ€è°ƒç”¨&lt;code class=&quot;language-text&quot;&gt;mkdir()&lt;/code&gt; -&gt; &lt;code class=&quot;language-text&quot;&gt;sys_mkdir()&lt;/code&gt;ï¼›&lt;/li&gt;
&lt;li&gt;å»ºç«‹ /proc ç›®å½•ä¸‹çš„å„ä¸ªç»“ç‚¹ï¼Œé€šè¿‡ç”¨æˆ·æ€è°ƒç”¨&lt;code class=&quot;language-text&quot;&gt;mknod()&lt;/code&gt; -&gt; &lt;code class=&quot;language-text&quot;&gt;sys_mknod()&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;
&lt;span class=&quot;token comment&quot;&gt;/* æ–°å¢ç”¨æˆ·æ€æ¥å£ mkdir å’Œ mknode ç³»ç»Ÿè°ƒç”¨*/&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;_syscall2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;mkdir&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;char&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;mode_t&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;mode&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;_syscall3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;mknod&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;filename&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;mode_t&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;mode&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;dev_t&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;dev&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; pid&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token function&quot;&gt;setup&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt;drive_info&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;open&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;/dev/tty0&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;O_RDWR&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;dup&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;dup&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;/* åˆ›å»ºprocç›®å½• å’Œ æ–‡ä»¶ */&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;mkdir&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;/proc&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0755&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;mknod&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;/proc/psinfo&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;S_IFPROC&lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0444&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;mknod&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;/proc/hdinfo&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;S_IFPROC&lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0444&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;mknod&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;/proc/inodeinfo&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;S_IFPROC&lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0444&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;//  ....&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;å‚æ•° &lt;code class=&quot;language-text&quot;&gt;0755&lt;/code&gt;ï¼ˆå¯¹åº” rwxr-xr-xï¼‰ï¼Œè¡¨ç¤ºåªå…è®¸ root ç”¨æˆ·æ”¹å†™æ­¤ç›®å½•&lt;/li&gt;
&lt;li&gt;å‚æ•° &lt;code class=&quot;language-text&quot;&gt;S_IFPROC|0444&lt;/code&gt; åšä¸º mode å€¼ï¼Œè¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ª proc æ–‡ä»¶ï¼Œæƒé™ä¸º 0444ï¼ˆr--r--r--ï¼‰ï¼Œå¯¹æ‰€æœ‰ç”¨æˆ·åªè¯»ã€‚&lt;/li&gt;
&lt;li&gt;mknod() çš„ç¬¬ä¸‰ä¸ªå‚æ•° &lt;code class=&quot;language-text&quot;&gt;dev&lt;/code&gt; ç”¨æ¥è¯´æ˜ç»“ç‚¹æ‰€ä»£è¡¨çš„è®¾å¤‡ç¼–å·ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;æ­¤æ—¶è‹¥è°ƒç”¨ &lt;code class=&quot;language-text&quot;&gt;cat /proc/psinfo&lt;/code&gt; ä¼šæŠ¥é”™ï¼Œå› ä¸ºå†…æ ¸åœ¨å¯¹ psinfo è¿›è¡Œè¯»æ“ä½œæ—¶ä¸èƒ½æ­£ç¡®å¤„ç†ï¼Œæ‰€ä»¥è¿˜è¦åˆ›å»º &lt;code class=&quot;language-text&quot;&gt;proc_read&lt;/code&gt; å‡½æ•°ï¼Œå¹¶åœ¨ &lt;code class=&quot;language-text&quot;&gt;sys_read()&lt;/code&gt; ä¸­æ‰“è¡¥ä¸ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;äºŒã€å®ç° proc æ–‡ä»¶å¯è¯»&lt;/h3&gt;
&lt;p&gt;1ã€åˆ›å»º &lt;code class=&quot;language-text&quot;&gt;fs/proc.c&lt;/code&gt; æ–‡ä»¶ï¼Œå®ç°æ ¹æ®è®¾å¤‡ç¼–å·ï¼ŒæŠŠä¸åŒçš„å†…å®¹å†™å…¥åˆ°ç”¨æˆ·ç©ºé—´çš„ bufï¼Œä½¿å¾— &lt;code class=&quot;language-text&quot;&gt;cat&lt;/code&gt; æŒ‡ä»¤å¯ä»¥æ­£ç¡®è·å– &lt;code class=&quot;language-text&quot;&gt;proc&lt;/code&gt; æ–‡ä»¶å†…å®¹ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;lt;linux/kernel.h&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;lt;linux/sched.h&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;lt;asm/segment.h&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;lt;linux/fs.h&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;lt;stdarg.h&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;lt;unistd.h&gt;&lt;/span&gt;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// å†…è”æ±‡ç¼–å®šä¹‰ä¸€ä¸ªå®ï¼Œç”¨äºåœ¨ä½å›¾ä¸­æµ‹è¯•ç‰¹å®šä½æ˜¯å¦è¢«è®¾ç½®&lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;define&lt;/span&gt; &lt;span class=&quot;token macro-name function&quot;&gt;set_bit&lt;/span&gt;&lt;span class=&quot;token expression&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;bitnr&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;addr&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
&lt;span class=&quot;token expression&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;register&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; __res &lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
&lt;span class=&quot;token expression&quot;&gt;&lt;span class=&quot;token function&quot;&gt;__asm__&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;bt %2,%3;setb %%al&quot;&lt;/span&gt;&lt;span class=&quot;token expression&quot;&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;=a&quot;&lt;/span&gt; &lt;span class=&quot;token expression&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;__res&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;a&quot;&lt;/span&gt; &lt;span class=&quot;token expression&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;r&quot;&lt;/span&gt; &lt;span class=&quot;token expression&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;bitnr&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;m&quot;&lt;/span&gt; &lt;span class=&quot;token expression&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;addr&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
&lt;span class=&quot;token expression&quot;&gt;__res&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// å®šä¹‰ä¸€ä¸ªç¼“å†²åŒºï¼Œç”¨äºå­˜å‚¨è¿›ç¨‹ã€ç¡¬ç›˜æˆ– inode ä¿¡æ¯ï¼Œå¤§å°ä¸º 4096 å­—èŠ‚&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;char&lt;/span&gt; proc_buf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;4096&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token char&quot;&gt;&apos;\0&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// å£°æ˜ä¸€ä¸ªå¤–éƒ¨å‡½æ•° vsprintfï¼Œç”¨äºå°†æ ¼å¼åŒ–è¾“å‡ºå†™å…¥å­—ç¬¦ä¸²&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;extern&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;vsprintf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; buf&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; fmt&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; va_list args&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;//Linux0.11æ²¡æœ‰sprintf()ï¼Œè¯¥å‡½æ•°æ˜¯ç”¨äºè¾“å‡ºç»“æœåˆ°å­—ç¬¦ä¸²ä¸­çš„ï¼Œæ‰€ä»¥å°±å®ç°ä¸€ä¸ªï¼Œè¿™é‡Œæ˜¯é€šè¿‡vsprintf()å®ç°çš„ã€‚&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;sprintf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;buf&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;fmt&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    va_list args&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; i&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;va_start&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;args&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; fmt&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    i&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;vsprintf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;buf&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; fmt&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; args&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;va_end&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;args&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; i&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// è·å–è¿›ç¨‹ä¿¡æ¯å‡½æ•°ï¼Œå¹¶å°†å…¶æ ¼å¼åŒ–å†™å…¥ proc_buf&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;get_psinfo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; read &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    read &lt;span class=&quot;token operator&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;sprintf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;proc_buf&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;read&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;%s&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;pid\tstate\tfather\tcounter\tstart_time\n&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;task_struct&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;p&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// éå†æ‰€æœ‰è¿›ç¨‹&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;p &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt;FIRST_TASK &lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; p &lt;span class=&quot;token operator&quot;&gt;&amp;lt;=&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt;LAST_TASK &lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;p&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
     &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;p &lt;span class=&quot;token operator&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
     &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	     &lt;span class=&quot;token comment&quot;&gt;// è¿›ç¨‹ID è¿›ç¨‹çŠ¶æ€ çˆ¶è¿›ç¨‹ID æ—¶é—´ç‰‡ å¯åŠ¨æ—¶é—´&lt;/span&gt;
         read &lt;span class=&quot;token operator&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;sprintf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;proc_buf&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;read&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;%d\t&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;p&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;pid&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
         read &lt;span class=&quot;token operator&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;sprintf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;proc_buf&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;read&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;%d\t&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;p&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;state&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
         read &lt;span class=&quot;token operator&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;sprintf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;proc_buf&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;read&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;%d\t&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;p&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;father&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
         read &lt;span class=&quot;token operator&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;sprintf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;proc_buf&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;read&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;%d\t&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;p&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;counter&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
         read &lt;span class=&quot;token operator&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;sprintf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;proc_buf&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;read&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;%d\n&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;p&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;start_time&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
     &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
     &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; read&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// è·å–ç¡¬ç›˜ä¿¡æ¯ï¼ˆå‚è€ƒfs/super.c mount_root()å‡½æ•°ï¼‰&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;get_hdinfo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; read &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; i&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;used&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;super_block&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; sb&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    sb&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;get_super&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x301&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  &lt;span class=&quot;token comment&quot;&gt;/*ç£ç›˜è®¾å¤‡å· 3*256+1*/&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;/*Blocksä¿¡æ¯ï¼šæ€»å—æ•°ã€å·²ç”¨å—æ•°ã€ç©ºé—²å—æ•°*/&lt;/span&gt; 
    read &lt;span class=&quot;token operator&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;sprintf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;proc_buf&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;read&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Total blocks:%d\n&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;sb&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;s_nzones&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    used &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    i&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;sb&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;s_nzones&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;i &lt;span class=&quot;token operator&quot;&gt;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;set_bit&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;i&lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;8191&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;sb&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;s_zmap&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token operator&quot;&gt;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;13&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;b_data&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
            used&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    read &lt;span class=&quot;token operator&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;sprintf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;proc_buf&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;read&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Used blocks:%d\n&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;used&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    read &lt;span class=&quot;token operator&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;sprintf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;proc_buf&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;read&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Free blocks:%d\n&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;sb&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;s_nzones&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;used&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;/*Inodes ä¿¡æ¯ï¼šinodeæ•°é‡ã€å·²ç”¨/ç©ºé—²inodeæ•°é‡*/&lt;/span&gt;
    read &lt;span class=&quot;token operator&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;sprintf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;proc_buf&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;read&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Total inodes:%d\n&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;sb&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;s_ninodes&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    used &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    i&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;sb&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;s_ninodes&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;i &lt;span class=&quot;token operator&quot;&gt;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;set_bit&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;i&lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;8191&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;sb&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;s_imap&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token operator&quot;&gt;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;13&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;b_data&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
            used&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    read &lt;span class=&quot;token operator&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;sprintf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;proc_buf&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;read&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Used inodes:%d\n&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;used&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    read &lt;span class=&quot;token operator&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;sprintf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;proc_buf&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;read&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Free inodes:%d\n&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;sb&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;s_ninodes&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;used&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
     &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; read&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// è·å–inodeä¿¡æ¯ï¼Œinode å·å’Œç¬¬ä¸€ä¸ªæ•°æ®åŒºå—å·&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;get_inodeinfo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; read &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; i&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;super_block&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; sb&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;m_inode&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;mi&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    sb&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;get_super&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x301&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  &lt;span class=&quot;token comment&quot;&gt;/*ç£ç›˜è®¾å¤‡å· 3*256+1*/&lt;/span&gt;
    i&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;sb&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;s_ninodes&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    i&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;i &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; sb&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;s_ninodes&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;set_bit&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;i&lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;8191&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;sb&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;s_imap&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token operator&quot;&gt;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;13&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;b_data&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            mi &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;iget&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x301&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            read &lt;span class=&quot;token operator&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;sprintf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;proc_buf&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;read&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;inr:%d;zone[0]:%d\n&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;mi&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;i_num&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;mi&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;i_zone&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;token function&quot;&gt;iput&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;mi&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;read &lt;span class=&quot;token operator&quot;&gt;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;4000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; 
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
     &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; read&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// procæ–‡ä»¶è¯»å–å‡½æ•°ï¼Œæ ¹æ®è®¾å¤‡å·å†³å®šè¯»å–ä¿¡æ¯ï¼Œå¹¶å°†è¯»å–çš„ä¿¡æ¯å¤åˆ¶åˆ°ç”¨æˆ·ç©ºé—´çš„ç¼“å†²åŒº&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;proc_read&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; dev&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;unsigned&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;long&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; pos&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; buf&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; count&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    
     &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; i&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;pos &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1024&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;dev &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;token function&quot;&gt;get_psinfo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;dev &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;token function&quot;&gt;get_hdinfo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;dev &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;token function&quot;&gt;get_inodeinfo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
     &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;i&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;i&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;count&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;i&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
     &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
         &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;proc_buf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;pos &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token char&quot;&gt;&apos;\0&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;  
          &lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; 
         &lt;span class=&quot;token function&quot;&gt;put_fs_byte&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;proc_buf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;pos&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;buf &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; i&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;pos&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
     &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
     &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;pos &lt;span class=&quot;token operator&quot;&gt;+=&lt;/span&gt; i&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
     &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; i&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;2ã€ä¿®æ”¹ &lt;code class=&quot;language-text&quot;&gt;fs/Makefile&lt;/code&gt; æ–‡ä»¶ä¸­çš„ç¼–è¯‘è§„åˆ™ï¼š&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;makefile&quot;&gt;&lt;pre class=&quot;language-makefile&quot;&gt;&lt;code class=&quot;language-makefile&quot;&gt;OBJS&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;	open.o read_write.o inode.o file_table.o buffer.o super.o \
	block_dev.o char_dev.o file_dev.o stat.o exec.o pipe.o namei.o \
	bitmap.o fcntl.o ioctl.o truncate.o proc.o
	
//......
&lt;span class=&quot;token comment&quot;&gt;### Dependencies:&lt;/span&gt;
&lt;span class=&quot;token target symbol&quot;&gt;proc.o&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; proc.c ../&lt;span class=&quot;token keyword&quot;&gt;include&lt;/span&gt;/linux/kernel.h ../&lt;span class=&quot;token keyword&quot;&gt;include&lt;/span&gt;/linux/sched.h \
  ../&lt;span class=&quot;token keyword&quot;&gt;include&lt;/span&gt;/linux/head.h ../&lt;span class=&quot;token keyword&quot;&gt;include&lt;/span&gt;/linux/fs.h ../&lt;span class=&quot;token keyword&quot;&gt;include&lt;/span&gt;/sys/types.h \
  ../&lt;span class=&quot;token keyword&quot;&gt;include&lt;/span&gt;/linux/mm.h ../&lt;span class=&quot;token keyword&quot;&gt;include&lt;/span&gt;/signal.h ../&lt;span class=&quot;token keyword&quot;&gt;include&lt;/span&gt;/asm/segment.h&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;3ã€ä¿®æ”¹ &lt;code class=&quot;language-text&quot;&gt;fs/read_write.c&lt;/code&gt; æ–‡ä»¶ï¼Œåœ¨ &lt;code class=&quot;language-text&quot;&gt;sys_read&lt;/code&gt; ä¸­æ·»åŠ å¯¹ &lt;code class=&quot;language-text&quot;&gt;proc&lt;/code&gt; æ–‡ä»¶çš„å¤„ç†å‡½æ•°è¡¥ä¸ï¼Œè¿™æ ·&lt;code class=&quot;language-text&quot;&gt;cat&lt;/code&gt;æŒ‡ä»¤æ‰èƒ½æˆåŠŸè¯»åˆ°å†…å®¹ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;/*æ–°å¢proc_readå‡½æ•°å¤–éƒ¨è°ƒç”¨*/&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;extern&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;proc_read&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; dev&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;char&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; buf&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; count&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;unsigned&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;long&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;pos&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;sys_read&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;unsigned&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; fd&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; buf&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; count&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;//  ....&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;inode&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;i_pipe&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;file&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;f_mode&lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;read_pipe&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;inode&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;buf&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;count&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;EIO&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;/*æ–°å¢proc_readè°ƒç”¨*/&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;S_ISPROC&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;inode&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;i_mode&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;proc_read&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;inode&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;i_zone&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt;file&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;f_pos&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;buf&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;count&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        
&lt;span class=&quot;token comment&quot;&gt;//  ....&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;inode-&gt;i_zone[0]ï¼Œè¿™å°±æ˜¯ mknod() æ—¶æŒ‡å®šçš„ dev ï¼šè®¾å¤‡ç¼–å·&lt;/li&gt;
&lt;li&gt;&amp;#x26;file-&gt;f_posï¼Œf_pos æ˜¯ä¸Šä¸€æ¬¡è¯»æ–‡ä»¶ç»“æŸæ—¶â€œæ–‡ä»¶ä½ç½®æŒ‡é’ˆâ€çš„æŒ‡å‘&lt;/li&gt;
&lt;li&gt;bufï¼ŒæŒ‡å‘ç”¨æˆ·ç©ºé—´ï¼Œå°±æ˜¯ read() çš„ç¬¬äºŒä¸ªå‚æ•°ï¼Œç”¨æ¥æ¥æ”¶æ•°æ®&lt;/li&gt;
&lt;li&gt;countï¼Œå°±æ˜¯ read() çš„ç¬¬ä¸‰ä¸ªå‚æ•°ï¼Œè¯´æ˜ buf æŒ‡å‘çš„ç¼“å†²åŒºå¤§å°&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;ä¸‰ã€ç¼–è¯‘å¹¶è¿è¡Œ&lt;/h3&gt;
&lt;p&gt;1ã€ç¼–è¯‘å¹¶è¿è¡Œ&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;cd&lt;/span&gt; oslab_Lab8/linux-0.11
&lt;span class=&quot;token function&quot;&gt;make&lt;/span&gt; all
&lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;/run&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;2ã€æµ‹è¯•ç»“æœ&lt;/p&gt;
&lt;p&gt;åœ¨ Bochs ä¸­è¿›è¡Œæµ‹è¯•ï¼š&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bochs&quot;&gt;&lt;pre class=&quot;language-bochs&quot;&gt;&lt;code class=&quot;language-bochs&quot;&gt;cat /proc/psinfo
cat /proc/hdinfo
cat /proc/inodeinfo&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 404px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/e19e2cf16ffa7f8df55608c8d5206ea0/494f9/2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 63.92405063291139%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsTAAALEwEAmpwYAAABfUlEQVR42oWSWY+CQBCEwfvk8gAFDJcaYzT+8vXFRGMiIaLrk/6m/WRcdnU3sR4mxdjV1V2OZJnW0B4ahmHbtud5pmn2ej0+gyCwLItPLn3fr1QqhUKhWq2WSiU4RAKB59frdYiu65RyUoTMcRxN09rt9jCDqqrdbpdLRVEgVN7FuqZLGfgZGYSz0+kITimNRAGaYrEo/YaqKILgKYZhMBrJsgzHGU1e0Gw2X8Rq7owMQnvlu2Oj0WAKwQnlMW0OQzcwJIN+v8+S5XK5VqvRCBMIStIShhQQnjB4YOSOAEmIVAeDwXg8jqIIwsyMytiEL7Z4RRRGrutSGoahIIvFgi5/K+UMT1eBH7AMkWIoyGq14pSfIf0LnJmZ3abTKYYstlwuGUH8VW+AGAGvaj6fQxh7Mpnkab+B69wT4w3NZjNyogvKVqtFqpiLgQXJn9DPIuuP9e12u1wuSZKkGTabzfF43O/3nxmu12scx6fT6XA4wHe73fl83m63aZp+AfChTvc56uDRAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/e19e2cf16ffa7f8df55608c8d5206ea0/494f9/2.png&quot;
        srcset=&quot;/blog/static/e19e2cf16ffa7f8df55608c8d5206ea0/c26ae/2.png 158w,
/blog/static/e19e2cf16ffa7f8df55608c8d5206ea0/6bdcf/2.png 315w,
/blog/static/e19e2cf16ffa7f8df55608c8d5206ea0/494f9/2.png 404w&quot;
        sizes=&quot;(max-width: 404px) 100vw, 404px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[ã€å“ˆå·¥å¤§_æ“ä½œç³»ç»Ÿå®éªŒã€‘Lab8 ç»ˆç«¯è®¾å¤‡çš„æ§åˆ¶]]></title><description><![CDATA[Githubä»£ç ä»“åº“é“¾æ¥ æœ¬èŠ‚å°†æ›´æ–°å“ˆå·¥å¤§ã€Šæ“ä½œç³»ç»Ÿã€‹è¯¾ç¨‹ç¬¬å…«ä¸ª Lab å®éªŒ ç»ˆç«¯è®¾å¤‡çš„æ§åˆ¶ã€‚æŒ‰ç…§å®éªŒä¹¦è¦æ±‚ï¼Œä»‹ç»äº†éå¸¸è¯¦ç»†çš„å®éªŒæ“ä½œæµç¨‹ï¼Œå¹¶æä¾›äº†è¶…çº§æ— æ•Œè¯¦ç»†çš„ä»£ç æ³¨é‡Šã€‚ å®éªŒç›®çš„ï¼š åŠ æ·±å¯¹æ“ä½œç³»ç»Ÿè®¾å¤‡ç®¡ç†åŸºæœ¬åŸç†çš„è®¤è¯†ï¼Œå®è·µé”®ç›˜ä¸­æ–­ã€æ‰«æç ç­‰æ¦‚å¿µï¼› é€šè¿‡å®è·µæŒæ¡ Linuxâ€¦]]></description><link>https://gatsbystarterblogsource.gatsbyjs.io/017_HIT_OS_Lab8/</link><guid isPermaLink="false">https://gatsbystarterblogsource.gatsbyjs.io/017_HIT_OS_Lab8/</guid><pubDate>Mon, 21 Oct 2024 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;a href=&quot;https://github.com/Joker001014/HIT-OSlab&quot;&gt;Githubä»£ç ä»“åº“é“¾æ¥&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æœ¬èŠ‚å°†æ›´æ–°å“ˆå·¥å¤§ã€Šæ“ä½œç³»ç»Ÿã€‹è¯¾ç¨‹ç¬¬å…«ä¸ª Lab å®éªŒ &lt;strong&gt;ç»ˆç«¯è®¾å¤‡çš„æ§åˆ¶&lt;/strong&gt;ã€‚æŒ‰ç…§å®éªŒä¹¦è¦æ±‚ï¼Œä»‹ç»äº†éå¸¸è¯¦ç»†çš„å®éªŒæ“ä½œæµç¨‹ï¼Œå¹¶æä¾›äº†è¶…çº§æ— æ•Œè¯¦ç»†çš„ä»£ç æ³¨é‡Šã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å®éªŒç›®çš„ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;åŠ æ·±å¯¹æ“ä½œç³»ç»Ÿè®¾å¤‡ç®¡ç†åŸºæœ¬åŸç†çš„è®¤è¯†ï¼Œå®è·µé”®ç›˜ä¸­æ–­ã€æ‰«æç ç­‰æ¦‚å¿µï¼›&lt;/li&gt;
&lt;li&gt;é€šè¿‡å®è·µæŒæ¡ Linux 0.11 å¯¹é”®ç›˜ç»ˆç«¯å’Œæ˜¾ç¤ºå™¨ç»ˆç«¯çš„å¤„ç†è¿‡ç¨‹ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;å®éªŒä»»åŠ¡ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;æœ¬å®éªŒçš„åŸºæœ¬å†…å®¹æ˜¯ä¿®æ”¹ Linux 0.11 çš„ç»ˆç«¯è®¾å¤‡å¤„ç†ä»£ç ï¼Œå¯¹é”®ç›˜è¾“å…¥å’Œå­—ç¬¦æ˜¾ç¤ºè¿›è¡Œéå¸¸è§„çš„æ§åˆ¶ã€‚
åœ¨åˆå§‹çŠ¶æ€ï¼Œä¸€åˆ‡å¦‚å¸¸ã€‚ç”¨æˆ·æŒ‰ä¸€æ¬¡ F12 åï¼ŒæŠŠåº”ç”¨ç¨‹åºå‘ç»ˆç«¯è¾“å‡ºæ‰€æœ‰å­—æ¯éƒ½æ›¿æ¢ä¸º&lt;code class=&quot;language-text&quot;&gt;*&lt;/code&gt;ã€‚ç”¨æˆ·å†æŒ‰ä¸€æ¬¡ F12ï¼Œåˆæ¢å¤æ­£å¸¸ã€‚ç¬¬ä¸‰æ¬¡æŒ‰F12ï¼Œå†è¿›è¡Œè¾“å‡ºæ›¿æ¢ã€‚ä¾æ­¤ç±»æ¨ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;æ–‡ä»¶å&lt;/th&gt;
&lt;th&gt;ä»‹ç»&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;hit-æ“ä½œç³»ç»Ÿå®éªŒæŒ‡å¯¼ä¹¦.pdf&lt;/td&gt;
&lt;td&gt;å“ˆå·¥å¤§OSå®éªŒæŒ‡å¯¼ä¹¦&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Linuxå†…æ ¸å®Œå…¨æ³¨é‡Š(ä¿®æ­£ç‰ˆv3.0).pdf&lt;/td&gt;
&lt;td&gt;èµµåšå£«å¯¹Linux v0.11 OSè¿›è¡Œäº†è¯¦ç»†å…¨é¢çš„æ³¨é‡Šå’Œè¯´æ˜&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;file1615.pdf&lt;/td&gt;
&lt;td&gt;BIOS æ¶‰åŠçš„ä¸­æ–­æ•°æ®æ‰‹å†Œ&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;hit-oslab-linux-20110823.tar.gz&lt;/td&gt;
&lt;td&gt;hit-oslab å®éªŒç¯å¢ƒ&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;gcc-3.4-ubuntu.tar.gz&lt;/td&gt;
&lt;td&gt;Linux v0.11 æ‰€ä½¿ç”¨çš„ç¼–è¯‘å™¨&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&quot;https://joker001014.github.io/blog/019_HIT_OS_Bochs&quot;&gt;Bochs æ±‡ç¼–çº§è°ƒè¯•æŒ‡ä»¤&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;bochs åŸºæœ¬è°ƒè¯•æŒ‡ä»¤å¤§å…¨&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&quot;https://blog.csdn.net/yueyueniaolzp/article/details/82178954&quot;&gt;æœ€å…¨ASCIIç å¯¹ç…§è¡¨0-255&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;å±å¹•è¾“å‡ºå­—ç¬¦å¯¹ç…§çš„ ASCII ç &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&quot;https://blog.csdn.net/weixin_53159274/article/details/138074386?spm=1001.2014.3001.5501&quot;&gt;x86_64 å¸¸ç”¨å¯„å­˜å™¨å¤§å…¨&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;x86_64 å¸¸ç”¨å¯„å­˜å™¨å¤§å…¨&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3&gt;ä¸€ã€é”®ç›˜è¾“å…¥å¤„ç†&lt;/h3&gt;
&lt;p&gt;é”®ç›˜ä¸­æ–­å‘ç”Ÿæ­¥éª¤ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;é”®ç›˜ I/O æ˜¯å…¸å‹çš„ä¸­æ–­é©±åŠ¨ï¼Œåœ¨ &lt;code class=&quot;language-text&quot;&gt;kernel/chr_drv/console.c&lt;/code&gt; æ–‡ä»¶ä¸­å°†é”®ç›˜ä¸­æ–­å“åº”å‡½æ•°è®¾ä¸º &lt;code class=&quot;language-text&quot;&gt;keyboard_interrupt&lt;/code&gt;ã€‚æ¯æ¬¡æŒ‰é”®æœ‰åŠ¨ä½œï¼Œ&lt;code class=&quot;language-text&quot;&gt;keyboard_interrupt&lt;/code&gt; å‡½æ•°å°±ä¼šè¢«è°ƒç”¨ï¼Œå‡½æ•°å®šä¹‰åœ¨æ–‡ä»¶ &lt;code class=&quot;language-text&quot;&gt;kernel/chr_drv/keyboard.S&lt;/code&gt;ä¸­ï¼›&lt;/li&gt;
&lt;li&gt;æ ¹æ®æ‰«æç ï¼ŒæŸ¥ &lt;code class=&quot;language-text&quot;&gt;key_table&lt;/code&gt; è¡¨è¿›è¡Œæ‰«æç å¤„ç†ï¼Œè¡¨ä¸­å®šä¹‰äº†ç›¸å…³æ‰€æœ‰æ‰«æç å¯¹åº”é”®çš„å¤„ç†å‡½æ•°ï¼Œæ¯”å¦‚&lt;code class=&quot;language-text&quot;&gt;f1-f12&lt;/code&gt;é”®çš„å¤„ç†åˆ™è¦å…ˆè¿è¡Œä¸€æ®µå¤„ç†å‡½æ•°&lt;code class=&quot;language-text&quot;&gt;func&lt;/code&gt;ï¼›&lt;/li&gt;
&lt;li&gt;å°†æ‰«æç æ”¾åˆ°é”®ç›˜è¾“å…¥é˜Ÿåˆ—ä¸­ï¼Œè°ƒç”¨&lt;code class=&quot;language-text&quot;&gt;do_tty_interrupt&lt;/code&gt;å‡½æ•°è¿›è¡Œå¤„ç†ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;ä¸ºäº†å®ç°æŒ‰&lt;code class=&quot;language-text&quot;&gt;F12&lt;/code&gt;å®ç°åˆ‡æ¢ï¼Œåªéœ€è¦å®šä¹‰ä¸€ä¸ªåˆ‡æ¢å‡½æ•°ï¼Œå¹¶å°†å…¶æ”¾åœ¨&lt;code class=&quot;language-text&quot;&gt;ket_table&lt;/code&gt;ä¸­&lt;code class=&quot;language-text&quot;&gt;F12&lt;/code&gt;å¯¹åº”çš„å¤„ç†å‡½æ•°ä½ç½®å³å¯ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;1ã€ä¿®æ”¹æ–‡ä»¶&lt;code class=&quot;language-text&quot;&gt;linux-0.11/kernel/chr_drv/tty_io.c&lt;/code&gt;ï¼Œå®šä¹‰æ ‡å¿—ä½ï¼Œå®ç°æ¯æŒ‰ä¸‹ä¸€æ¬¡&lt;code class=&quot;language-text&quot;&gt;F12&lt;/code&gt;æ ‡å¿—ä½å°±ä¼šå˜åŒ–ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; switch_show_char_flag &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;press_F12_handle&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    switch_show_char_flag &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; switch_show_char_flag &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;2ã€ä¿®æ”¹&lt;code class=&quot;language-text&quot;&gt;linux-0.11/include/linux/tty.h&lt;/code&gt;æ–‡ä»¶ï¼Œå°†æ ‡å¿—ä½å’Œå‡½æ•°å£°æ˜ä¸ºå…¨å±€ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;extern&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; switch_show_char_flag&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;press_F12_handle&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;3ã€ä¿®æ”¹&lt;code class=&quot;language-text&quot;&gt;linux-0.11/kernel/chr_drv/keyboard.S&lt;/code&gt;æ–‡ä»¶ä¸­&lt;code class=&quot;language-text&quot;&gt;key_table&lt;/code&gt;ä¸­&lt;code class=&quot;language-text&quot;&gt;F12&lt;/code&gt;å¯¹åº”çš„å¤„ç†å‡½æ•°ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;key_table&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;/* .long func,none,none,none         58-5B f12 ? ? ? */&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;long&lt;/span&gt; press_F12_handle&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;none&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;none&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;none &lt;span class=&quot;token comment&quot;&gt;/* 58-5B f12 ? ? ? */&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;äºŒã€å±å¹•è¾“å‡ºæ§åˆ¶&lt;/h3&gt;
&lt;p&gt;å±å¹•è¾“å‡ºè¿‡ç¨‹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;è¾“å‡ºå­—ç¬¦åˆ°å±å¹•ï¼Œç³»ç»Ÿè°ƒç”¨&lt;code class=&quot;language-text&quot;&gt;write&lt;/code&gt;å‡½æ•°æ¥è¿›è¡Œï¼›&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;write&lt;/code&gt;å‡½æ•°åˆ™ä¼šè°ƒç”¨&lt;code class=&quot;language-text&quot;&gt;sys_write&lt;/code&gt;ç³»ç»Ÿè°ƒç”¨æ¥å®ç°å­—ç¬¦è¾“å‡ºï¼›&lt;/li&gt;
&lt;li&gt;ç„¶åå†è°ƒç”¨&lt;code class=&quot;language-text&quot;&gt;tty_write&lt;/code&gt;å‡½æ•°ï¼›&lt;/li&gt;
&lt;li&gt;æœ€ç»ˆè°ƒç”¨&lt;code class=&quot;language-text&quot;&gt;con_write&lt;/code&gt;å‡½æ•°å°†å­—ç¬¦è¾“å‡ºã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;æ•…åªéœ€è¦ä¿®æ”¹&lt;code class=&quot;language-text&quot;&gt;con_write&lt;/code&gt;æœ€ç»ˆå†™åˆ°æ˜¾å­˜ä¸­çš„å­—ç¬¦å°±å¯ä»¥äº†ã€‚å…·ä½“ä¿®æ”¹æ–‡ä»¶&lt;code class=&quot;language-text&quot;&gt;linux-0.11/kernel/chr_drv/console.c&lt;/code&gt;ï¼Œä¿®æ”¹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;con_write&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;tty_struct&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; tty&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;//  ....&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;switch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;state&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;
                &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;c&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;31&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; c&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;127&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;token operator&quot;&gt;&gt;=&lt;/span&gt;video_num_columns&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                        x &lt;span class=&quot;token operator&quot;&gt;-=&lt;/span&gt; video_num_columns&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
                        pos &lt;span class=&quot;token operator&quot;&gt;-=&lt;/span&gt; video_size_row&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
                        &lt;span class=&quot;token function&quot;&gt;lf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
                    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
					&lt;span class=&quot;token comment&quot;&gt;// æ–°å¢ä»£ç ï¼Œè‹¥æ‰«æç ä¸ºå¤§å°å†™å­—æ¯æˆ–è€…æ•°å­—ï¼Œåˆ™æ”¹ä¸º*&lt;/span&gt;
                    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;switch_show_char_flag&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;c&lt;span class=&quot;token operator&quot;&gt;&gt;=&lt;/span&gt;&lt;span class=&quot;token char&quot;&gt;&apos;A&apos;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt;c&lt;span class=&quot;token operator&quot;&gt;&amp;lt;=&lt;/span&gt;&lt;span class=&quot;token char&quot;&gt;&apos;Z&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;c&lt;span class=&quot;token operator&quot;&gt;&gt;=&lt;/span&gt;&lt;span class=&quot;token char&quot;&gt;&apos;a&apos;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt;c&lt;span class=&quot;token operator&quot;&gt;&amp;lt;=&lt;/span&gt;&lt;span class=&quot;token char&quot;&gt;&apos;z&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;c&lt;span class=&quot;token operator&quot;&gt;&gt;=&lt;/span&gt;&lt;span class=&quot;token char&quot;&gt;&apos;0&apos;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt;c&lt;span class=&quot;token operator&quot;&gt;&amp;lt;=&lt;/span&gt;&lt;span class=&quot;token char&quot;&gt;&apos;9&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                            c &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token char&quot;&gt;&apos;*&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
                    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;ä¸‰ã€ç¼–è¯‘å¹¶è¿è¡Œ&lt;/h3&gt;
&lt;p&gt;1ã€ç¼–è¯‘å¹¶è¿è¡Œ&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;cd&lt;/span&gt; oslab_Lab7/linux-0.11
&lt;span class=&quot;token function&quot;&gt;make&lt;/span&gt; all
&lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;/run&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;2ã€æµ‹è¯•ç»“æœ&lt;/p&gt;
&lt;p&gt;åœ¨ Bochs ä¸­è¿›è¡Œæµ‹è¯•ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è‹¥æ²¡æœ‰æŒ‰ä¸‹&lt;code class=&quot;language-text&quot;&gt;F12&lt;/code&gt;ï¼Œè¾“å‡ºä¸ºæ­£å¸¸æ˜¾ç¤ºï¼›&lt;/li&gt;
&lt;li&gt;è‹¥æŒ‰ä¸‹&lt;code class=&quot;language-text&quot;&gt;F12&lt;/code&gt;ï¼Œåˆ™æ•°å­—å’Œå­—æ¯çš„å›æ˜¾å˜ä¸º&lt;code class=&quot;language-text&quot;&gt;*&lt;/code&gt;ï¼›&lt;/li&gt;
&lt;li&gt;ä¸”å†æ¬¡æŒ‰ä¸‹&lt;code class=&quot;language-text&quot;&gt;F12&lt;/code&gt;ï¼Œæ˜¾ç¤ºå°†æ¢å¤æ­£å¸¸ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 610px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/c8adf9a771ef3505be2dcf0eeea3b598/5aae9/1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 66.45569620253164%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAACBklEQVR42m1SyW4aURAc9n3f90XwKQixCsHFAUfiYCASh9g4ImDfnJwwBxbZGPKxlalOHspIObS6e169qup+o00nE0zv7vBlNsPTaoXXzQYfpxM+3k84/83sf53Pen7H2/GIHy8v+KnHbDrBp5sbPNzf49tigc3yK7ThcIjPt7dYPD5iu93icrlgfzhgv9/jqF9mHPR+t9tJvdEF5/M5lsslxuMxRqMR1us1np6fsfi+ghaLxRAKheDxeGCz2eBwOKBpGpxOJ0wmk9R2u/167nK54Pf7EYlEBMNzQyQSCZA0GAwiHA6DvdVqRT6fh8VikYjH46hUKohGo8hkMlIXCgUhNpvNhtAIIhEPSUplHqRSqT8AXZXfi8WiTJJOp1EqleScvcJcgwA6CAQCQpZMJsUVCRSY36rVqjjM5XJSk5QuKWYgzGazokZSEnJ87o4kzGpkjsrLJOU6aMTn88lkxBh2qBxyyepRmP99FPbMfBj1OMycQuEkqMjwer2ixn0SRCE1MsUoSocM1nRIvIGMQQCX63a7rw9DIo6uCPnLUJTEDNYU/O9vQyX1YgSy5mhcODNB3C17kjC4w3K5LC45mdq17JIf6I5qzOzpTDklIfdFZ3RKDGueU5D/rMFhr9dDv9/HYDBAvV5HrVaT3Gq1pG40GlI3m0202210Oh2Jbrcrwfsqk+c30VVuiho3CqcAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/c8adf9a771ef3505be2dcf0eeea3b598/5aae9/1.png&quot;
        srcset=&quot;/blog/static/c8adf9a771ef3505be2dcf0eeea3b598/c26ae/1.png 158w,
/blog/static/c8adf9a771ef3505be2dcf0eeea3b598/6bdcf/1.png 315w,
/blog/static/c8adf9a771ef3505be2dcf0eeea3b598/5aae9/1.png 610w&quot;
        sizes=&quot;(max-width: 610px) 100vw, 610px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[ã€å“ˆå·¥å¤§_æ“ä½œç³»ç»Ÿå®éªŒã€‘Lab7 åœ°å€æ˜ å°„ä¸å…±äº«]]></title><description><![CDATA[Githubä»£ç ä»“åº“é“¾æ¥ æœ¬èŠ‚å°†æ›´æ–°å“ˆå·¥å¤§ã€Šæ“ä½œç³»ç»Ÿã€‹è¯¾ç¨‹ç¬¬ä¸ƒä¸ª Labâ€¦]]></description><link>https://gatsbystarterblogsource.gatsbyjs.io/016_HIT_OS_Lab7/</link><guid isPermaLink="false">https://gatsbystarterblogsource.gatsbyjs.io/016_HIT_OS_Lab7/</guid><pubDate>Tue, 15 Oct 2024 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;a href=&quot;https://github.com/Joker001014/HIT-OSlab&quot;&gt;Githubä»£ç ä»“åº“é“¾æ¥&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æœ¬èŠ‚å°†æ›´æ–°å“ˆå·¥å¤§ã€Šæ“ä½œç³»ç»Ÿã€‹è¯¾ç¨‹ç¬¬ä¸ƒä¸ª Lab å®éªŒ &lt;strong&gt;åœ°å€æ˜ å°„ä¸å…±äº«&lt;/strong&gt;ã€‚æŒ‰ç…§å®éªŒä¹¦è¦æ±‚ï¼Œä»‹ç»äº†éå¸¸è¯¦ç»†çš„å®éªŒæ“ä½œæµç¨‹ï¼Œå¹¶æä¾›äº†è¶…çº§æ— æ•Œè¯¦ç»†çš„ä»£ç æ³¨é‡Šã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å®éªŒç›®çš„ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;æ·±å…¥ç†è§£æ“ä½œç³»ç»Ÿçš„æ®µã€é¡µå¼å†…å­˜ç®¡ç†ï¼Œæ·±å…¥ç†è§£æ®µè¡¨ã€é¡µè¡¨ã€é€»è¾‘åœ°å€ã€çº¿æ€§åœ°å€ã€ç‰©ç†åœ°å€ç­‰æ¦‚å¿µï¼›&lt;/li&gt;
&lt;li&gt;å®è·µæ®µã€é¡µå¼å†…å­˜ç®¡ç†çš„åœ°å€æ˜ å°„è¿‡ç¨‹ï¼›&lt;/li&gt;
&lt;li&gt;ç¼–ç¨‹å®ç°æ®µã€é¡µå¼å†…å­˜ç®¡ç†ä¸Šçš„å†…å­˜å…±äº«ï¼Œä»è€Œæ·±å…¥ç†è§£æ“ä½œç³»ç»Ÿçš„å†…å­˜ç®¡ç†ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;å®éªŒä»»åŠ¡ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;1ã€ç”¨ Bochs è°ƒè¯•å·¥å…·è·Ÿè¸ª Linux 0.11 çš„åœ°å€ç¿»è¯‘ï¼ˆåœ°å€æ˜ å°„ï¼‰è¿‡ç¨‹ï¼Œäº†è§£ IA-32 å’Œ Linux 0.11 çš„å†…å­˜ç®¡ç†æœºåˆ¶ï¼›
2ã€åœ¨ Ubuntu ä¸Šç¼–å†™å¤šè¿›ç¨‹çš„ç”Ÿäº§è€…â€”æ¶ˆè´¹è€…ç¨‹åºï¼Œç”¨å…±äº«å†…å­˜åšç¼“å†²åŒºï¼›
3ã€åœ¨ä¿¡å·é‡å®éªŒçš„åŸºç¡€ä¸Šï¼Œä¸º Linux 0.11 å¢åŠ å…±äº«å†…å­˜åŠŸèƒ½ï¼Œå¹¶å°†ç”Ÿäº§è€…â€”æ¶ˆè´¹è€…ç¨‹åºç§»æ¤åˆ° Linux 0.11ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;æ–‡ä»¶å&lt;/th&gt;
&lt;th&gt;ä»‹ç»&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;hit-æ“ä½œç³»ç»Ÿå®éªŒæŒ‡å¯¼ä¹¦.pdf&lt;/td&gt;
&lt;td&gt;å“ˆå·¥å¤§OSå®éªŒæŒ‡å¯¼ä¹¦&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Linuxå†…æ ¸å®Œå…¨æ³¨é‡Š(ä¿®æ­£ç‰ˆv3.0).pdf&lt;/td&gt;
&lt;td&gt;èµµåšå£«å¯¹Linux v0.11 OSè¿›è¡Œäº†è¯¦ç»†å…¨é¢çš„æ³¨é‡Šå’Œè¯´æ˜&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;file1615.pdf&lt;/td&gt;
&lt;td&gt;BIOS æ¶‰åŠçš„ä¸­æ–­æ•°æ®æ‰‹å†Œ&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;hit-oslab-linux-20110823.tar.gz&lt;/td&gt;
&lt;td&gt;hit-oslab å®éªŒç¯å¢ƒ&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;gcc-3.4-ubuntu.tar.gz&lt;/td&gt;
&lt;td&gt;Linux v0.11 æ‰€ä½¿ç”¨çš„ç¼–è¯‘å™¨&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&quot;https://joker001014.github.io/blog/019_HIT_OS_Bochs&quot;&gt;Bochs æ±‡ç¼–çº§è°ƒè¯•æŒ‡ä»¤&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;bochs åŸºæœ¬è°ƒè¯•æŒ‡ä»¤å¤§å…¨&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&quot;https://blog.csdn.net/yueyueniaolzp/article/details/82178954&quot;&gt;æœ€å…¨ASCIIç å¯¹ç…§è¡¨0-255&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;å±å¹•è¾“å‡ºå­—ç¬¦å¯¹ç…§çš„ ASCII ç &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&quot;https://blog.csdn.net/weixin_53159274/article/details/138074386?spm=1001.2014.3001.5501&quot;&gt;x86_64 å¸¸ç”¨å¯„å­˜å™¨å¤§å…¨&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;x86_64 å¸¸ç”¨å¯„å­˜å™¨å¤§å…¨&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3&gt;ä¸€ã€IA-32 çš„åœ°å€ç¿»è¯‘è¿‡ç¨‹&lt;/h3&gt;
&lt;p&gt;1ã€å¯åŠ¨è°ƒè¯•å™¨&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å°† &lt;code class=&quot;language-text&quot;&gt;test.c&lt;/code&gt; æµ‹è¯•ç¨‹åºæ‹·è´åˆ° linux0.11 ç³»ç»Ÿä¸‹&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;cd&lt;/span&gt; oslab_Lab6
&lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; ./mount-hdc
&lt;span class=&quot;token function&quot;&gt;cp&lt;/span&gt; test.c hdc/usr/root/
&lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;umount&lt;/span&gt; hdc
// å¯åŠ¨ linux-0.11
./dbg-asm
c              // è¿è¡Œåˆ°æ–­ç‚¹ä½ç½®&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;Next at t=0 è¡¨ç¤ºä¸‹é¢çš„æŒ‡ä»¤æ˜¯ Bochs ä¸‹ä¸€æ¡è¦æ‰§è¡Œçš„è½¯ä»¶æŒ‡ä»¤&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;2ã€ç¼–è¯‘å¹¶è¿è¡Œ test.c&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;linux-0.11 ç³»ç»Ÿä¸‹ç¼–è¯‘è¿è¡Œ &lt;code class=&quot;language-text&quot;&gt;test.c&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;gcc &lt;span class=&quot;token parameter variable&quot;&gt;-o&lt;/span&gt; &lt;span class=&quot;token builtin class-name&quot;&gt;test&lt;/span&gt; test.c
./test
// è¾“å‡ºï¼šThe logical/virtual address of i is 0x00003004&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;test æ˜¯ä¸€ä¸ªæ­»å¾ªç¯ï¼Œåªä¼šä¸åœå ç”¨ CPUï¼Œä¸ä¼šé€€å‡ºã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 417px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/7368fbc2bd4d37057eaf6a23e3e345b6/f27fb/1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 15.822784810126581%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAIAAAAcOLh5AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAh0lEQVR42n2MTQuEIBRFX0G6qQgS/AjLRSEqhSBuI/T//6d5M8Ns5ywu3AvnghBCKcU511pv27Z8oJT2fT/P8zAMjLFxHAkhANA0Dfzoug6klOu6ooymMWaapm9t2xb+8pZzzs45zJTSeZ7e++u6sB7HgUuM0VqLI17v+x5CeJ6nlFJrve/7BYSnET6v0sNFAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/7368fbc2bd4d37057eaf6a23e3e345b6/f27fb/1.png&quot;
        srcset=&quot;/blog/static/7368fbc2bd4d37057eaf6a23e3e345b6/c26ae/1.png 158w,
/blog/static/7368fbc2bd4d37057eaf6a23e3e345b6/6bdcf/1.png 315w,
/blog/static/7368fbc2bd4d37057eaf6a23e3e345b6/f27fb/1.png 417w&quot;
        sizes=&quot;(max-width: 417px) 100vw, 417px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;ol start=&quot;2&quot;&gt;
&lt;li&gt;æš‚åœ&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;åœ¨å‘½ä»¤è¡Œçª—å£æŒ‰ &lt;code class=&quot;language-text&quot;&gt;Ctrl+c&lt;/code&gt;ï¼ŒBochs ä¼šæš‚åœè¿è¡Œæ€ã€‚ç»å¤§å¤šæ•°æƒ…å†µä¸‹éƒ½ä¼šåœåœ¨ test å†…ã€‚&lt;/li&gt;
&lt;li&gt;å…¶ä¸­çš„ 000f å¦‚æœæ˜¯ 0008ï¼Œåˆ™è¯´æ˜ä¸­æ–­åœ¨äº†å†…æ ¸é‡Œã€‚é‚£ä¹ˆå°±è¦ &lt;code class=&quot;language-text&quot;&gt;c&lt;/code&gt;ï¼Œç„¶åå† &lt;code class=&quot;language-text&quot;&gt;Ctrl+c&lt;/code&gt;ï¼Œç›´åˆ°å˜ä¸º 000f ä¸ºæ­¢ã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœæ˜¾ç¤ºçš„ä¸‹ä¸€æ¡æŒ‡ä»¤ä¸æ˜¯ cmp ...ï¼ˆè¿™é‡ŒæŒ‡è¯­å¥ä»¥ cmp å¼€å¤´ï¼‰ï¼Œå°±ç”¨ &lt;code class=&quot;language-text&quot;&gt;n&lt;/code&gt; å‘½ä»¤å•æ­¥è¿è¡Œå‡ æ­¥ï¼Œç›´åˆ°åœåœ¨ cmp ...ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 612px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/75c62ae7c69c6f44a3d20932741bbca5/8c76f/2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 36.708860759493675%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAABW0lEQVR42j1R2XLCMAx0yEVuiO0cXDMllIRjaFL6QIeH/v9Xbdee0oedlSJptVbEdt+g0BGKskS20ITCQtaQ1Qqlbi0rXaGqKkgpkSQJoiiy/EIcJxBC4Ha7QRRFYRODMAyR5ymRQSlJgRJNU6PkMtNnEMeRrTuzGVzXhUf4vm/nx3GEOJ/P2G432O12SNMUWZahqmvUhFKagg20UpCltA5N3ratjZfLpe0Pg8AK9n0PMU0Tum6P4/GIIPBtsX4JckjSXV1XFFdWOM9zRPM5XDp0HOcfRrDrOoh+GOw2M2BuMU+5kU59DnlEwAVzchTH8HiSgBwksX2yEXE9zy4x5xoGOjTOrJtKY6M1fnj8O1198CkXHt80uhRtyROFr1x6IZ/47UrxK+Ml2Wf9RHPicHjHer3G8TTgbbXCk4U78aDYyCFzcMfzsSE/mX8aMDb4+utrzU9bLPD9eOAXV5SogDQOPFMAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/75c62ae7c69c6f44a3d20932741bbca5/8c76f/2.png&quot;
        srcset=&quot;/blog/static/75c62ae7c69c6f44a3d20932741bbca5/c26ae/2.png 158w,
/blog/static/75c62ae7c69c6f44a3d20932741bbca5/6bdcf/2.png 315w,
/blog/static/75c62ae7c69c6f44a3d20932741bbca5/8c76f/2.png 612w&quot;
        sizes=&quot;(max-width: 612px) 100vw, 612px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä½¿ç”¨å‘½ä»¤ &lt;code class=&quot;language-text&quot;&gt;u /8&lt;/code&gt;ï¼Œæ˜¾ç¤ºä»å½“å‰ä½ç½®å¼€å§‹ 8 æ¡æŒ‡ä»¤çš„åæ±‡ç¼–ä»£ç ã€‚&lt;/li&gt;
&lt;li&gt;è¿™å°±æ˜¯ test.c ä¸­ä» while å¼€å§‹ä¸€ç›´åˆ° return çš„æ±‡ç¼–ä»£ç ã€‚å˜é‡ i ä¿å­˜åœ¨ ds:0x3004 è¿™ä¸ªåœ°å€ï¼Œå¹¶ä¸åœåœ°å’Œ 0 è¿›è¡Œæ¯”è¾ƒï¼Œç›´åˆ°å®ƒä¸º 0ï¼Œæ‰ä¼šè·³å‡ºå¾ªç¯ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 604px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/3ff8ad2ab10df44fc331cd2e5a4857c5/87254/3.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 80.37974683544303%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAAsTAAALEwEAmpwYAAADXklEQVR42kVTaZPaRhTU//+Ycn6AK1WpHE68VU4Wew9vebnZRYAAARISICRxCh3cQqjTmk2cD11vNHrzpl+/HunmcxXv/pDx442CHz408O7Ppog/33fxy10Dvz20GBX8lGvi18cebvI63t8beP9g/B/FWsdNwYRkGgrmdhP2WIZrNQWWbhuW+YphvyiiqVWgqUUsHAX+qo9ooyPcaNj6Q4HI1xn5Hc0hBb4FJDNc4xmSk4PVTEXo6ZgYr5iOZBasi2Ku1eLFbe41RBFn0sB5b+FytBEfplxPcDpuINVfnvFayaFWysHUa7zNYHITvXYehlbFePiCQbdIllVxSXaB3itDVZ5hDCqYTRXmtxCsB9jv1pBqlSfUq19QLd7CGjcAbOCtNCZXReHsgEuMM8b8705bWM1V7KIR4qMDXJfscAGkK1ySLSSlWRY6ZS0tnA5CMswO+GsNm9UA28DE7l94y7dvb9nHnLnb0PxecMM9b21DajYK6Hee+XOEPTXZR2PsuU6ZKMDk77gsxN71Mheap8lcMBPg+nIOIA21BrWrQu8UoMlfYVIXje3a3JtSv4gsIzIOGXeehnChIlj04BEBh5chk8UavWLjOZD0Xh2TUR0L+RFntYC4fo+rrQBMSKdNpOM6Ur2ClC2l1C9lN6nyhOvZFSz/Y5ucbDL0s5ZLMIY1mJyk/PUjWuUcJShgxGna1DXTdLud0GMjHA42ArJdk0AYTThVC/5miCXZhtTWD+jDZv4L5IcPWNAyI+UbVmxz3i/DY0zYYobTvIu902ZUceawDmw75MQPsw527ManX3d2C7HHoXQ/f0Tl7neopVvY3QLS7RigUbGbAGSVUKMdi61pG7dfwowab7MifFlbt4MNC49b3xBYDSSjDqTWUw75/Cc4TDpRl5QTS9OlANI14rODGQ9O2X5fLWFA9jNa5sKJX69rROEEartI//q4zg22/Pg3iizo0u3JiQUpcgZhVuJMtjZZZK9jyGIT44VvvSumG/PZBZRArt4JC11nQxZ8+Avl8i3mZJHwVmD95qvMsETM9z2hRg4n7FPPBXXLBiTy4CEKDL4wWXxfHA1S5/EWCjW0ag8IBjUc+fhji7aZ9QSuThcHU0Y8bfOM/obFAKmrgtPDkZ3txxwIc0NDxT+tQIfC1utS3wAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/3ff8ad2ab10df44fc331cd2e5a4857c5/87254/3.png&quot;
        srcset=&quot;/blog/static/3ff8ad2ab10df44fc331cd2e5a4857c5/c26ae/3.png 158w,
/blog/static/3ff8ad2ab10df44fc331cd2e5a4857c5/6bdcf/3.png 315w,
/blog/static/3ff8ad2ab10df44fc331cd2e5a4857c5/87254/3.png 604w&quot;
        sizes=&quot;(max-width: 604px) 100vw, 604px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;3ã€æŸ¥æ®µè¡¨ï¼Œè®¡ç®— DS çº¿æ€§åœ°å€&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;LDT è¡¨ä½ç½®&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;ds:0x3004 æ˜¯è™šæ‹Ÿåœ°å€ï¼Œåº”ç”¨ç¨‹åºéƒ½æœ‰ä¸€ä¸ªæ®µè¡¨ï¼Œå« LDTã€‚&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;ldtr&lt;/code&gt; å¯„å­˜å™¨è¡¨ç¤º LDTè¡¨ å­˜æ”¾åœ¨ GDT è¡¨çš„ä½ç½®ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;sreg&lt;/code&gt; æŒ‡ä»¤æ˜¾ç¤º&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;lt;bochs:2&gt; sreg
cs:s=0x000f, dl=0x00000002, dh=0x10c0fa00, valid=1
ds:s=0x0017, dl=0x00003fff, dh=0x10c0f300, valid=3
ss:s=0x0017, dl=0x00003fff, dh=0x10c0f300, valid=1
es:s=0x0017, dl=0x00003fff, dh=0x10c0f300, valid=1
fs:s=0x0017, dl=0x00003fff, dh=0x10c0f300, valid=1
gs:s=0x0017, dl=0x00003fff, dh=0x10c0f300, valid=1
ldtr:s=0x0068, dl=0xa2d00068, dh=0x000082fa, valid=1
tr:s=0x0060, dl=0xa2e80068, dh=0x00008bfa, valid=1
gdtr:base=0x00005cb8, limit=0x7ff
idtr:base=0x000054b8, limit=0x7ff&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;0x0068=0000000001101000ï¼Œåˆ™å­˜æ”¾åœ¨ GDT è¡¨çš„ 1101ï¼ˆäºŒè¿›åˆ¶ï¼‰=13ï¼ˆåè¿›åˆ¶ï¼‰å·ä½ç½®&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 439px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/9b9e6582f2624012996b8b5cb8aaa3b1/e3b18/4.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 15.822784810126581%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAiklEQVR42j1OQQ6EIBDj//8jKkQUEFEhBJcHdNM5eGjoTNuhSmsN7z1aayilCO77xvM831xr/d4QAmKMOI4D53nKTC938zxDkdDsnMO+7wIeZ4AfbdsmGjm9YwzRya/rkiy13rt4FYNsxKbLssAYg5yziNZa2VEzxmJdHd73J42YI1JKovPwNE34A8pX299mzDYmAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/9b9e6582f2624012996b8b5cb8aaa3b1/e3b18/4.png&quot;
        srcset=&quot;/blog/static/9b9e6582f2624012996b8b5cb8aaa3b1/c26ae/4.png 158w,
/blog/static/9b9e6582f2624012996b8b5cb8aaa3b1/6bdcf/4.png 315w,
/blog/static/9b9e6582f2624012996b8b5cb8aaa3b1/e3b18/4.png 439w&quot;
        sizes=&quot;(max-width: 439px) 100vw, 439px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;ol start=&quot;2&quot;&gt;
&lt;li&gt;åœ¨ GDT è¡¨ä¸­æŸ¥æ‰¾ LDT è¡¨&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;GDT è¡¨ä¸­çš„æ¯ä¸€é¡¹å  64 ä½ï¼ˆ8 ä¸ªå­—èŠ‚ï¼‰ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦æŸ¥æ‰¾çš„é¡¹çš„åœ°å€æ˜¯ &lt;code class=&quot;language-text&quot;&gt;0x00005cb8+13*8&lt;/code&gt;ã€‚&lt;code class=&quot;language-text&quot;&gt;xp&lt;/code&gt; æ˜¯ç”¨äº&lt;strong&gt;æŸ¥çœ‹å†…å­˜å†…å®¹&lt;/strong&gt;çš„è°ƒè¯•æŒ‡ä»¤ï¼Œwè¡¨ç¤ºæ˜¾ç¤ºä¸¤ä¸ªå­—ï¼ˆb-BYTE, h-WORD, &lt;strong&gt;w-DWORD&lt;/strong&gt;, g-DWORD64ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;bochs:&lt;span class=&quot;token operator&quot;&gt;&lt;span class=&quot;token file-descriptor important&quot;&gt;5&lt;/span&gt;&gt;&lt;/span&gt; xp /2w 0x00005cb8+13*8
&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;bochs&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;:
0x00005d20 &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;bogus+       &lt;span class=&quot;token operator&quot;&gt;&lt;span class=&quot;token file-descriptor important&quot;&gt;0&lt;/span&gt;&gt;&lt;/span&gt;:    0xa2d00068    0x000082fa&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;æ­¤æ—¶å¯ä»¥å‘ç°ï¼Œå’Œå‰é¢&lt;code class=&quot;language-text&quot;&gt;sreg&lt;/code&gt;æŒ‡ä»¤ä¸­&lt;code class=&quot;language-text&quot;&gt;ldtr&lt;/code&gt;åé¢çš„&lt;code class=&quot;language-text&quot;&gt;dl&lt;/code&gt;å’Œ&lt;code class=&quot;language-text&quot;&gt;dh&lt;/code&gt;å€¼ä¸€æ ·ï¼ˆè¿™æ˜¯Bochs è°ƒè¯•å™¨è‡ªåŠ¨è®¡ç®—å‡ºçš„ï¼‰&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ol start=&quot;3&quot;&gt;
&lt;li&gt;åˆ©ç”¨ GDT è¡¨ä¸­æè¿°ç¬¦è®¡ç®— LDT è¡¨çº¿æ€§åœ°å€&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;æè¿°ç¬¦ä¸ºâ€œ0xa2d00068 0x000082faâ€ï¼Œ-&gt;  &lt;code class=&quot;language-text&quot;&gt;0x 00 fa a2d0&lt;/code&gt; ï¼ˆå‰é¢32ä½å¯¹åº”ä¸‹é¢è¡Œï¼Œåé¢32ä½å¯¹åº”ä¸Šé¢è¡Œï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 576px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/2a2c19c14d393ac4cb48a731bf4d1008/533c1/5.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 27.21518987341772%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAy0lEQVR42j1QiQqFMAzz//9QnfftvBUVUfNIwDcI6do0XeeUZYmu65CmKYZhQBiGMMbA9314nicmmI/jWExtURSCtRZZlsmjrms467riui64rivu+x5VVcksSRIZsJHiPM/RNA34CGq2bQP7jQlw37dihwbzPKtIJsZxRNu2ms47mZimSQO5CfXULcsiI9ZkyMT7vprAw5ewied5HoHm53lK9+W45r7v/17ycRxwuAb3ZxONgiBAFMXKWduKuTLrjD/wSzicMb/h+8sflPF4HL1op9wAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/2a2c19c14d393ac4cb48a731bf4d1008/533c1/5.png&quot;
        srcset=&quot;/blog/static/2a2c19c14d393ac4cb48a731bf4d1008/c26ae/5.png 158w,
/blog/static/2a2c19c14d393ac4cb48a731bf4d1008/6bdcf/5.png 315w,
/blog/static/2a2c19c14d393ac4cb48a731bf4d1008/533c1/5.png 576w&quot;
        sizes=&quot;(max-width: 576px) 100vw, 576px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ ¹æ®è¯¥åœ°å€ï¼Œæ‰¾åˆ°äº† LDT è¡¨ä½ç½®ï¼Œå‰4é¡¹å†…å®¹ä¸ºï¼ˆæ¯ä¸€é¡¹ä¹Ÿæ˜¯64ä½ï¼‰ï¼š&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;bochs:&lt;span class=&quot;token operator&quot;&gt;&lt;span class=&quot;token file-descriptor important&quot;&gt;7&lt;/span&gt;&gt;&lt;/span&gt; xp /8w 0x00faa2d0
&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;bochs&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;:
0x00faa2d0 &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;bogus+ &lt;span class=&quot;token operator&quot;&gt;&lt;span class=&quot;token file-descriptor important&quot;&gt;0&lt;/span&gt;&gt;&lt;/span&gt;: 0x00000000 0x00000000
0x00000002 0x10c0fa00
0x00faa2e0 &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;bogus+ &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&lt;span class=&quot;token file-descriptor important&quot;&gt;6&lt;/span&gt;&gt;&lt;/span&gt;: 0x00003fff 0x10c0f300
0x00000000 0x00fab000&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ol start=&quot;4&quot;&gt;
&lt;li&gt;æ®µå¯„å­˜å™¨ï¼ˆæ®µé€‰æ‹©å­ï¼‰ DS ä» LDT è¡¨è·å–æ®µæè¿°ç¬¦&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;sreg&lt;/code&gt;æŒ‡ä»¤è·å– DS å¯„å­˜å™¨å†…å®¹&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;lt;bochs:8&gt; sreg
ds:s=0x0017, dl=0x00003fff, dh=0x10c0f300, valid=3&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 435px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/24cc84ae184468df4d6718c99e4cabc7/330eb/6.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 16.455696202531648%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAh0lEQVR42l1P0QrEIAzb//+d4IGDqdM5UVTmYO85Urg93ENoYpPWLkopbNuGUgrO80TOGSmll//Dew9rLfZ9F5DTzxpCwELRexcjH4g5p4RDiKJ/veM48DwP7vuWhfzEdV2IMWKMIXyhiQ2tNdZ1hTFGhjnnXq31RzgvYai1JkMIepnlglorvhKu2yrt7ELFAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/24cc84ae184468df4d6718c99e4cabc7/330eb/6.png&quot;
        srcset=&quot;/blog/static/24cc84ae184468df4d6718c99e4cabc7/c26ae/6.png 158w,
/blog/static/24cc84ae184468df4d6718c99e4cabc7/6bdcf/6.png 315w,
/blog/static/24cc84ae184468df4d6718c99e4cabc7/330eb/6.png 435w&quot;
        sizes=&quot;(max-width: 435px) 100vw, 435px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;RPLï¼šå³å¦‚æœ RPL çš„æ•°å€¼å¤§äº CPLï¼ˆæ•°å€¼è¶Šå¤§ï¼Œæƒé™è¶Šå°ï¼‰ï¼Œåˆ™ç”¨ RPL çš„å€¼è¦†ç›– CPL çš„å€¼ï¼Œå³ CPR, RPL â‰¤ DPL&lt;/li&gt;
&lt;li&gt;TIï¼šTI=0ï¼Œåœ¨ GDT è¡¨ä¸­æŸ¥ï¼› TI = 1ï¼Œåœ¨ LDT è¡¨ä¸­æŸ¥ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;ds = 0x0017 = 0001 0111ï¼Œå³RPL = 11ï¼Œ TI = 1ï¼Œç´¢å¼• = 10ï¼Œå³åœ¨ LDT è¡¨ä¸­ç´¢å¼•ä¸º 2 çš„æè¿°ç¬¦ï¼ˆå³ç¬¬ä¸‰ä¸ªï¼‰ï¼Œå³&lt;code class=&quot;language-text&quot;&gt;0x00003fff 0x10c0f300&lt;/code&gt; ä¸ºæœå¯»å¾ˆä¹…çš„ DS æ®µæè¿°ç¬¦äº†ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;æ­¤æ—¶å¯ä»¥å‘ç°ï¼Œå’Œå‰é¢&lt;code class=&quot;language-text&quot;&gt;sreg&lt;/code&gt;æŒ‡ä»¤ä¸­&lt;code class=&quot;language-text&quot;&gt;ds&lt;/code&gt;åé¢çš„&lt;code class=&quot;language-text&quot;&gt;dl&lt;/code&gt;å’Œ&lt;code class=&quot;language-text&quot;&gt;dh&lt;/code&gt;å€¼ä¸€æ ·ï¼ˆè¿™æ˜¯Bochs è°ƒè¯•å™¨è‡ªåŠ¨è®¡ç®—å‡ºçš„ï¼‰&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;æ€»ç»“ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ ¹æ®æ®µé€‰æ‹©å­&lt;code class=&quot;language-text&quot;&gt;ldtr&lt;/code&gt;åœ¨GDTè¡¨ä¸­æ‰¾åˆ°äº†LDTè¡¨ä¸­çš„æ®µæè¿°ç¬¦ï¼Œè®¡ç®—çº¿æ€§åœ°å€ï¼Œè¯¥çº¿æ€§åœ°å€å…¶å®bochsè°ƒè¯•å™¨åœ¨&lt;code class=&quot;language-text&quot;&gt;ldtr&lt;/code&gt;å¯„å­˜å™¨åé¢çš„dhã€dlä¸­å·²ç»è®¡ç®—å¥½äº†ï¼Œå¯ä»¥ä¾›æˆ‘ä»¬éªŒè¯ï¼›&lt;/li&gt;
&lt;li&gt;æ ¹æ®æ®µé€‰æ‹©å­&lt;code class=&quot;language-text&quot;&gt;DS&lt;/code&gt;åœ¨LDTè¡¨ä¸­æ‰¾åˆ°DSçš„æ®µæè¿°ç¬¦ï¼Œè®¡ç®—çº¿æ€§åœ°å€ï¼Œè¯¥çº¿æ€§åœ°å€å…¶å®bochsè°ƒè¯•å™¨åœ¨&lt;code class=&quot;language-text&quot;&gt;DS&lt;/code&gt;å¯„å­˜å™¨åé¢çš„dhã€dlä¸­å·²ç»è®¡ç®—å¥½äº†ï¼Œå¯ä»¥ä¾›æˆ‘ä»¬éªŒè¯ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&quot;5&quot;&gt;
&lt;li&gt;åˆ©ç”¨ LDT è¡¨ä¸­æ®µæè¿°ç¬¦è®¡ç®— DS çº¿æ€§åœ°å€ï¼ˆæ®µåŸºå€ï¼‰&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;ç”±æ®µæè¿°ç¬¦&lt;code class=&quot;language-text&quot;&gt;0x00003fff 0x10c0f300&lt;/code&gt; å¯ä»¥è®¡ç®—å¾—åˆ°æ®µåŸºå€ä¸º&lt;code class=&quot;language-text&quot;&gt;0x 10 00 0000&lt;/code&gt;ï¼Œæ‰€ä»¥ &lt;code class=&quot;language-text&quot;&gt;ds:0x3004&lt;/code&gt; çš„çº¿æ€§åœ°å€ä¸º &lt;code class=&quot;language-text&quot;&gt;0x100003004&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨ &lt;code class=&quot;language-text&quot;&gt;cals ds:0x3004&lt;/code&gt; å¯ä»¥éªŒè¯è¯¥ç»“æœ&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;4ã€æŸ¥é¡µè¡¨ï¼Œç”±çº¿æ€§åœ°å€è®¡ç®—ç‰©ç†åœ°å€&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;å³è®¡ç®— é¡µç›®å½•å·ï¼ˆ10ä½ï¼‰ã€é¡µè¡¨å·ï¼ˆ10ä½ï¼‰å’Œé¡µå†…åç§»ï¼ˆ12ä½ï¼‰&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;çº¿æ€§åœ°å€ &lt;code class=&quot;language-text&quot;&gt;0x100003004&lt;/code&gt;ï¼šé¡µç›®å½•å· = 64ï¼Œ é¡µå· = 3ï¼Œ é¡µå†…åç§» = 4&lt;/li&gt;
&lt;/ul&gt;
&lt;ol&gt;
&lt;li&gt;åœ¨é¡µç›®å½•è¡¨ä¸­æŸ¥æ‰¾&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;é¡µç›®å½•è¡¨çš„ä½ç½®ç”± CR3 å¯„å­˜å™¨æŒ‡å¼•ï¼Œ&lt;code class=&quot;language-text&quot;&gt;creg&lt;/code&gt;å‘½ä»¤å¯ä»¥æŸ¥çœ‹ï¼š&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 607px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/845c427f05da9d5245501b7765db8eae/ef9e5/7.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 30.37974683544304%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsTAAALEwEAmpwYAAABaElEQVR42n2Q20oCARCG9z0iKqttpahIQ7PwmIpoaUTZObrsosxDBR18h6jrMCwqfJF8ASUhbyuj2DXEQ+jXtnUTRD/8/DMDM/PPCOGFOUwmI1arBavNwuCgHrFPh14v0j8gIel7GDEM4XDamHQ7cLuduCbtrK0vk8/nyeVyvyisb6xithgZnzBhHjMQDs9ydHzA3n6co+S33lxf8YVKpUK93qDR+OZfEL4cGoxD6nYbJrOBWHyHTOaWdPqCy6s01+qwVOqcbPZOa2i1WvwHwef3Iko6xiyjGEeHkaRuOjrb6BU70XW3I6raK3Zp5yaThxQK95pTWZZRFOUXy2VFdbg4j8frYnFpjuWVMIEpHzMz02o+TygUIBj0a2/w+T3YHRNsbW2yu5cgGouQSESJxyPEtDim1rYRTs9OKBYfaDabVKtVjbVaTf1RXdOalv/UPhq8v5eRFfnHoczb2ysvLyVKpWeenh75BO0yTgyZ5vP4AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/845c427f05da9d5245501b7765db8eae/ef9e5/7.png&quot;
        srcset=&quot;/blog/static/845c427f05da9d5245501b7765db8eae/c26ae/7.png 158w,
/blog/static/845c427f05da9d5245501b7765db8eae/6bdcf/7.png 315w,
/blog/static/845c427f05da9d5245501b7765db8eae/ef9e5/7.png 607w&quot;
        sizes=&quot;(max-width: 607px) 100vw, 607px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è¯´æ˜é¡µç›®å½•è¡¨çš„åŸºå€ä¸º 0&lt;/li&gt;
&lt;li&gt;é¡µç›®å½•è¡¨å’Œé¡µè¡¨ä¸­çš„å†…å®¹å¾ˆç®€å•ï¼Œæ˜¯ 1024 ï¼ˆ2^10ï¼‰ä¸ª 32 ä½æ•°ï¼Œè¡¨å¤§å°åˆšå¥½ä¸º4Kã€‚ç”¨ä»¥ä¸‹æŒ‡ä»¤å¯ä»¥åœ¨é¡µç›®å½•è¡¨ä¸­æŸ¥æ‰¾åˆ°é¡µç›®å½•é¡¹ä¸º&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;xp /w &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;+64*4
// 0x00000100 &lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; 0x00fa5027&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ol start=&quot;2&quot;&gt;
&lt;li&gt;åœ¨é¡µè¡¨ä¸­æŸ¥æ‰¾&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;ä¸Šè¿°å¯å¾—é¡µè¡¨æ‰€åœ¨ç‰©ç†å†…å­˜ä½ç½®ä¸º &lt;code class=&quot;language-text&quot;&gt;0x00faa&lt;/code&gt;ä½ç½®ï¼ˆ027æ˜¯å±æ€§ï¼‰ï¼Œå¾—3å·é¡µè¡¨é¡¹ä¸ºï¼š&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;xp /w 0x00faa000+3*4
// 0x00fa500c &lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; 0x00f9b067&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ol start=&quot;3&quot;&gt;
&lt;li&gt;è®¡ç®—ç‰©ç†åœ°å€&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ç‰©ç†é¡µæ¡†å·ä¸º 0x00f9bï¼ˆ067æ˜¯å±æ€§ï¼‰ï¼Œå’Œé¡µå†…åç§» 0x004ï¼Œå¾—åˆ° &lt;code class=&quot;language-text&quot;&gt;0x00f9b004&lt;/code&gt;ï¼Œè¿™å°±æ˜¯å˜é‡ i çš„ç‰©ç†åœ°å€ã€‚&lt;/p&gt;
&lt;p&gt;å¯ä»¥é€šè¿‡ä¸¤ç§æ–¹å¼éªŒè¯ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åŸºäºçº¿æ€§åœ°å€ &lt;code class=&quot;language-text&quot;&gt;0x10003004&lt;/code&gt; ï¼Œä½¿ç”¨ &lt;code class=&quot;language-text&quot;&gt;page&lt;/code&gt; æŒ‡ä»¤ï¼š&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;page 0x10003004
linear page 0x10003000 maps to physical page 0x00f9b000&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;åŸºäºç‰©ç†åœ°å€ &lt;code class=&quot;language-text&quot;&gt;0x00fa7004&lt;/code&gt;ï¼Œä½¿ç”¨ &lt;code class=&quot;language-text&quot;&gt;xp&lt;/code&gt; æŒ‡ä»¤æŸ¥çœ‹åœ°å€ä¸­å­˜æ”¾çš„ä¸€ä¸ªå­—èŠ‚ï¼š&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;xp /w 0x00f9b004
0x00fa7004 &lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt; 0x12345678&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;5ã€ä¿®æ”¹å†…å­˜æ¥æ”¹å˜ i çš„å€¼ï¼Œä½¿ç¨‹åºé€€å‡ºå¾ªç¯&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å°†ä» 0x00f9b004 åœ°å€å¼€å§‹çš„ 4 ä¸ªå­—èŠ‚éƒ½è®¾ä¸º 0&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;setpmem 0x00f9b004 &lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;ç„¶åå†ç”¨ &lt;code class=&quot;language-text&quot;&gt;c&lt;/code&gt; å‘½ä»¤ç»§ç»­ Bochs çš„è¿è¡Œï¼Œå¯ä»¥çœ‹åˆ° test é€€å‡ºäº†ï¼Œè¯´æ˜ i çš„ä¿®æ”¹æˆåŠŸäº†ï¼Œæ­¤é¡¹å®éªŒç»“æŸã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 416px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/e058838755b0953f93793c47964f08a9/b0122/8.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 17.088607594936708%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAIAAAAcOLh5AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAgElEQVR42n2NsQrEIABD9RQpDoqV1oqtiO1S0cni/39aw91+GR6BkIR472OMYEoJZt93UEqplHLOaa23bTPGTNNEKf18xRgDhRAEWQhhXVd0cs7zPKNvrUVM/opzTmqt+Lzvu5RynudxHGBrDbfXdcH/1nG+LAvS3vvzPGOM3vsLc+gOv1KU5nQAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/e058838755b0953f93793c47964f08a9/b0122/8.png&quot;
        srcset=&quot;/blog/static/e058838755b0953f93793c47964f08a9/c26ae/8.png 158w,
/blog/static/e058838755b0953f93793c47964f08a9/6bdcf/8.png 315w,
/blog/static/e058838755b0953f93793c47964f08a9/b0122/8.png 416w&quot;
        sizes=&quot;(max-width: 416px) 100vw, 416px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h3&gt;äºŒã€åœ¨ Linux 0.11 ä¸­å®ç°å…±äº«å†…å­˜&lt;/h3&gt;
&lt;p&gt;æœ¬æ¬¡å®éªŒå°†åœ¨ &lt;code class=&quot;language-text&quot;&gt;Lab6 ä¿¡å·é‡çš„å®ç°å’Œåº”ç”¨&lt;/code&gt; å®éªŒçš„åŸºç¡€ä¸Šï¼Œä½¿ç”¨å…±äº«å†…å­˜æ›¿æ¢æ–‡ä»¶ç¼“å†²åŒºï¼Œæ¥å®Œæˆç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…ä¸¤ä¸ªç¨‹åºã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Linux ä¸­ï¼Œå°†ä¸åŒè¿›ç¨‹çš„è™šæ‹Ÿåœ°å€ç©ºé—´é€šè¿‡é¡µè¡¨æ˜ å°„åˆ°ç‰©ç†å†…å­˜çš„åŒä¸€åŒºåŸŸï¼Œå®ç°å…±äº«å†…å­˜ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 613px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/6c51f44aa13a2129497a9a2a2f06b013/5754a/9.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 41.77215189873418%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAABT0lEQVR42nVRy3KDMAzk/3+ilx76Sqad6aH/0EvbYy9tyANsAhgwBjvIW4HTJO0kntFIzIqVdhUlWYmNzKFqDdO2aP9Fo1uoxkCfwcYwhvG6QcIcWaEQJXKLNMtx6fW9RSYlnHMXe4gIq0SgVBWiMi+hhAyI9yGmMuRBl7BfrxhMdew5zSOhMcgXS2jTIZqwbIuqUqhaHXqnCD9Qr+GST87tCRZeUQmoIgHy/DAgCrosXPoMt3gAj4EjDzcQrzfAqwJUC3iZjvphB48dSwT7St9XIDHnqUf50WGqnMGLW4CPs5YNYlHDlwpUSNjlB8uqQfwdiwYbwfJrw/03IPm4pzrdkOtxkhf34OWwKjvEWzPVxN71izdQp8HLIc4N1kUXlkivmXD250DRb+HlnEnvgm/sB9Hew7aCi9+ZsNlf1E/4iA7yCU6+wO0Izlp2pMcP3KhqokqK2UcAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/6c51f44aa13a2129497a9a2a2f06b013/5754a/9.png&quot;
        srcset=&quot;/blog/static/6c51f44aa13a2129497a9a2a2f06b013/c26ae/9.png 158w,
/blog/static/6c51f44aa13a2129497a9a2a2f06b013/6bdcf/9.png 315w,
/blog/static/6c51f44aa13a2129497a9a2a2f06b013/5754a/9.png 613w&quot;
        sizes=&quot;(max-width: 613px) 100vw, 613px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;1ã€æ–°å»ºæ–‡ä»¶&lt;code class=&quot;language-text&quot;&gt;kernel/shm.c&lt;/code&gt;ï¼Œå®ç°å…±äº«å†…å­˜&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;lt;asm/segment.h&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;lt;linux/kernel.h&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;lt;linux/sched.h&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;lt;linux/mm.h&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;lt;errno.h&gt;&lt;/span&gt;&lt;/span&gt;

&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;define&lt;/span&gt; &lt;span class=&quot;token macro-name&quot;&gt;_SHM_NUM&lt;/span&gt; &lt;span class=&quot;token expression&quot;&gt;&lt;span class=&quot;token number&quot;&gt;20&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;/* å…±äº«å†…å­˜ç»“æ„ä½“ */&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;shm_tables&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; key&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;                &lt;span class=&quot;token comment&quot;&gt;/* å…±äº«å†…å­˜æ ‡è¯† */&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; size&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;                &lt;span class=&quot;token comment&quot;&gt;/* å…±äº«å†…å­˜å¤§å° */&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;unsigned&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;long&lt;/span&gt; page&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;        &lt;span class=&quot;token comment&quot;&gt;/* å…±äº«å†…å­˜åœ°å€ */&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; shm_tables&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;_SHM_NUM&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;


&lt;span class=&quot;token comment&quot;&gt;/* è·å–ä¸€å—ç©ºé—²çš„ç‰©ç†é¡µé¢æ¥åˆ›å»ºå…±äº«å†…å­˜ */&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;sys_shmget&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; key&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; size&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; i&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;unsigned&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;long&lt;/span&gt; page&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;        &lt;span class=&quot;token comment&quot;&gt;/* å­˜æ”¾å…±äº«å†…å­˜åœ°å€ */&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;/* æŸ¥çœ‹ key å¯¹åº”çš„å…±äº«å†…å­˜æ˜¯å¦å·²å­˜åœ¨ */&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;i &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; i &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; _SHM_NUM&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; i&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; 
        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;shm_tables&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;key &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; key&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; i&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    
    &lt;span class=&quot;token comment&quot;&gt;/* å†…å­˜å¤§å°è¶…è¿‡ä¸€é¡µ */&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;size &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; PAGE_SIZE&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; 
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;EINVAL&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;/* è·å–ä¸€å—ç©ºé—²ç‰©ç†å†…å­˜é¡µé¢ï¼Œè¿”å›èµ·å§‹ç‰©ç†åœ°å€ */&lt;/span&gt;
    page &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;get_free_page&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; 
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;page&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;ENOMEM&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;/* è®°å½•åˆ°å…±äº«å†…å­˜è¡¨ä¸­ */&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;i &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; i &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; _SHM_NUM&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; i&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;shm_tables&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;key &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            shm_tables&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;key &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; key&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            shm_tables&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;size &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; size&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            shm_tables&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;page &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; page&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; i&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  &lt;span class=&quot;token comment&quot;&gt;/* å…±äº«å†…å­˜æ•°é‡å·²æ»¡ */&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;/* å°†æŒ‡å®šç‰©ç†é¡µé¢æ˜ å°„åˆ°å½“å‰è¿›ç¨‹çš„è™šæ‹Ÿå†…å­˜ç©ºé—´ */&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;sys_shmat&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; shmid&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; i&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;unsigned&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;long&lt;/span&gt; data_base&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;/* åˆ¤æ–­å…±äº«å†…å­˜ shmid æ˜¯å¦è¶Šç•Œ åŠ å…±äº«å†…å­˜æ˜¯å¦å­˜åœ¨ */&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;shmid &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; shmid &lt;span class=&quot;token operator&quot;&gt;&gt;=&lt;/span&gt; _SHM_NUM &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; shm_tables&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;shmid&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;key &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;EINVAL&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    
    &lt;span class=&quot;token comment&quot;&gt;/* æŠŠç‰©ç†é¡µé¢æ˜ å°„åˆ°è¿›ç¨‹çš„è™šæ‹Ÿå†…å­˜ç©ºé—´ï¼Œæ˜ å°„åˆ°ä»£ç æ®µ+æ•°æ®æ®µåï¼Œå †æ ˆæ®µå‰ */&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;put_page&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;shm_tables&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;shmid&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;page&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; current&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;brk &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; current&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;start_code&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;/* ä¿®æ”¹æ€»é•¿åº¦ï¼Œbrkä¸ºä»£ç æ®µå’Œæ•°æ®æ®µçš„æ€»é•¿åº¦ */&lt;/span&gt;
    current&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;brk &lt;span class=&quot;token operator&quot;&gt;+=&lt;/span&gt; PAGE_SIZE&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;current&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;brk &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; PAGE_SIZE&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;å¯¹ç¨‹åºä¸­ &lt;code class=&quot;language-text&quot;&gt;sys_shmat&lt;/code&gt; ä¸­çš„è™šæ‹Ÿå†…å­˜åœ°å€è¿›è¡Œè§£é‡Šï¼š&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;brk&lt;/code&gt;ä¸ºä»£ç æ®µå’Œæ•°æ®æ®µçš„æ€»é•¿åº¦ï¼Œ&lt;code class=&quot;language-text&quot;&gt;brk + start_code &lt;/code&gt;å³ä¸ºä»£ç æ®µ+æ•°æ®æ®µç»“æŸçš„ä½ç½®ï¼›&lt;code class=&quot;language-text&quot;&gt;start_stack&lt;/code&gt;ä¸ºæ ˆçš„èµ·å§‹åœ°å€ã€‚&lt;/li&gt;
&lt;li&gt;å› æ­¤ï¼Œå°†ç‰©ç†å†…å­˜æ˜ å°„åˆ°è™šæ‹Ÿå†…å­˜å¤„ï¼Œ&lt;code class=&quot;language-text&quot;&gt;brk&lt;/code&gt;å’Œ &lt;code class=&quot;language-text&quot;&gt;start_stack&lt;/code&gt;ä¹‹é—´çš„ç©ºé—´ä¸ºæ ˆå‡†å¤‡ï¼Œæ ˆåº•æ˜¯é—²ç½®çš„ï¼ˆæ ˆæ˜¯å¾€ä½åœ°å€æ–¹å‘æ‰©å±•çš„ï¼‰ï¼Œå¯å°†å…±äº«å†…å­˜æ˜ å°„åˆ°è¿™å—ç©ºé—´ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 614px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/94a677afafd7540f5e1fb7ba3fecb4f1/e9131/10.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 52.53164556962025%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAACUElEQVR42l1T227TQBD1H/AzfAjfwZ8A4qESPPBY3qJWKuoFCXGrIC1pGty4ddr4tokTX5PYjp3ElzjpYcdQq2Kk9Vq7M3Nmz5kRdF2HLMvQVAXM0NHr9dDv3+Hm5prvfURRhM1mA8/zIEkSGDNg6CpEUcQt96U4ihkOh0jTFAK4LRcLMNOCaU9QFAWmwRwDc4wgmOHB7u/veeISjjeBZnqYxwukWY6x7cG2rSqOTLBtG75r45M4wu53DTYPuD7/DPHwHYYnr7GKw8pxu91W+93Axe7H35BVE6wnonX8HuzwJXy1gw0ljKKwQptqHbDWEZS7W9zcXuDs/Ait1jHiOMJ6XWK5XGKVZnBGDIEpY6Ap6KvXaHK/9uUxp6eLJFn8fXJRrGE5BlRdguPYaF418aW9i67xFnES1BWW5Rqe73NfD74/gdSXcNJs4FLZgcKaiOdLCHmRIpxkOOg9w5uLJ+jrImzzGyxzD0xrcH6jKmGWZZVAjDG4rgOLc8f0nxjoDVjDBsbmFfJiA4FQw2CFrz+eo3HwFAaT8Y+uqvKyLKv/PM8r4mezGX9aAsuyOMC8FizjAlWi0GeeJUj3NcSvOhipg9rpscJUIbWF67pY8K6ghHme0S2/39a+QsGRnZmPxYcurBdHkDtdTGZTTCdT3jZBnZg4pEVnVCF1B1X9GLSuMFwlWO1LyHbO4DLef1z5KAy5wnFdHS1KEPJzOjMMo2r4/03YcI7mywTeqYzx3i/4tostfwbx9bBomtrtdjURNFWKokDTtIoCaicCJsEI7A9ABCy+c9IVBwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/94a677afafd7540f5e1fb7ba3fecb4f1/e9131/10.png&quot;
        srcset=&quot;/blog/static/94a677afafd7540f5e1fb7ba3fecb4f1/c26ae/10.png 158w,
/blog/static/94a677afafd7540f5e1fb7ba3fecb4f1/6bdcf/10.png 315w,
/blog/static/94a677afafd7540f5e1fb7ba3fecb4f1/e9131/10.png 614w&quot;
        sizes=&quot;(max-width: 614px) 100vw, 614px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;2ã€ä¿®æ”¹æ–‡ä»¶&lt;code class=&quot;language-text&quot;&gt;include/unistd.h&lt;/code&gt;ï¼Œæ–°å¢å…¨å±€å‡½æ•°&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;/* å®éªŒ6 */&lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;define&lt;/span&gt; &lt;span class=&quot;token macro-name&quot;&gt;__NR_sem_open&lt;/span&gt;   &lt;span class=&quot;token expression&quot;&gt;&lt;span class=&quot;token number&quot;&gt;72&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;define&lt;/span&gt; &lt;span class=&quot;token macro-name&quot;&gt;__NR_sem_wait&lt;/span&gt;   &lt;span class=&quot;token expression&quot;&gt;&lt;span class=&quot;token number&quot;&gt;73&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;define&lt;/span&gt; &lt;span class=&quot;token macro-name&quot;&gt;__NR_sem_post&lt;/span&gt;   &lt;span class=&quot;token expression&quot;&gt;&lt;span class=&quot;token number&quot;&gt;74&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;define&lt;/span&gt; &lt;span class=&quot;token macro-name&quot;&gt;__NR_sem_unlink&lt;/span&gt; &lt;span class=&quot;token expression&quot;&gt;&lt;span class=&quot;token number&quot;&gt;75&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;/* å®éªŒ7 */&lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;define&lt;/span&gt; &lt;span class=&quot;token macro-name&quot;&gt;__NR_shmget&lt;/span&gt;     &lt;span class=&quot;token expression&quot;&gt;&lt;span class=&quot;token number&quot;&gt;76&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;define&lt;/span&gt; &lt;span class=&quot;token macro-name&quot;&gt;__NR_shmat&lt;/span&gt;      &lt;span class=&quot;token expression&quot;&gt;&lt;span class=&quot;token number&quot;&gt;77&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;3ã€ä¿®æ”¹&lt;code class=&quot;language-text&quot;&gt;/kernel/system_call.s&lt;/code&gt;ï¼Œéœ€è¦ä¿®æ”¹æ€»çš„ç³»ç»Ÿè°ƒç”¨æ•°&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;nr_system_calls &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;78&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;4ã€ä¿®æ”¹&lt;code class=&quot;language-text&quot;&gt;/include/linux/sys.h&lt;/code&gt;ï¼Œå£°æ˜å…¨å±€æ–°å¢å‡½æ•°&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;/* å®éªŒ6 */&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;extern&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;sys_sem_open&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;extern&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;sys_sem_wait&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;extern&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;sys_sem_post&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;extern&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;sys_sem_unlink&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;/* å®éªŒ7 */&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;extern&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;sys_shmget&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;extern&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;sys_shmat&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

fn_ptr sys_call_table&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;//...sys_setreuid,sys_setregid,sys_whoami,sys_iam,&lt;/span&gt;
sys_sem_open&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;sys_sem_wait&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;sys_sem_post&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;sys_sem_unlink&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;/* å®éªŒ6 */&lt;/span&gt;
sys_shmget&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; sys_shmat   &lt;span class=&quot;token comment&quot;&gt;/* å®éªŒ7 */&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;5ã€ä¿®æ”¹ &lt;code class=&quot;language-text&quot;&gt;linux-0.11/kernel/Makefile&lt;/code&gt;ï¼Œæ·»åŠ &lt;code class=&quot;language-text&quot;&gt;sem.c&lt;/code&gt;ç¼–è¯‘è§„åˆ™&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;makefile&quot;&gt;&lt;pre class=&quot;language-makefile&quot;&gt;&lt;code class=&quot;language-makefile&quot;&gt;OBJS  &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; sched.o system_call.o traps.o asm.o fork.o \
	panic.o printk.o vsprintf.o sys.o exit.o \
	signal.o mktime.o who.o sem.o
// ...
&lt;span class=&quot;token comment&quot;&gt;### Dependencies:&lt;/span&gt;
&lt;span class=&quot;token target symbol&quot;&gt;sem.s sem.o&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; sem.c ../&lt;span class=&quot;token keyword&quot;&gt;include&lt;/span&gt;/linux/sem.h ../&lt;span class=&quot;token keyword&quot;&gt;include&lt;/span&gt;/linux/kernel.h \
../&lt;span class=&quot;token keyword&quot;&gt;include&lt;/span&gt;/unistd.h&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;6ã€å®ç°ç”Ÿäº§è€…ç¨‹åº &lt;code class=&quot;language-text&quot;&gt;producer.c&lt;/code&gt; å’Œ æ¶ˆè´¹è€…ç¨‹åº &lt;code class=&quot;language-text&quot;&gt;consumer.c&lt;/code&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ä¸ºäº†ç¡®ä¿å¯¹å…±äº«å†…å­˜æ“ä½œçš„äº’æ–¥ï¼Œä»éœ€è¦ä½¿ç”¨ä¸€ä¸ªä¿¡å·é‡åœ¨æ¯æ¬¡è¯»å†™çš„æ—¶å€™è¿›è¡Œé™åˆ¶ï¼›åŒç†ï¼Œè¿˜éœ€è¦ä¸¤ä¸ªä¿¡å·é‡ä¿æ¥ä¿è¯å…±äº«å†…å­˜ä¸­ç¼“å†²åŒºå¤§å°ä¸º 10&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;producer.c&lt;/code&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;define&lt;/span&gt; &lt;span class=&quot;token macro-name&quot;&gt;__LIBRARY__&lt;/span&gt;   &lt;span class=&quot;token comment&quot;&gt;/* åœ¨ç¬¬ä¸€è¡Œæ·»åŠ  */&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;lt;stdio.h&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;lt;stdlib.h&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;lt;linux/sem.h&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;lt;unistd.h&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;lt;fcntl.h&gt;&lt;/span&gt;&lt;/span&gt;

&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;define&lt;/span&gt; &lt;span class=&quot;token macro-name&quot;&gt;SIZE&lt;/span&gt; &lt;span class=&quot;token expression&quot;&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;define&lt;/span&gt; &lt;span class=&quot;token macro-name&quot;&gt;M&lt;/span&gt; &lt;span class=&quot;token expression&quot;&gt;&lt;span class=&quot;token number&quot;&gt;510&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;/* add */&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;_syscall2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;sem_open&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;char&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;unsigned&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;value&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;_syscall1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;sem_wait&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;sem_t&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;sem&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;_syscall1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;sem_post&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;sem_t&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;sem&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;_syscall1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;sem_unlink&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;_syscall2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;shmget&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;key&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;size&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;_syscall1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; shmat&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; shmid&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; shm_id&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; count &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;p&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; curr&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    
    &lt;span class=&quot;token class-name&quot;&gt;sem_t&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;sem_empty&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;sem_full&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;sem_shm&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  &lt;span class=&quot;token comment&quot;&gt;/*3ä¸ªä¿¡å·é‡*/&lt;/span&gt;
    sem_empty &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;sem_open&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;empty&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; SIZE&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    sem_full &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;sem_open&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;full&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    sem_shm &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;sem_open&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;shm&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    shm_id &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;shmget&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2521&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; SIZE&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;    &lt;span class=&quot;token comment&quot;&gt;/* è·å–ä¸€å—ç©ºé—²çš„ç‰©ç†é¡µé¢æ¥åˆ›å»ºå…±äº«å†…å­˜ */&lt;/span&gt;
    p &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;shmat&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;shm_id&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;       &lt;span class=&quot;token comment&quot;&gt;/* å°†æŒ‡å®šç‰©ç†é¡µé¢æ˜ å°„åˆ°å½“å‰è¿›ç¨‹çš„è™šæ‹Ÿå†…å­˜ç©ºé—´ */&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;/*ç”Ÿäº§å¤šå°‘ä¸ªäº§å“å°±å¾ªç¯å‡ æ¬¡*/&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;count &lt;span class=&quot;token operator&quot;&gt;&amp;lt;=&lt;/span&gt; M&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;/*emptyå¤§äº0,æ‰èƒ½ç”Ÿäº§*/&lt;/span&gt;
        &lt;span class=&quot;token function&quot;&gt;sem_wait&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;sem_empty&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;    &lt;span class=&quot;token comment&quot;&gt;/* empty-- */&lt;/span&gt;
        &lt;span class=&quot;token function&quot;&gt;sem_wait&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;sem_shm&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;      &lt;span class=&quot;token comment&quot;&gt;/* mutex-- */&lt;/span&gt;

        &lt;span class=&quot;token comment&quot;&gt;/*ä»ä¸Šæ¬¡ä½ç½®ç»§ç»­å‘æ–‡ä»¶ç¼“å†²åŒºå†™å…¥ä¸€ä¸ªå­—ç¬¦*/&lt;/span&gt;
        curr &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; count &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt; SIZE&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;    &lt;span class=&quot;token comment&quot;&gt;/*æ›´æ–°å†™å…¥ç¼“å†²åŒºä½ç½®ï¼Œä¿è¯åœ¨0-9ä¹‹é—´ï¼Œç¼“å†²åŒºæœ€å¤§ä¸º10*/&lt;/span&gt;
        &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;p &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; curr&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; count&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token function&quot;&gt;printf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Producer: %d\n&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;p &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; curr&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token function&quot;&gt;fflush&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;stdout&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

        &lt;span class=&quot;token function&quot;&gt;sem_post&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;sem_shm&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;      &lt;span class=&quot;token comment&quot;&gt;/* mutex++ */&lt;/span&gt;
        &lt;span class=&quot;token function&quot;&gt;sem_post&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;sem_full&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;     &lt;span class=&quot;token comment&quot;&gt;/* full++ï¼Œå”¤é†’æ¶ˆè´¹è€…çº¿ç¨‹ */&lt;/span&gt;
        count&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;printf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;producer end.\n&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;fflush&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;stdout&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;consumer.c&lt;/code&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;define&lt;/span&gt; &lt;span class=&quot;token macro-name&quot;&gt;__LIBRARY__&lt;/span&gt;   &lt;span class=&quot;token comment&quot;&gt;/* åœ¨ç¬¬ä¸€è¡Œæ·»åŠ  */&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;lt;stdio.h&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;lt;stdlib.h&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;lt;linux/sem.h&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;lt;unistd.h&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;lt;fcntl.h&gt;&lt;/span&gt;&lt;/span&gt;

&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;define&lt;/span&gt; &lt;span class=&quot;token macro-name&quot;&gt;SIZE&lt;/span&gt; &lt;span class=&quot;token expression&quot;&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;define&lt;/span&gt; &lt;span class=&quot;token macro-name&quot;&gt;M&lt;/span&gt; &lt;span class=&quot;token expression&quot;&gt;&lt;span class=&quot;token number&quot;&gt;510&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;/* add */&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;_syscall2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;sem_open&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;char&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;unsigned&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;value&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;_syscall1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;sem_wait&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;sem_t&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;sem&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;_syscall1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;sem_post&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;sem_t&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;sem&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;_syscall1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;sem_unlink&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;_syscall2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;shmget&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;key&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;size&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;_syscall1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; shmat&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; shmid&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; shm_id&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; count &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;p&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; curr&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token class-name&quot;&gt;sem_t&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;sem_empty&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;sem_full&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;sem_shm&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  &lt;span class=&quot;token comment&quot;&gt;/*3ä¸ªä¿¡å·é‡*/&lt;/span&gt;
    sem_empty &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;sem_open&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;empty&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; SIZE&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    sem_full &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;sem_open&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;full&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    sem_shm &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;sem_open&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;shm&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    shm_id &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;shmget&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2521&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; SIZE&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;    &lt;span class=&quot;token comment&quot;&gt;/* è·å–ä¸€å—ç©ºé—²çš„ç‰©ç†é¡µé¢æ¥åˆ›å»ºå…±äº«å†…å­˜ */&lt;/span&gt;
    p &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;shmat&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;shm_id&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;       &lt;span class=&quot;token comment&quot;&gt;/* å°†æŒ‡å®šç‰©ç†é¡µé¢æ˜ å°„åˆ°å½“å‰è¿›ç¨‹çš„è™šæ‹Ÿå†…å­˜ç©ºé—´ */&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;/*ç”Ÿäº§å¤šå°‘ä¸ªäº§å“å°±å¾ªç¯å‡ æ¬¡*/&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;count &lt;span class=&quot;token operator&quot;&gt;&amp;lt;=&lt;/span&gt; M&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;/* fullå¤§äº0ï¼Œæ‰èƒ½æ¶ˆè´¹ */&lt;/span&gt;
        &lt;span class=&quot;token function&quot;&gt;sem_wait&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;sem_full&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;/* full-- */&lt;/span&gt;
        &lt;span class=&quot;token function&quot;&gt;sem_wait&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;sem_shm&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  &lt;span class=&quot;token comment&quot;&gt;/* mutex-- */&lt;/span&gt;

        &lt;span class=&quot;token comment&quot;&gt;/*ä»ä¸Šæ¬¡ä½ç½®ç»§ç»­å‘æ–‡ä»¶ç¼“å†²åŒºå†™å…¥ä¸€ä¸ªå­—ç¬¦*/&lt;/span&gt;
        curr &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; count &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt; SIZE&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;    &lt;span class=&quot;token comment&quot;&gt;/*æ›´æ–°å†™å…¥ç¼“å†²åŒºä½ç½®ï¼Œä¿è¯åœ¨0-9ä¹‹é—´ï¼Œç¼“å†²åŒºæœ€å¤§ä¸º10*/&lt;/span&gt;
        &lt;span class=&quot;token function&quot;&gt;printf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;%d:%d\n&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getpid&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;p &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; curr&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token function&quot;&gt;fflush&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;stdout&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

        &lt;span class=&quot;token function&quot;&gt;sem_post&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;sem_shm&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;      &lt;span class=&quot;token comment&quot;&gt;/* mutex++ */&lt;/span&gt;
        &lt;span class=&quot;token function&quot;&gt;sem_post&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;sem_empty&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;    &lt;span class=&quot;token comment&quot;&gt;/* empty++ï¼Œå”¤é†’ç”Ÿäº§è€…è¿›ç¨‹ */&lt;/span&gt;
        count&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;printf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;consumer end.\n&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;fflush&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;stdout&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;/*é‡Šæ”¾ä¿¡å·é‡*/&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;sem_unlink&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;empty&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;sem_unlink&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;full&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;sem_unlink&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;shm&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;ä¸‰ã€åœ¨linux0.11ç¯å¢ƒä¸‹ç¼–è¯‘è¿è¡Œ&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;å°†å·²ç»ä¿®æ”¹çš„&lt;code class=&quot;language-text&quot;&gt;consumer.c&lt;/code&gt;ã€&lt;code class=&quot;language-text&quot;&gt;producer.c&lt;/code&gt; å’Œ &lt;code class=&quot;language-text&quot;&gt;unistd.h&lt;/code&gt;ã€&lt;code class=&quot;language-text&quot;&gt;sem.h&lt;/code&gt;ï¼ˆè¯¦è§Lab6ï¼‰æ–‡ä»¶æ‹·è´åˆ°linux-0.11ç³»ç»Ÿä¸­&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;cd&lt;/span&gt; oslab_Lab6
&lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; ./mount-hdc
&lt;span class=&quot;token function&quot;&gt;cp&lt;/span&gt; ./consumer.c ./hdc/usr/root/
&lt;span class=&quot;token function&quot;&gt;cp&lt;/span&gt; ./producer.c ./hdc/usr/root/
&lt;span class=&quot;token function&quot;&gt;cp&lt;/span&gt; ./linux-0.11/include/unistd.h ./hdc/usr/include/ 
&lt;span class=&quot;token function&quot;&gt;cp&lt;/span&gt; ./linux-0.11/include/linux/sem.h ./hdc/usr/include/linux/
&lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;umount&lt;/span&gt; hdc&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ol start=&quot;2&quot;&gt;
&lt;li&gt;ç¼–è¯‘åŠè¿è¡ŒBochs&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;cd&lt;/span&gt; oslab_Lab6/linux-0.11
&lt;span class=&quot;token function&quot;&gt;make&lt;/span&gt; all
&lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;/run&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ol start=&quot;3&quot;&gt;
&lt;li&gt;åœ¨linux0.11çš„Bochsä¸­ç¼–è¯‘ç”Ÿäº§è€…-æ¶ˆè´¹è€…ç¨‹åº&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;gcc &lt;span class=&quot;token parameter variable&quot;&gt;-o&lt;/span&gt; producer producer.c
gcc &lt;span class=&quot;token parameter variable&quot;&gt;-o&lt;/span&gt; consumer consumer.c
&lt;span class=&quot;token function&quot;&gt;sync&lt;/span&gt;
./producer &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; p.txt &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt;
./consumer &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; c.txt&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;amp;&lt;/code&gt; è¡¨ç¤ºä½¿ç”¨ç»ˆç«¯çš„åå°è¿è¡ŒåŠŸèƒ½ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ol start=&quot;4&quot;&gt;
&lt;li&gt;åœ¨Ubuntuä¸­æŒ‚è½½&lt;code class=&quot;language-text&quot;&gt;hdc&lt;/code&gt;ï¼Œå°†linux0.11è¾“å‡ºçš„&lt;code class=&quot;language-text&quot;&gt;1.txt&lt;/code&gt;æ–‡ä»¶ç§»åŠ¨åˆ°Ubuntuä¸­&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;sudo ./mount-hdc
cd /hdc/usr/root/
sudo cp ./p.txt ../../..
sudo cp ./c.txt ../../..&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;æ‰“å¼€&lt;code class=&quot;language-text&quot;&gt;p.txt&lt;/code&gt; å’Œ &lt;code class=&quot;language-text&quot;&gt;c.txt&lt;/code&gt; æ–‡ä»¶å³å¯è§åˆ°è¾“å‡ºå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 274px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/bcc3c9b4424d491c90ab77a76306804c/d3fa7/11.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 111.39240506329114%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAYAAADAQbwGAAAACXBIWXMAAAsTAAALEwEAmpwYAAACgklEQVR42o1V2XLaQBDk/z8myQNVju3CDxwCIQ7dB7o4xOVKHjBFYiSgM7MyqRCwvVRtAYLt7Znu6a18+/oF1WoV9UYDiqLg4eEed9/vUKvV0Ov3MQoCPD3VcP/4iDCMkKYpkiS5WHEcI8sy1Ot1VNROWzycTjNMJlO4rgvX8xBFEVbrNfI8x8j3MBgMURyOuPU6HsvnjFNpNRvoExM+JY5TmIYOwzDguR6y+QKvv3/RIQ4cx0VeFDidTgLg33U4HAQgk6i0lRZ6Wk8ApukYpmnSsuD7PubLFfb7VwJ3YDsODkcJhm2lKUBi+pKOx7AskxYBUu/myyUB7hF4DjodlRgePgdU2y2o3S4iZvgf4OKNIZes6wb1UAJQadZpgyfAElLwouTFEkWRi5KZoZQo7VZDMGKwqx4yYL6HTb8bhvl348cMCZD/fGZ40UMBmMMlQSzbJjUlRbFth1S+IcoboENgOh0qqXJDmDYMw7KH5EEu2/f8a0AZhiwK9yxNE2EdNjW3wKNpyRYLMSm2bYkxlBJFadVhEKPzjL7HcDDUJRmSKGwJnpQkea9kC6Zly/WQAQMSYDyZlCpf2aYEVLuavA+HwyHGZ9vcBLRFW+QYkiiK0hYqsyi6XqYNx9iM0oYB+RCLrHU8nuR8qFPDP+qhSyW3KHylwkHraTQJFoVDRH2cClNbJEAQjEQ4nEvmzJRSWVVVskxcBizbxjREv84+5PiKAh9D3cQ+Lz4H7HbJMpS0s1lG18BUlCxGj0RZrZ/x8rIRV0AwCimtS4BzavM7r4vE1rQuAYYUUS5tGhHDUhQu+/nHT8wmKbTegK6DudhY0DXArDebDbbbLXa7nfjM7yzoH4cgXNbF2VoXAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/bcc3c9b4424d491c90ab77a76306804c/d3fa7/11.png&quot;
        srcset=&quot;/blog/static/bcc3c9b4424d491c90ab77a76306804c/c26ae/11.png 158w,
/blog/static/bcc3c9b4424d491c90ab77a76306804c/d3fa7/11.png 274w&quot;
        sizes=&quot;(max-width: 274px) 100vw, 274px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 187px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/7d22daebb95a521d3b84f24eaf357f77/47fe2/12.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 129.1139240506329%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAaCAYAAAC3g3x9AAAACXBIWXMAAAsTAAALEwEAmpwYAAADhklEQVR42pVVa2/aWBTk//+IVdpq2zSqdumGEBIgUDA2jxhCbPzAYMBgjMEY8+w2r9lzb/Jhpa26xtKVH9jD3DNz5iS+nJ3i5P17fPj9I/K5HM7OPiObv0Eul8eHk99w8u4d8oUS2u07yLKMZrP5y5Uw1DYEqYqyIMH3XCiKgtFojF7fhlyvon2vIAjXYMfLywv+70g4QxtqR8PU87BarTAY2FgslvDnc5h6B/eKilW04S8/PT3h+fn5lyvRaki4KX7joJPJBFVJwpAz7KOYv0b+pgB3FsRnqKn3uG22YJgW/JmHjqoQWx+O46Ap30LVdDw8PCDukTA1BVK9Ad0wsfBnVEOVauhgRIByo4pWW8Fuf3hjGAPQMjXctu7Q7fawmPt0NjDz55hOp2jJDWi6hvX2EH/LaruJ2q0MXTcxnThcetedEssR6pIImf5sszsC8E6uoSSIuCN7uGMGKNN2XfRJFKFURK1Ww3x5hG1GtoWOZsC0egjmMw7kTT14Mx96RyXFHWy2+/iAHdpysSxCVTVeQ0VpY+J6BDSCVClBEivwgyMYdo0OFPJg3x5iRp2iquqbKC7uqd36/R6iYxg2JAEXmWuUiOV0Mka1KnJwg2yUu7pEsVRGcEwNPZe6wrZh9WxE4RLOeEyttyCQJYZ2Hy7Vc3/4/goYx9hyXUQmm+cqT90JGvUaF8Lq9ZG/uuDJMz8mHOxeF7rZRRhGCJcB+VFHEITwqWu6hk5bNxC+hUMswGq5gGTqAsm/UnCGA1SEMrpkIU3TkD7/CkGsUqfs4gMuyHusbpPJFJt1ROp6xHZFkRXBJZGCZchjKXY41CpFYpjGdfaGMxTJd0xlFhaX53/ij2QSw8k8PsMhBSoTwSXfLYMAlkX1XEVk8jn6PYvEsf7VyzEY1qsS9bKATCaLgd2DQDU0SCQWuKnkF6TSaYy9RXyGTNmZ7xOrFXbbLY/+aL3GerPhjAP6/fvfP46oIUVURZTQNU0MhkMUCnlucqayWKEuSp1jMPZ+yvBnjBNjZ0Rh4PJ5stttaVBFWBPDDTFkiw2u/eHAxwD7/PHxka+IXMDO/wEUKVEKJYFmbpNPuTJlYOryGmmqXTadQuYqi4+npzSbv3FbFQs3yFym8enTKdnN5cCsVZfUquw6werGLhirLV2/stu+sgtD/my329Fc2XO2S3q2oXci2gm7D+megbHF7v8BIJCWlLs5DccAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/7d22daebb95a521d3b84f24eaf357f77/47fe2/12.png&quot;
        srcset=&quot;/blog/static/7d22daebb95a521d3b84f24eaf357f77/c26ae/12.png 158w,
/blog/static/7d22daebb95a521d3b84f24eaf357f77/47fe2/12.png 187w&quot;
        sizes=&quot;(max-width: 187px) 100vw, 187px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[ã€å“ˆå·¥å¤§_æ“ä½œç³»ç»Ÿå®éªŒã€‘Lab6 ä¿¡å·é‡çš„å®ç°å’Œåº”ç”¨]]></title><description><![CDATA[Githubä»£ç ä»“åº“é“¾æ¥ æœ¬èŠ‚å°†æ›´æ–°å“ˆå·¥å¤§ã€Šæ“ä½œç³»ç»Ÿã€‹è¯¾ç¨‹ç¬¬å…­ä¸ª Labâ€¦]]></description><link>https://gatsbystarterblogsource.gatsbyjs.io/015_HIT_OS_Lab6/</link><guid isPermaLink="false">https://gatsbystarterblogsource.gatsbyjs.io/015_HIT_OS_Lab6/</guid><pubDate>Fri, 11 Oct 2024 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;a href=&quot;https://github.com/Joker001014/HIT-OSlab&quot;&gt;Githubä»£ç ä»“åº“é“¾æ¥&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æœ¬èŠ‚å°†æ›´æ–°å“ˆå·¥å¤§ã€Šæ“ä½œç³»ç»Ÿã€‹è¯¾ç¨‹ç¬¬å…­ä¸ª Lab å®éªŒ &lt;strong&gt;ä¿¡å·é‡çš„å®ç°å’Œåº”ç”¨&lt;/strong&gt;ã€‚æŒ‰ç…§å®éªŒä¹¦è¦æ±‚ï¼Œä»‹ç»äº†éå¸¸è¯¦ç»†çš„å®éªŒæ“ä½œæµç¨‹ï¼Œå¹¶æä¾›äº†è¶…çº§æ— æ•Œè¯¦ç»†çš„ä»£ç æ³¨é‡Šã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å®éªŒç›®çš„ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;åŠ æ·±å¯¹è¿›ç¨‹åŒæ­¥ä¸äº’æ–¥æ¦‚å¿µçš„è®¤è¯†ï¼›&lt;/li&gt;
&lt;li&gt;ç»¼æŒæ¡ä¿¡å·é‡çš„ä½¿ç”¨ï¼Œå¹¶åº”ç”¨å®ƒè§£å†³ç”Ÿäº§è€…â€”â€”æ¶ˆè´¹è€…é—®é¢˜ï¼›&lt;/li&gt;
&lt;li&gt;æŒæ¡ä¿¡å·é‡çš„å®ç°åŸç†ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;å®éªŒä»»åŠ¡ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;1ã€åœ¨ Ubuntu ä¸‹ç¼–å†™ç¨‹åºï¼Œç”¨ä¿¡å·é‡è§£å†³ç”Ÿäº§è€…â€”â€”æ¶ˆè´¹è€…é—®é¢˜ï¼›
2ã€åœ¨ 0.11 ä¸­å®ç°ä¿¡å·é‡ï¼Œç”¨ç”Ÿäº§è€…â€”æ¶ˆè´¹è€…ç¨‹åºæ£€éªŒä¹‹ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;æ–‡ä»¶å&lt;/th&gt;
&lt;th&gt;ä»‹ç»&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;hit-æ“ä½œç³»ç»Ÿå®éªŒæŒ‡å¯¼ä¹¦.pdf&lt;/td&gt;
&lt;td&gt;å“ˆå·¥å¤§OSå®éªŒæŒ‡å¯¼ä¹¦&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Linuxå†…æ ¸å®Œå…¨æ³¨é‡Š(ä¿®æ­£ç‰ˆv3.0).pdf&lt;/td&gt;
&lt;td&gt;èµµåšå£«å¯¹Linux v0.11 OSè¿›è¡Œäº†è¯¦ç»†å…¨é¢çš„æ³¨é‡Šå’Œè¯´æ˜&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;file1615.pdf&lt;/td&gt;
&lt;td&gt;BIOS æ¶‰åŠçš„ä¸­æ–­æ•°æ®æ‰‹å†Œ&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;hit-oslab-linux-20110823.tar.gz&lt;/td&gt;
&lt;td&gt;hit-oslab å®éªŒç¯å¢ƒ&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;gcc-3.4-ubuntu.tar.gz&lt;/td&gt;
&lt;td&gt;Linux v0.11 æ‰€ä½¿ç”¨çš„ç¼–è¯‘å™¨&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&quot;https://joker001014.github.io/blog/019_HIT_OS_Bochs&quot;&gt;Bochs æ±‡ç¼–çº§è°ƒè¯•æŒ‡ä»¤&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;bochs åŸºæœ¬è°ƒè¯•æŒ‡ä»¤å¤§å…¨&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&quot;https://blog.csdn.net/yueyueniaolzp/article/details/82178954&quot;&gt;æœ€å…¨ASCIIç å¯¹ç…§è¡¨0-255&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;å±å¹•è¾“å‡ºå­—ç¬¦å¯¹ç…§çš„ ASCII ç &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&quot;https://blog.csdn.net/weixin_53159274/article/details/138074386?spm=1001.2014.3001.5501&quot;&gt;x86_64 å¸¸ç”¨å¯„å­˜å™¨å¤§å…¨&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;x86_64 å¸¸ç”¨å¯„å­˜å™¨å¤§å…¨&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3&gt;ä¸€ã€ç¼–å†™ç”Ÿäº§è€…-æ¶ˆè´¹è€…æ¨¡å‹&lt;/h3&gt;
&lt;p&gt;1ã€åœ¨ç¼–å†™ç”Ÿäº§è€…-æ¶ˆè´¹è€…æ¨¡å‹ä¹‹å‰ï¼Œå…ˆè¿›è¡Œä¸€äº›çŸ¥è¯†å‡†å¤‡ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;lseek() &lt;/code&gt;å‡½æ•°å¯ä»¥æ”¹å˜æ–‡ä»¶çš„æ–‡ä»¶åç§»é‡ï¼Œæ‰€æœ‰æ‰“å¼€çš„æ–‡ä»¶éƒ½æœ‰ä¸€ä¸ªå½“å‰æ–‡ä»¶åç§»é‡ï¼Œç”¨äºè¡¨æ˜æ–‡ä»¶å¼€å§‹å¤„åˆ°æ–‡ä»¶å½“å‰ä½ç½®çš„å­—èŠ‚æ•°ã€‚æˆåŠŸè¿”å›æ–°çš„åç§»é‡ï¼Œå¤±è´¥è¿”å›-1ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token class-name&quot;&gt;off_t&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;lseek&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; filedes&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;off_t&lt;/span&gt; offset&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; whence&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// å‚æ•° filedesï¼š  æ–‡ä»¶æè¿°ç¬¦&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// å‚æ•° offsetï¼š   ä½ç§»é‡&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// å‚æ•° whenceï¼š   æŒ‡å®šåˆå§‹ä½ç½®&lt;/span&gt;
	&lt;span class=&quot;token comment&quot;&gt;// 	SEEK_SET å°†è¯»å†™ä½ç½®æŒ‡å‘æ–‡ä»¶å¤´åå†å¢åŠ offsetä¸ªä½ç§»é‡ã€‚&lt;/span&gt;
	&lt;span class=&quot;token comment&quot;&gt;//	SEEK_CUR ä»¥ç›®å‰çš„è¯»å†™ä½ç½®å¾€åå¢åŠ offsetä¸ªä½ç§»é‡ã€‚&lt;/span&gt;
	&lt;span class=&quot;token comment&quot;&gt;//	SEEK_END å°†è¯»å†™ä½ç½®æŒ‡å‘æ–‡ä»¶å°¾åå†å¢åŠ offsetä¸ªä½ç§»é‡ã€‚&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;2ã€å®ç°ç”Ÿäº§è€…ã€æ¶ˆè´¹è€…æ¨¡å‹ï¼Œç¼–å†™&lt;code class=&quot;language-text&quot;&gt;pc.c&lt;/code&gt;æ–‡ä»¶ï¼š&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;lt;unistd.h&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;lt;sys/types.h&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;lt;stdio.h&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;lt;stdlib.h&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;lt;fcntl.h&gt;&lt;/span&gt;          &lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;lt;sys/stat.h&gt;&lt;/span&gt;        &lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;lt;semaphore.h&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;lt;sys/types.h&gt;&lt;/span&gt;  &lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;lt;sys/wait.h&gt;&lt;/span&gt;&lt;/span&gt;

&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;define&lt;/span&gt; &lt;span class=&quot;token macro-name&quot;&gt;M&lt;/span&gt; &lt;span class=&quot;token expression&quot;&gt;&lt;span class=&quot;token number&quot;&gt;530&lt;/span&gt;    		&lt;/span&gt;&lt;span class=&quot;token comment&quot;&gt;/*æ‰“å‡ºæ•°å­—æ€»æ•°*/&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;define&lt;/span&gt; &lt;span class=&quot;token macro-name&quot;&gt;N&lt;/span&gt; &lt;span class=&quot;token expression&quot;&gt;&lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt;       		&lt;/span&gt;&lt;span class=&quot;token comment&quot;&gt;/*æ¶ˆè´¹è€…è¿›ç¨‹æ•°*/&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;define&lt;/span&gt; &lt;span class=&quot;token macro-name&quot;&gt;BUFSIZE&lt;/span&gt; &lt;span class=&quot;token expression&quot;&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;      &lt;/span&gt;&lt;span class=&quot;token comment&quot;&gt;/*ç¼“å†²åŒºå¤§å°*/&lt;/span&gt;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token class-name&quot;&gt;sem_t&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;empty&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;full&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;mutex&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  &lt;span class=&quot;token comment&quot;&gt;/*3ä¸ªä¿¡å·é‡*/&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; fd&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;                       &lt;span class=&quot;token comment&quot;&gt;/*å…±äº«ç¼“å†²åŒºæ–‡ä»¶æè¿°ç¬¦*/&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt;  i&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;j&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;k&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;child&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt;  data&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;                    &lt;span class=&quot;token comment&quot;&gt;/*å†™å…¥çš„æ•°æ®*/&lt;/span&gt;
    &lt;span class=&quot;token class-name&quot;&gt;pid_t&lt;/span&gt; pid&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt;  buf_out &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;             &lt;span class=&quot;token comment&quot;&gt;/*è®°å½•ä¸Šæ¬¡ä»ç¼“å†²åŒºè¯»å–ä½ç½®*/&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt;  buf_in &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;              &lt;span class=&quot;token comment&quot;&gt;/*è®°å½•ä¸Šæ¬¡å†™å…¥ç¼“å†²åŒºä½ç½®*/&lt;/span&gt;
	&lt;span class=&quot;token comment&quot;&gt;/*åˆ›å»ºä¿¡å·é‡*/&lt;/span&gt;
	empty &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;sem_open&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;empty&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; O_CREAT&lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;O_EXCL&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0644&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; BUFSIZE&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;/*å‰©ä½™èµ„æº,åˆå§‹åŒ–ä¸ºsize*/&lt;/span&gt;
    full &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;sem_open&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;full&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; O_CREAT&lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;O_EXCL&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0644&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;         &lt;span class=&quot;token comment&quot;&gt;/*å·²ç”Ÿäº§èµ„æºï¼Œåˆå§‹åŒ–ä¸º0*/&lt;/span&gt;
	mutex &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;sem_open&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;mutex&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; O_CREAT&lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;O_EXCL&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0644&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;       &lt;span class=&quot;token comment&quot;&gt;/*äº’æ–¥é‡ï¼Œåˆå§‹åŒ–ä¸º1*/&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;/* åœ¨æ–‡ä»¶ä¸­å­˜å‚¨buf_outï¼ˆå› æ­¤ç”Ÿäº§è€…åªæœ‰ä¸€ä¸ªè¿›ç¨‹ï¼Œæ‰€ä»¥buf_inä¸ç”¨å­˜åœ¨æ–‡ä»¶ä¸­ï¼‰*/&lt;/span&gt;
    fd &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;open&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;buffer.txt&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; O_CREAT&lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;O_TRUNC&lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;O_RDWR&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0666&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; 
    &lt;span class=&quot;token function&quot;&gt;lseek&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;fd&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;BUFSIZE&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;sizeof&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;SEEK_SET&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;token comment&quot;&gt;/*ä¿®æ”¹åœ°å€åç§»åœ¨10ä¸ªæ•°å­—ä¹‹åï¼Œå³40å­—èŠ‚ä½ç½®*/&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;write&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;fd&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt;buf_out&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;sizeof&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;token comment&quot;&gt;/*å°†ä¸Šæ¬¡è¯»å–ä½ç½®buf_outå­˜å…¥bufferåçš„ä¸€ä¸ªä½ç½®,æ¯æ¬¡ä»è¯¥ä½ç½®è·å–ä¸Šæ¬¡ä½ç½®ï¼Œä»¥ä¾¿å­è¿›ç¨‹ä¹‹é—´é€šä¿¡*/&lt;/span&gt;
    
    &lt;span class=&quot;token comment&quot;&gt;/*ç”Ÿäº§è€…è¿›ç¨‹*/&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;pid&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;fork&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;token function&quot;&gt;printf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;I&apos;m producer. pid = %d\n&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getpid&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		&lt;span class=&quot;token comment&quot;&gt;/*ç”Ÿäº§å¤šå°‘ä¸ªäº§å“å°±å¾ªç¯å‡ æ¬¡*/&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt; i &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; i &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; M&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; i&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
			&lt;span class=&quot;token comment&quot;&gt;/*emptyå¤§äº0,æ‰èƒ½ç”Ÿäº§*/&lt;/span&gt;
            &lt;span class=&quot;token function&quot;&gt;sem_wait&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;empty&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  &lt;span class=&quot;token comment&quot;&gt;/* empty-- */&lt;/span&gt;
            &lt;span class=&quot;token function&quot;&gt;sem_wait&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;mutex&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  &lt;span class=&quot;token comment&quot;&gt;/* mutex-- */&lt;/span&gt;
            
            &lt;span class=&quot;token comment&quot;&gt;/*ä»ä¸Šæ¬¡ä½ç½®ç»§ç»­å‘æ–‡ä»¶ç¼“å†²åŒºå†™å…¥ä¸€ä¸ªå­—ç¬¦*/&lt;/span&gt;
            &lt;span class=&quot;token function&quot;&gt;lseek&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;fd&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; buf_in&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;sizeof&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;SEEK_SET&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; 
            &lt;span class=&quot;token function&quot;&gt;write&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;fd&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;sizeof&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; 
            &lt;span class=&quot;token comment&quot;&gt;/*æ›´æ–°å†™å…¥ç¼“å†²åŒºä½ç½®ï¼Œä¿è¯åœ¨0-9ä¹‹é—´ï¼Œç¼“å†²åŒºæœ€å¤§ä¸º10*/&lt;/span&gt;
            buf_in &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;buf_in &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt; BUFSIZE&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            
            &lt;span class=&quot;token function&quot;&gt;sem_post&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;mutex&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  &lt;span class=&quot;token comment&quot;&gt;/* mutex++ */&lt;/span&gt;
            &lt;span class=&quot;token function&quot;&gt;sem_post&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;full&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;   &lt;span class=&quot;token comment&quot;&gt;/* full++ï¼Œå”¤é†’æ¶ˆè´¹è€…çº¿ç¨‹ */&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token function&quot;&gt;printf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;producer end.\n&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token function&quot;&gt;fflush&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;stdout&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;token comment&quot;&gt;/*ç¡®ä¿å°†è¾“å‡ºç«‹åˆ»è¾“å‡ºåˆ°æ ‡å‡†è¾“å‡ºã€‚*/&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;pid &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token function&quot;&gt;perror&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Fail to fork!\n&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    
	&lt;span class=&quot;token comment&quot;&gt;/*æ¶ˆè´¹è€…è¿›ç¨‹*/&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt; j &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; j &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; N &lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; j&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;pid&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;fork&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	        &lt;span class=&quot;token comment&quot;&gt;/* æ¯ä¸ªè¿›ç¨‹è¯»å– M/N ä¸ªæ•°å­— */&lt;/span&gt;
			&lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt; k &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; k &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; M&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;N&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; k&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	            &lt;span class=&quot;token comment&quot;&gt;/* fullå¤§äº0ï¼Œæ‰èƒ½æ¶ˆè´¹ */&lt;/span&gt;
                &lt;span class=&quot;token function&quot;&gt;sem_wait&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;full&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  &lt;span class=&quot;token comment&quot;&gt;/* full-- */&lt;/span&gt;
                &lt;span class=&quot;token function&quot;&gt;sem_wait&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;mutex&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;/* mutex-- */&lt;/span&gt;
				
                &lt;span class=&quot;token comment&quot;&gt;/*ä»æ–‡ä»¶ç¬¬11ä¸ªä½ç½®è·å¾—ä¸Šæ¬¡è¯»å–ä½ç½®*/&lt;/span&gt;
                &lt;span class=&quot;token function&quot;&gt;lseek&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;fd&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;BUFSIZE&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;sizeof&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;SEEK_SET&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
                &lt;span class=&quot;token function&quot;&gt;read&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;fd&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt;buf_out&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;sizeof&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
                &lt;span class=&quot;token comment&quot;&gt;/*ä»ä¸Šæ¬¡è¯»å–ä½ç½®ç»§ç»­è¯»å–æ•°æ®*/&lt;/span&gt;
                &lt;span class=&quot;token function&quot;&gt;lseek&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;fd&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;buf_out&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;sizeof&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;SEEK_SET&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
                &lt;span class=&quot;token function&quot;&gt;read&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;fd&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;sizeof&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
                &lt;span class=&quot;token comment&quot;&gt;/*åœ¨æ–‡ä»¶ç¬¬11ä¸ªä½ç½®å†™å…¥ä¸‹æ¬¡åº”è¯»å–ä½ç½®*/&lt;/span&gt;
                buf_out &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;buf_out &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt; BUFSIZE&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
                &lt;span class=&quot;token function&quot;&gt;lseek&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;fd&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;BUFSIZE&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;sizeof&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;SEEK_SET&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
                &lt;span class=&quot;token function&quot;&gt;write&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;fd&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt;buf_out&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;sizeof&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

                &lt;span class=&quot;token function&quot;&gt;sem_post&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;mutex&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  &lt;span class=&quot;token comment&quot;&gt;/* mutex++ */&lt;/span&gt;
                &lt;span class=&quot;token function&quot;&gt;sem_post&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;empty&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  &lt;span class=&quot;token comment&quot;&gt;/* empty++ï¼Œå”¤é†’ç”Ÿäº§è€…è¿›ç¨‹ */&lt;/span&gt;
                &lt;span class=&quot;token comment&quot;&gt;/*æ¶ˆè´¹èµ„æº*/&lt;/span&gt;
                &lt;span class=&quot;token function&quot;&gt;printf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;%d:  %d\n&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getpid&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
                &lt;span class=&quot;token function&quot;&gt;fflush&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;stdout&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
			&lt;span class=&quot;token function&quot;&gt;printf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;child-%d: pid = %d end.\n&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; j&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getpid&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
		&lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;pid&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
		&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
			&lt;span class=&quot;token function&quot;&gt;perror&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Fail to fork!\n&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
			&lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
	&lt;span class=&quot;token comment&quot;&gt;/*å›æ”¶çº¿ç¨‹èµ„æº*/&lt;/span&gt;
    child &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; N &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;child&lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token function&quot;&gt;wait&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;/*é‡Šæ”¾ä¿¡å·é‡*/&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;sem_unlink&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;full&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;sem_unlink&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;empty&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;sem_unlink&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;mutex&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;/*é‡Šæ”¾æ–‡ä»¶èµ„æº*/&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;close&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;fd&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;3ã€åœ¨Ubuntuä¸‹ç¼–è¯‘æ‰§è¡Œ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æ³¨æ„&lt;/strong&gt;ï¼šæ­¤å¤„ä»£ç å¤´æ–‡ä»¶ä½¿ç”¨çš„æ˜¯Ubuntuç³»ç»Ÿä¸‹çš„&lt;code class=&quot;language-text&quot;&gt;semaphore.h&lt;/code&gt;ä¸­çš„ä¿¡å·é‡ï¼Œæ•…æ— éœ€ä¸‹æ–‡å®šä¹‰çš„ä¿¡å·é‡å³å¯ç¼–è¯‘é€šè¿‡ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;gcc -o pc pc.c -lpthread
./pc &gt; 1.txt&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;æ‰“å¼€&lt;code class=&quot;language-text&quot;&gt;1.txt&lt;/code&gt;æ–‡ä»¶å³å¯è§åˆ°è¾“å‡ºå¦‚ä¸‹ï¼š
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 170px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/7da89b7b4f6eb5770eef03138c27413e/04472/1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 217.08860759493672%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAArCAYAAAB4pah1AAAACXBIWXMAAAsTAAALEwEAmpwYAAAHe0lEQVR42nVXB1Niaxb0//+Brdramt335j31OSbARM4ZBCRcESTnnCRDb38feGdQhyqKK1wO/fXp06c9Oj09hXgMhkNMJhO8vb1hPp9jNpvJ18VisbvmU7yKe96fs/nh3+J5dHl5KQt2GmVksnlUanV47Ga4vAFotDrorq/gclpxb7TA7XKjPxzJ+5fzCTSaGyxWa/z6UAsO+x2UKzV0u3wtFlAolpBIJJBKJpHPvSKppKEoCt6mM3n/erXA83Ma683m64LdTgvJZAq1Wg3xaAiP0ScYDEZYTCYEA34EQmF+nlARbpZzvKSfscO3/apgmwgr6LRbSCtJZHNFRGMxRB5DUFIJJJQM+r0Oev3BrsR6iVwuh/UWXyMcj4byhm63i8xzEunMK8KPYRYMSyRP8YQ88nQ23391i2w2i8Vy+XXBfreNZEpBrVpBNBxA5CkBq9UGm9mEx5AfNpcXAb8fw9F4V26zRownWCxXXxccjQYoFovodDqolgt4fc0jEomwMXFeZ6mALF4y2Z8Itxt5ouXqNwW75C5I4sulIvxuB4KRJ+gNBtzf6igbG+yeINGX0Gh29vVW8Hh81Ob8dwhH6JNwIexOq4lWu41KtYo6u95hw+r1BgvWfiLabiXfv5VNs1FDiAiL1KDDrIfd5cP5+QXO/zmBxWzEhfYWtzc36PSH8v4VZePxeLH60Oajk5NjeVGvlZB+SVOHVVQqJfLzKoUtOiyuRUcLhTy6vS5G4xEGgx7iT09SapPJGMPhgKcc4uj79z9kwYDXjm//+5NFYtBcnEB3p8e3b9/wn3//C1cXp/jvX8e4+HGG55cX9Fi0025Aq9VQGSkW65OWFilo4+gHb5Kjxzer5GgwGEhxt9nteqOBVrMhOWy1WlIBk8mbNIzlcoEq+e3z/hV5nc8X8v2jqz2H7WYNiaQipWM13MLicOP09Aynf3+HyXCPc80dzCYzjzxQZzkUCmH5kUN1UsZjTKdTTsyIaIcSVYX8NIlQGEaDaEulstrlzXotlfHxoRYs5DK4uX2gDkuyyzZ2+Z+zM5yd/A2D/g4PJjubEEN9r8PlYoqzs3PMF8t3FX2c5RGR9GTHhFEIExC8td857PRoslOeYmdfG45eu91hod8cuc4psNmdFDAN1kEz9YWg091Ap7misdpxZzDj/v6eszxROdTT3lSEnwx20JfTIPiqVsoolitI0V2EDksUe/olw5l+VWdZIBQcbzYfEOp0OkpgDrNRD68/JIUdCdJZwhHc3t1Df3cHn9cNs80Bu92uGuxqMYPT6SLCD+ag0WjkRTweRy5fRI985bIvKJQq9L9npOg22cwL0tmcRNof7EZvTYNN8fNPs6zVavnhhl+MoUmSW+0ukk8RxFPP8Hi98Hs9/LEYDTZJ51YwnkxVx85m0jCabQcWJgtu+SuhgI+87dwlGY9S5M9wcct5XE5Eo2GEInFOUJPrdq892leSp3J7/Qco1YKpVBLFQklKpZjLsglZBAJBdQVEY3EWjqpNEV0uFfPIk5rVL6t0d2R+6HQ6yWGBnSsj4HMhHEvAbLHA+HAHv88Nk80Fp8NOSnp7gAskE08IR+Oc4eXnplRppm2aqhinRq2CKiWUy+elPwptlitVNIn+fYds1it5f73RZA/Wh7JZMFK4nA7EE+LYebiZHNy+IJOBDteX53DYzLh5MMFus6GzN4ctEYZDAbh430HBd4SlklhQXcqijx7FXSMqYarifWEMRc54oVA8MIdmoy4ThlDJAcLZ9A0W8hUIhpHjhrObHuDw+HFxcYkfp8cwGe+hvWeK4EqtN9v75DDjeg3KVSFClVrw+vpaXojuigUlEtaIdi7kIZZQv9+TdibSmTCQd4RCGcLyxH2bzSeEU5iYYSLRGPJshPlBJ7t6wqh3zBVhNNzh9EKDq8sr1WAFwhAzj/bm4WCVqgjLNE+xRkdEIhaO6GCpXCZ/dWlfzWZLcrxcrtTk0Oaq6Pb6BxYmEQqfu9FpOWoBudkscgV4cHxChH/9QYO9xdmVjq96jmdXRejzuKC3OORO+YSwJhd6lzxOmLJ6kjPxtzBbwWOH5tsiytm+AYLDQb8vs84nDgVCj9spPU/sDZfVAIfbj8ura1yd/4DVYoLJ6uAYPqK7X/Tb1RzhYEAm2y91KDQ35xrsc+c2qbsqo3GG4SjPQCQMV9jZmAt+9ktYqpBjhSn2E8IVd6yIG3aHi3mmgqDXCW8gJDP2jeYabqcdD0Si1xvQG+zcZk0Ok7S1EEPV/KtZVp4ViUrwJ4y0WmtIy39lUhDjKBC2mnUq4Gc+rJRL6FGH288Gu+ZcBqUOhQHEOKOPdBub1Q671SJjsYu+F4lEMXn7abAKY4jRYjvs8s4PWTAc4lxybjnDImMr6Qz8TKwBn1faVPAxKsPRcDxR86FCD/VxXA9meXfkNd3ZiVhCkfklR2tX0i/w+nwIsZPPSgpx/oeQptEKIYsRXbKBCt8XMVkMRJ8SGvPHdghpRWazGcFwlL5Ig/U4EaJxmphlDA+33HpOGG1OuQ5q9aYM6mJcxb8bVlIy5IwL/Qof+D8ppTkprtO9LgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/7da89b7b4f6eb5770eef03138c27413e/04472/1.png&quot;
        srcset=&quot;/blog/static/7da89b7b4f6eb5770eef03138c27413e/c26ae/1.png 158w,
/blog/static/7da89b7b4f6eb5770eef03138c27413e/04472/1.png 170w&quot;
        sizes=&quot;(max-width: 170px) 100vw, 170px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 301px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/d975f1e247d87b1dddf4fc811bcb5b78/fb933/2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 95.56962025316456%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAYAAACQjC21AAAACXBIWXMAAAsTAAALEwEAmpwYAAACzUlEQVR42pVUiW7aUBDk/7+qzdFgbEPAxhe+bUw4GlKuBDBMZx+HUqlqqCXLGPnNzs7OTmMQ+HC9AHkWw7YsfPt+B03TEAwiyBWGITqdDj4+tur9eDziX1fD91z0XR9ZGsN1XeiGiX7fRpoX6oMsy+B5Hra7vaDhcDhcDwu4ug/Ha6FGHIWw7T7G4zGqaoiiKDAYDPDc7cJ1HBbxsF6vMZ1O0e60MawqrFYr5HmGtqmjpfNutTB/W5wAXdeB4/mIowhpmsA0Tfi+jzCKUZUFdL2FcjjCbl9jtVzyuVdsttstZXjHZrNRBeu6PgEmSQSXAAmZemzfYMu9noW8KFHvd2QbsECAfX3ALVejb1vodAmQRgTq4u7+QbEMwtNQfOpnGgaZnQCp1vn5ScNPg1IaJlmO0bBQhzVNV4BRnKoPkiRW9/42gmgEPttsP6PIUzhOH09NjUx7qohcMiAZ2s0tRyEPOB5KTu0CaLDFKE7ODBOlo7KNahNf+dCh99rUMFGAjz+elJHDM+AgCBTD7XZ3m7HjOIIfhMoiYmitpSvAJM2uDH1u0+7C8KuWfd+D1XeQ0T42J353/6i8J0UuDLvd3n9oyCnLLlecssPN0Oh62ZI0K64M5f/bNeSULdtBkSUMh57S0DQN+jBWHwQ0vexyfTieXPiH9/7iQ0mbntVXtpGWHx4e0Ww2r2kjLjDoy49bhxIxnjyulgCG9JzssQTAy8sEr6+virW8L7mvI4ZHl3K0GG9m5xllWSKipWwOsz7XaYQhRe/ZKIv8pKHWgiXG5pTreq+2R2Jt8/6BHQNBkmbJkFjyueeuSzjIf4dLfEnLFltOaR+HlWTtBDhJ8zOgy/ZDvLPlNQ9OzjE3ZpwtFgssfv3CbDZTLjgwcRpJHDNEc+ZgDvktWzGUA5MJD1aQ8KiqEebzN5WB0rJp6HRCjxLRIVwGccV09hNv8zl+A1MWjCpdX4PJAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/d975f1e247d87b1dddf4fc811bcb5b78/fb933/2.png&quot;
        srcset=&quot;/blog/static/d975f1e247d87b1dddf4fc811bcb5b78/c26ae/2.png 158w,
/blog/static/d975f1e247d87b1dddf4fc811bcb5b78/fb933/2.png 301w&quot;
        sizes=&quot;(max-width: 301px) 100vw, 301px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h3&gt;äºŒã€ä¿¡å·é‡çš„å®ç°&lt;/h3&gt;
&lt;p&gt;1ã€æ–°å»ºå¤´æ–‡ä»¶&lt;code class=&quot;language-text&quot;&gt;include/linux/sem.h&lt;/code&gt;ï¼Œå®šä¹‰ä¿¡å·é‡çš„æ•°æ®ç»“æ„&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;ifndef&lt;/span&gt; &lt;span class=&quot;token expression&quot;&gt;_SEM_H&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;define&lt;/span&gt; &lt;span class=&quot;token macro-name&quot;&gt;_SEM_H&lt;/span&gt;&lt;/span&gt;

&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;lt;linux/sched.h&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;define&lt;/span&gt; &lt;span class=&quot;token macro-name&quot;&gt;SEMTABLE_LEN&lt;/span&gt;    &lt;span class=&quot;token expression&quot;&gt;&lt;span class=&quot;token number&quot;&gt;20&lt;/span&gt;   &lt;/span&gt;&lt;span class=&quot;token comment&quot;&gt;/* ä¿¡å·é‡ä¸ªæ•° */&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;define&lt;/span&gt; &lt;span class=&quot;token macro-name&quot;&gt;SEM_NAME_LEN&lt;/span&gt;    &lt;span class=&quot;token expression&quot;&gt;&lt;span class=&quot;token number&quot;&gt;20&lt;/span&gt;   &lt;/span&gt;&lt;span class=&quot;token comment&quot;&gt;/* ä¿¡å·é‡åå­—é•¿ */&lt;/span&gt;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;typedef&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;semaphore&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;char&lt;/span&gt; name&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;SEM_NAME_LEN&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;   &lt;span class=&quot;token comment&quot;&gt;/* ä¿¡å·å */&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; value&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;                 &lt;span class=&quot;token comment&quot;&gt;/* ä¿¡å·å€¼ */&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;task_struct&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;queue&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;/* ä¿¡å·é˜Ÿåˆ— */&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;sem_t&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;extern&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;sem_t&lt;/span&gt; semtable&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;SEMTABLE_LEN&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  &lt;span class=&quot;token comment&quot;&gt;/* å£°æ˜å…¨å±€ */&lt;/span&gt;

&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;endif&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;2ã€æ–°å»ºæ–‡ä»¶&lt;code class=&quot;language-text&quot;&gt;kernel/sem.c&lt;/code&gt;ï¼Œå®ç°ä¿¡å·é‡&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;lt;linux/sem.h&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;lt;linux/sched.h&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;lt;unistd.h&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;lt;asm/segment.h&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;lt;linux/tty.h&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;lt;linux/kernel.h&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;lt;linux/fdreg.h&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;lt;asm/system.h&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;lt;asm/io.h&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;//#include &amp;lt;string.h&gt;&lt;/span&gt;

&lt;span class=&quot;token class-name&quot;&gt;sem_t&lt;/span&gt; semtable&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;SEMTABLE_LEN&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  &lt;span class=&quot;token comment&quot;&gt;// å·²åˆ›å»ºä¿¡å·é‡è¡¨&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; cnt &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;                   &lt;span class=&quot;token comment&quot;&gt;// è®°å½•å·²åˆ›å»ºä¿¡å·é‡ä¸ªæ•°&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// åˆ›å»ºä¸€ä¸ªä¿¡å·é‡&lt;/span&gt;
&lt;span class=&quot;token class-name&quot;&gt;sem_t&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;sys_sem_open&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;unsigned&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; value&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;char&lt;/span&gt; kernelname&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;   &lt;span class=&quot;token comment&quot;&gt;/* åº”è¯¥è¶³å¤Ÿå¤§äº† */&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; isExist &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; i&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; name_cnt&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// è®¡ç®—ä¿¡å·é‡åå­—é•¿åº¦ï¼Œéœ€è¦é€šè¿‡get_fs_byteä»ç”¨æˆ·ç©ºé—´è·å–æ•°æ®&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;get_fs_byte&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;name&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;name_cnt&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;token char&quot;&gt;&apos;\0&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
	    name_cnt&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token comment&quot;&gt;// å¤§äºåˆ™é€€å‡º&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;name_cnt&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;SEM_NAME_LEN&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
	    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token comment&quot;&gt;// å°†ä¿¡å·é‡åå­—ä»ç”¨æˆ·æ€å¤åˆ¶åˆ°å†…æ ¸æ€ï¼Œå­˜å…¥kernelname&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;i&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;i&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;name_cnt&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;i&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
	    kernelname&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;get_fs_byte&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;name&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; name_len &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;strlen&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;kernelname&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; sem_name_len &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token class-name&quot;&gt;sem_t&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;p &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  &lt;span class=&quot;token comment&quot;&gt;// ä¿¡å·é‡ç»“æ„ä½“&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// åˆ¤æ–­ä¿¡å·é‡æ˜¯å¦å·²å­˜åœ¨&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;i&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;i&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;cnt&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;i&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	    &lt;span class=&quot;token comment&quot;&gt;// å…ˆæ¯”è¾ƒé•¿åº¦&lt;/span&gt;
        sem_name_len &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;strlen&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;semtable&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;sem_name_len &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; name_len&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		    &lt;span class=&quot;token comment&quot;&gt;// å†æ¯”è¾ƒåå­—æ˜¯å¦ä¸€è‡´&lt;/span&gt;
			&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;strcmp&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;kernelname&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;semtable&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
			&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
				&lt;span class=&quot;token comment&quot;&gt;// ä¸€è‡´åˆ™é€€å‡º&lt;/span&gt;
				isExist &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
				&lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
			&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// è‹¥å·²å­˜åœ¨ï¼Œåˆ™èµ‹å€¼ä¸‹æ–‡è¿”å›&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;isExist &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        p &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;sem_t&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt;semtable&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;//printk(&quot;find previous name!\n&quot;);&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt;   &lt;span class=&quot;token comment&quot;&gt;// ä¸å­˜åœ¨ï¼Œåˆ™æ–°å»º&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        i&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;// èµ‹å€¼ä¿¡å·å&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;i&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;i&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;name_len&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;i&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            semtable&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;cnt&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;kernelname&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;// èµ‹å€¼ä¿¡å·å€¼&lt;/span&gt;
        semtable&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;cnt&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;value &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; value&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;// å¾€ä¿¡å·é‡è¡¨cntä½ç½®è®°å½•&lt;/span&gt;
        p&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;sem_t&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt;semtable&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;cnt&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
         &lt;span class=&quot;token comment&quot;&gt;//printk(&quot;creat name!\n&quot;);&lt;/span&gt;
        cnt&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
     &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; p&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// ä¿¡å·é‡PåŸå­æ“ä½œ&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;sys_sem_wait&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;sem_t&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;sem&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token comment&quot;&gt;// å…³ä¸­æ–­ï¼Œé˜»æ­¢è°ƒåº¦ï¼Œå®ç°ä¸´ç•ŒåŒºä¿æŠ¤&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;cli&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; 
    &lt;span class=&quot;token comment&quot;&gt;// ä½¿å¾—æ‰€æœ‰å°äº0çš„è¿›ç¨‹é˜»å¡ï¼ˆç”Ÿäº§è€…æ²¡æœ‰ç¼“å†²å¯ç”¨empty&amp;lt;=0ï¼Œåˆ™è¿›å…¥ç¡çœ ï¼‰&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt; sem&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;value &lt;span class=&quot;token operator&quot;&gt;&amp;lt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;        
        &lt;span class=&quot;token function&quot;&gt;sleep_on&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;sem&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;queue&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;    &lt;span class=&quot;token comment&quot;&gt;// ç¡çœ å½“å‰è¿›ç¨‹&lt;/span&gt;
    sem&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;value&lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// å¼€ä¸­æ–­&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;sti&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// ä¿¡å·é‡VåŸå­æ“ä½œ&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;sys_sem_post&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;sem_t&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;sem&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token comment&quot;&gt;// å…³ä¸­æ–­ï¼Œé˜»æ­¢è°ƒåº¦ï¼Œå®ç°ä¸´ç•ŒåŒºä¿æŠ¤&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;cli&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    sem&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;value&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// åŠ å®Œåå°äºç­‰äº1ï¼Œè¯´æ˜åŠ ä¹‹å‰æ˜¯æ²¡æœ‰å¯æ¶ˆè´¹çš„ï¼Œåˆ™å”¤é†’ä¸€ä¸ªè¿›ç¨‹&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;sem&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;value&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token function&quot;&gt;wake_up&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;sem&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;queue&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token comment&quot;&gt;// å¼€ä¸­æ–­&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;sti&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// åˆ é™¤ä¿¡å·é‡&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;sys_sem_unlink&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;char&lt;/span&gt; kernelname&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;   &lt;span class=&quot;token comment&quot;&gt;/* åº”è¯¥è¶³å¤Ÿå¤§äº† */&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; isExist &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; i&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; name_cnt&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// è®¡ç®—ä¿¡å·é‡åå­—é•¿åº¦ï¼Œéœ€è¦é€šè¿‡get_fs_byteä»ç”¨æˆ·ç©ºé—´è·å–æ•°æ®&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;get_fs_byte&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;name&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;name_cnt&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;token char&quot;&gt;&apos;\0&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
            name_cnt&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;name_cnt&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;SEM_NAME_LEN&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;i&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;i&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;name_cnt&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;i&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
            kernelname&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;get_fs_byte&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;name&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; name_len &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;strlen&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; sem_name_len &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// åˆ¤æ–­æ˜¯å¦å­˜åœ¨ï¼Œå¹¶å®šä½èµ‹å€¼ç»™cnt&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;i&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;i&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;cnt&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;i&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        sem_name_len &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;strlen&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;semtable&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;sem_name_len &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; name_len&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;strcmp&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;kernelname&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;semtable&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                        isExist &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
                        &lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// å­˜åœ¨åˆ™åˆ é™¤ä¿¡å·é‡&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;isExist &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; tmp&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;// ä»å®šä½åˆ°çš„cntä½ç½®å¾€åå¼€å§‹å‘å‰è¦†ç›–ï¼Œå®ç°åˆ é™¤&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;tmp&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;tmp&lt;span class=&quot;token operator&quot;&gt;&amp;lt;=&lt;/span&gt;cnt&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;tmp&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            semtable&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;tmp&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;semtable&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;tmp&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        cnt &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; cnt&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  &lt;span class=&quot;token comment&quot;&gt;// ä¿¡å·é‡ä¸ªæ•°å‡ä¸€&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  &lt;span class=&quot;token comment&quot;&gt;// ä¸å­˜åœ¨åˆ™è¿”å›&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;3ã€æ–°å¢ä¸Šè¿°å››ä¸ªç³»ç»Ÿè°ƒç”¨&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä¿®æ”¹&lt;code class=&quot;language-text&quot;&gt;/include/unistd.h&lt;/code&gt;ï¼Œæ·»åŠ æ–°å¢çš„ç³»ç»Ÿè°ƒç”¨çš„ç¼–å·ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;define&lt;/span&gt; &lt;span class=&quot;token macro-name&quot;&gt;__NR_setregid&lt;/span&gt;	&lt;span class=&quot;token expression&quot;&gt;&lt;span class=&quot;token number&quot;&gt;71&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;/* æ·»åŠ ç³»ç»Ÿè°ƒç”¨å· */&lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;define&lt;/span&gt; &lt;span class=&quot;token macro-name&quot;&gt;__NR_sem_open&lt;/span&gt;     &lt;span class=&quot;token expression&quot;&gt;&lt;span class=&quot;token number&quot;&gt;72&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;define&lt;/span&gt; &lt;span class=&quot;token macro-name&quot;&gt;__NR_sem_wait&lt;/span&gt;     &lt;span class=&quot;token expression&quot;&gt;&lt;span class=&quot;token number&quot;&gt;73&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;define&lt;/span&gt; &lt;span class=&quot;token macro-name&quot;&gt;__NR_sem_post&lt;/span&gt;     &lt;span class=&quot;token expression&quot;&gt;&lt;span class=&quot;token number&quot;&gt;74&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;define&lt;/span&gt; &lt;span class=&quot;token macro-name&quot;&gt;__NR_sem_unlink&lt;/span&gt;   &lt;span class=&quot;token expression&quot;&gt;&lt;span class=&quot;token number&quot;&gt;75&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ol start=&quot;2&quot;&gt;
&lt;li&gt;ä¿®æ”¹&lt;code class=&quot;language-text&quot;&gt;/kernel/system_call.s&lt;/code&gt;ï¼Œéœ€è¦ä¿®æ”¹æ€»çš„ç³»ç»Ÿè°ƒç”¨æ•°&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;nr_system_calls &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;76&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ol start=&quot;3&quot;&gt;
&lt;li&gt;ä¿®æ”¹&lt;code class=&quot;language-text&quot;&gt;/include/linux/sys.h&lt;/code&gt;ï¼Œå£°æ˜å…¨å±€æ–°å¢å‡½æ•°&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;extern&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;sys_sem_open&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;extern&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;sys_sem_wait&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;extern&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;sys_sem_post&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;extern&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;sys_sem_unlink&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

fn_ptr sys_call_table&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;//...sys_setreuid,sys_setregid,sys_whoami,sys_iam,&lt;/span&gt;
sys_sem_open&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;sys_sem_wait&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;sys_sem_post&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;sys_sem_unlink
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ol start=&quot;4&quot;&gt;
&lt;li&gt;ä¿®æ”¹ &lt;code class=&quot;language-text&quot;&gt;linux-0.11/kernel/Makefile&lt;/code&gt;ï¼Œæ·»åŠ &lt;code class=&quot;language-text&quot;&gt;sem.c&lt;/code&gt;ç¼–è¯‘è§„åˆ™&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;makefile&quot;&gt;&lt;pre class=&quot;language-makefile&quot;&gt;&lt;code class=&quot;language-makefile&quot;&gt;OBJS  &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; sched.o system_call.o traps.o asm.o fork.o \
	panic.o printk.o vsprintf.o sys.o exit.o \
	signal.o mktime.o who.o sem.o
// ...
&lt;span class=&quot;token comment&quot;&gt;### Dependencies:&lt;/span&gt;
&lt;span class=&quot;token target symbol&quot;&gt;sem.s sem.o&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; sem.c ../&lt;span class=&quot;token keyword&quot;&gt;include&lt;/span&gt;/linux/sem.h ../&lt;span class=&quot;token keyword&quot;&gt;include&lt;/span&gt;/linux/kernel.h \
../&lt;span class=&quot;token keyword&quot;&gt;include&lt;/span&gt;/unistd.h&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;ä¸‰ã€åœ¨linux0.11ç¯å¢ƒä¸‹ç¼–è¯‘è¿è¡Œ&lt;/h2&gt;
&lt;p&gt;å‰é¢ç¼–å†™çš„&lt;code class=&quot;language-text&quot;&gt;pc.c&lt;/code&gt;èƒ½å¤Ÿåœ¨Ubuntuä¸‹è¿è¡Œé€šè¿‡ï¼Œä½†åœ¨linux0.11ç³»ç»Ÿä¸‹ä¸è¡Œï¼Œéœ€è¦è¿›è¡Œä¿®æ”¹ï¼Œæˆ‘ä»¬å¤åˆ¶&lt;code class=&quot;language-text&quot;&gt;pc.c&lt;/code&gt;ï¼Œåˆ›å»ºä¸€ä¸ªé€‚åˆåœ¨linux0.11ç¯å¢ƒä¸‹ç¼–è¯‘çš„`pc2.c&apos;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;åœ¨linux0.11ç³»ç»Ÿçš„åº”ç”¨ç¨‹åºä¸­ï¼Œæ³¨é‡Šä¸èƒ½å†™&lt;code class=&quot;language-text&quot;&gt;//&lt;/code&gt;ï¼Œå¿…é¡»è¦å†™&lt;code class=&quot;language-text&quot;&gt;/* */&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;ä¿®æ”¹å¤´æ–‡ä»¶ï¼ŒåŒ…å«ä¸Šé¢æ–°å»ºçš„&lt;code class=&quot;language-text&quot;&gt;sem.h&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;ä¿®æ”¹&lt;code class=&quot;language-text&quot;&gt;sem_open()&lt;/code&gt;çš„åˆ›å»ºæ–¹æ³•&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;define&lt;/span&gt;   &lt;span class=&quot;token macro-name&quot;&gt;__LIBRARY__&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;lt;unistd.h&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;lt;sys/types.h&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;lt;fcntl.h&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;lt;stdio.h&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;lt;stdlib.h&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;lt;linux/sem.h&gt;&lt;/span&gt;&lt;/span&gt;

&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;define&lt;/span&gt; &lt;span class=&quot;token macro-name&quot;&gt;M&lt;/span&gt; &lt;span class=&quot;token expression&quot;&gt;&lt;span class=&quot;token number&quot;&gt;530&lt;/span&gt;            &lt;/span&gt;&lt;span class=&quot;token comment&quot;&gt;/*æ‰“å‡ºæ•°å­—æ€»æ•°*/&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;define&lt;/span&gt; &lt;span class=&quot;token macro-name&quot;&gt;N&lt;/span&gt; &lt;span class=&quot;token expression&quot;&gt;&lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt;               &lt;/span&gt;&lt;span class=&quot;token comment&quot;&gt;/*æ¶ˆè´¹è€…è¿›ç¨‹æ•°*/&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;define&lt;/span&gt; &lt;span class=&quot;token macro-name&quot;&gt;BUFSIZE&lt;/span&gt; &lt;span class=&quot;token expression&quot;&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;      &lt;/span&gt;&lt;span class=&quot;token comment&quot;&gt;/*ç¼“å†²åŒºå¤§å°*/&lt;/span&gt;&lt;/span&gt;

&lt;span class=&quot;token function&quot;&gt;_syscall2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;sem_t&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;sem_open&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;unsigned&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;value&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;_syscall1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;sem_wait&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;sem_t&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;sem&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;_syscall1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;sem_post&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;sem_t&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;sem&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;_syscall1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;sem_unlink&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token class-name&quot;&gt;sem_t&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;empty&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;full&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;mutex&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  &lt;span class=&quot;token comment&quot;&gt;/*3ä¸ªä¿¡å·é‡*/&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; fd&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;                       &lt;span class=&quot;token comment&quot;&gt;/*å…±äº«ç¼“å†²åŒºæ–‡ä»¶æè¿°ç¬¦*/&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt;  i&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;j&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;k&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;child&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt;  data&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;                    &lt;span class=&quot;token comment&quot;&gt;/*å†™å…¥çš„æ•°æ®*/&lt;/span&gt;
    &lt;span class=&quot;token class-name&quot;&gt;pid_t&lt;/span&gt; pid&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt;  buf_out &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;             &lt;span class=&quot;token comment&quot;&gt;/*è®°å½•ä¸Šæ¬¡ä»ç¼“å†²åŒºè¯»å–ä½ç½®*/&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt;  buf_in &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;              &lt;span class=&quot;token comment&quot;&gt;/*è®°å½•ä¸Šæ¬¡å†™å…¥ç¼“å†²åŒºä½ç½®*/&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;mutex &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;sem_open&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;mutex&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token function&quot;&gt;perror&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;sem_open() error!\n&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;empty &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;sem_open&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;empty&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token function&quot;&gt;perror&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;sem_open() error!\n&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;full &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;sem_open&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;full&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token function&quot;&gt;perror&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;sem_open() error!\n&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;/* åœ¨æ–‡ä»¶ä¸­å­˜å‚¨buf_outï¼ˆå› æ­¤ç”Ÿäº§è€…åªæœ‰ä¸€ä¸ªè¿›ç¨‹ï¼Œæ‰€ä»¥buf_inä¸ç”¨å­˜åœ¨æ–‡ä»¶ä¸­ï¼‰*/&lt;/span&gt;
    fd &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;open&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;buffer.txt&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; O_CREAT&lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;O_TRUNC&lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;O_RDWR&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0666&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; 
    &lt;span class=&quot;token function&quot;&gt;lseek&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;fd&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;BUFSIZE&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;sizeof&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;SEEK_SET&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;token comment&quot;&gt;/*ä¿®æ”¹åœ°å€åç§»åœ¨10ä¸ªæ•°å­—ä¹‹åï¼Œå³40å­—èŠ‚ä½ç½®*/&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;//  .....ï¼ˆä»¥ä¸‹å†…å®¹ä¸å˜ï¼‰&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;æ³¨æ„ï¼šæœ¬äººå®éªŒè¿‡ç¨‹ä¸­å‘ç°ï¼Œå¦‚æœå‡ ä¸ªå¤´æ–‡ä»¶å‰åæ”¾çš„é¡ºåºä¸åŒï¼Œå°†å¯¼è‡´æ‰¾ä¸åˆ°å››ä¸ª&lt;code class=&quot;language-text&quot;&gt;sem&lt;/code&gt;å‡½æ•°ï¼Œè¡€çš„æ•™è®­ï¼Œå…·ä½“åŸå› ä¸çŸ¥ã€‚&lt;/p&gt;
&lt;p&gt;å°†å·²ç»ä¿®æ”¹çš„&lt;code class=&quot;language-text&quot;&gt;pc.c&lt;/code&gt;ã€&lt;code class=&quot;language-text&quot;&gt;unistd.h&lt;/code&gt;å’Œ&lt;code class=&quot;language-text&quot;&gt;sem.h&lt;/code&gt;æ–‡ä»¶æ‹·è´åˆ°linux-0.11ç³»ç»Ÿä¸­&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;cd&lt;/span&gt; oslab_Lab5
&lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; ./mount-hdc
&lt;span class=&quot;token function&quot;&gt;cp&lt;/span&gt; ./pc.c ./hdc/usr/root/
&lt;span class=&quot;token function&quot;&gt;cp&lt;/span&gt; ./linux-0.11/include/unistd.h ./hdc/usr/include/ 
&lt;span class=&quot;token function&quot;&gt;cp&lt;/span&gt; ./linux-0.11/include/linux/sem.h ./hdc/usr/include/linux/
&lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;umount&lt;/span&gt; hdc&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ç¼–è¯‘åŠè¿è¡ŒBochs&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;cd&lt;/span&gt; oslab_Lab5/linux-0.11
&lt;span class=&quot;token function&quot;&gt;make&lt;/span&gt; all
&lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;/run&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;åœ¨linux0.11çš„Bochsä¸­ç¼–è¯‘ç”Ÿäº§è€…-æ¶ˆè´¹è€…ç¨‹åº&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;gcc &lt;span class=&quot;token parameter variable&quot;&gt;-o&lt;/span&gt; pc pc.c
./pc &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;.txt
&lt;span class=&quot;token function&quot;&gt;sync&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;åœ¨Ubuntuä¸­æŒ‚è½½&lt;code class=&quot;language-text&quot;&gt;hdc&lt;/code&gt;ï¼Œå°†linux0.11è¾“å‡ºçš„&lt;code class=&quot;language-text&quot;&gt;1.txt&lt;/code&gt;æ–‡ä»¶ç§»åŠ¨åˆ°Ubuntuä¸­&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;sudo ./mount-hdc
sudo cp ./hdc/usr/root/1.txt ./&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;æ‰“å¼€&lt;code class=&quot;language-text&quot;&gt;1.txt&lt;/code&gt;æ–‡ä»¶å³å¯è§åˆ°è¾“å‡ºå¦‚ä¸‹ï¼š
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 124px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/477c9dcd63d6db255d6257c0f858a311/d6e54/3.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 212.0967741935484%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAqCAYAAACz+XvQAAAACXBIWXMAAAsTAAALEwEAmpwYAAAF/ElEQVR42o1XiXbaVhD1//9D2rRZ28b17hjvhLBjdhu8ACbYLAIkoX0BbmeeDDWJIdE57whb743mzp3las00TfAyDIOWCV3XMBppdNdhWTYc24b9tBzbgaZp9NuZ/+/7teZ5Hvi6rpZRua7BNjWcnx5hY2sbpcsrqGR8Op2KPSPpAe//Woeqm+Lv8XiMyWSysNZc1xUP67VrXFXvIPe7SMTjiMYSqFSrGAxlTMjghGwaioTDo1NohIRf4vu+MPp8CQ/5gUEQGYrnOrDoblmG+D+/9fmBl4wsGJx5WM5nkC2UYWgqQvu7+PDhb1zkChgqivBwTC56poqzs1MY7hTTib/aYKVcwrfHDoYEuVDIo1Asol6vQ1bUAB4f8Gzk83kYtkcGl3g4g6wTe6ZpwfNc6MQ4s+263iJc2juifatgzz28zKURiaehjRTs72zi7buPSF9kMZADUsbjCXzbwEHoEKpm0IklpLBBPtC6r6HZeoQ86KNavcbN7R1arQeRNoJliqFtjFAqX8HzV5Ayg2xZlNy6ISArFDdZHgq2/eeHfY+eKbRnBWTHCSCfHOzh8CwCfSRjZ3Mdf755h0QqA2kwBOc1G56OXWxRwksDWZxZmof8Q6FY9QcDuvfRaNwLuN1uDxrlJ8PlPZyj/Mx2nB/ycyGGHPBepw1V1QTkfl9Cu9Mhts25F/5TmcnDIRjVcoP0Nr5S0TAyuRKRImHr33/w++s3iCaS6PUHIg85sW1dxqvfXqPbH/4C5GEfEh0eqQo6nR6G5AmHwaBOxN6IMqR9qqoSWfZqyPxQ6naoESgiTg+tb9QsgioJQjIWYfFcm6rnPqia5SwHkD9vfaLEzlDp9bC98YlYfo8YQe72+4JlYdDRsbG5EyT2dGliB5AHRAQnMVcKe8oNlsuRm+z/8Hx69jNSCBIHvdVsoHpzJ1iu3d2iXL5ET+qDEYjNE/bQxN1dDa4XxHNlLdeuy6jWWxh0HwjyuqhlAVnqixdyz1Z73/Dqj/cEWV9ey6L06I2WaYgaNXimaCbNDwu2ZcGZk8LdxiWilF/rNlelPK5vagLiZbmIVCqN1sMjxdAScJkU7ocXmQyUOSkrWV7HWSRB5PTweXcHn9Y3kKLDPWb5aSC5joVcLgvXnyyPIUPmxePSpbtl6jROLco/W3j7vLMw1FV1vAC5kEmiUK6KNpbNpBAOR1CjRsCVMhYjMii949OwqPHpzyAnv54jns5hIHVwFDrA9s4eLrK5eS2LMTrs4PXbj5Cpiayu5QnHh0eoG7BLjdV1HQTN9/kBH0Htr4JMgeYpFz4OkYd5GlQGYl/D2P8cIiVxQymkB6qAPDTVPrZ3D0RFLc1Dn1IhFo3gYG8PaWpfUq+DMM3e0OERjdISNd2gY3McXXOEPXqRqpkrEtsNWPb8YLY4TsAu18ZLkDie/HzWpX40SJDTlG+lYgHXtw1Yuoo4aZuTkxPkC8UnyEGDdUlIZdNJhELHiBGBfM366TPIDjLpNIqlIjWHGoa9NpI0nC5JeV2WSjSXlSflQN64FjKpOL5EoiheVl9keo2Z9Qkuk2E/QeHxyZAnK9gc+8sqhVpSNBpDNsWJXaF+KFNSh7HHJKWpbkejuVhyDQWJREIkfqXWetlDhlzI55BKJkkstTEgyLl8EbV6AzfVCoayugC5UCigWrnCbWOJQYbISzd0MXy4wXK58UZRx5NFbcjh4Q602Mm/gxwOf0EmHkM8dYGRMsAxMbyzs0tsJ0gfqguQI19o3GbzpB2LAcs/QnZRqVQEDBZLQ5rLFRJLPOibjfo8hoE+dEiLV1CmDHjsSMshsy7kZJ3pQ03I46BbPxfkY5H4DmZfDnzNnokGwqKdIZ+fn2F3cwMn4a/QCHIoFMLe/j6xHyVPu8IwDyZDlnBK4cgQaeFITHinCaFqPn1u2AFknnKP7W6gFoYS6o0mHonxKoWicX+PAYkoVR0J/VO5uqJRcYv6fRPtdpsEVReSJKHZbApVIbSN2EzKgVOEa5ln74hix2U304/BCLBJN8riI0mWFREe8UHkBB9CvPc/hklx1jEUkcUAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/477c9dcd63d6db255d6257c0f858a311/d6e54/3.png&quot;
        srcset=&quot;/blog/static/477c9dcd63d6db255d6257c0f858a311/d6e54/3.png 124w&quot;
        sizes=&quot;(max-width: 124px) 100vw, 124px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 253px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/768b08895959192185e16ae763127f22/88c73/4.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 151.26582278481013%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAeCAYAAAAsEj5rAAAACXBIWXMAAAsTAAALEwEAmpwYAAADTElEQVR42p1WiXKiQBT0/z9rN4eRGBFQQAS5BQQ0GqPRmN6eMRpz1G6xVFmlMPb0e/26h5bnebBHI0ynUwwGQ3juGP7EQ5RkiKIQz88b5FkGZzxGVVXYbreoyhIp1z+tVnJ9EAQ4QFxvaI0dByN+xJ8MAiZxJAGDMEHEhY+PS7hjF2MJWGO1ekJZziRgXZUkMeD6CfaHNwnZ8lwX3fsufD+AM7JRlJV8EJKdYQxQzMrj3m/HP/zrarncWdd1SdsyTeSzmXwQxzEM3s+L4+/D4SBBL4HF99P9M+DEc6H2VcnIsswzoySJoRGwqutmDH0C3t11MJn4sG3rA5AMB4aBer5oWrIDy7aRpinM4ZAlnxgm6Ha7zXsoZNfZ/CiKvpScQNP65x42AhS9iuMEpmWeGcbcwObv1fq5OaDBWZIqC8DiCJimCRRF4cBn3wB/UvszQ+04Nqb5UXJMlXsPD8iKojnDvqZxbGKMbBNpVkgLCZGGdI5guN/vsdlszjP3vF5jzc/hnelqtcTLy8s7IAdb2CeMU8xL+pe9FCMk2JqWhevrK+nxPqvYvx5QzXJ02jfQeW9GVy0WjzSAhiSdXliPpYmSXX73OJe3t7dwnDHncoSnpzUDwIFCe07zXLIXbATb0/X6+vrZKT1VxYg+NgwdYRjJEXKcEUHusWA4lLNC3n9cLk8q/H2wj2mTf1O5c9emONMfVcYF5jcvdzoKfJZsWx/WE1k4HA4wXyybqSwARQ99/6uXI/QZGmU9bwjIsVHVvuzRJ+sRUO31mDYNAQPfw/XNDVxxFLDkUw9jAmqcz8bhIBgOh6YMA9O8SJt3ho3DQfRQnCVh9L3kHgHLqm4OKKwXfU2bd1EaB6wA1HRDqmxdAKYMB6XTkfZqfASIgA3kHH6ULAAfmNhZ0x76E1eOTRCGnwBjDrY5MBiwm/8QhYeR6KE8Rk/Wo+rtdhtZXpyP0Z8CVrrw7QtDEQ4iD48qV2dRFKWDaZY3H2xFuaeXQ/nmkCQp9rsXTBmwOtWvF4tjqPIdRwStuLbbjQzYPWNrt9vJ8N3t9vJ5y2VMyXcalvjQU+EwtTW1h/EkREihxCGlM0DFpmJNPZ8j4LuMIU/KEFe/f/G4vefGS266xh9TrOfOlMLy2gAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/768b08895959192185e16ae763127f22/88c73/4.png&quot;
        srcset=&quot;/blog/static/768b08895959192185e16ae763127f22/c26ae/4.png 158w,
/blog/static/768b08895959192185e16ae763127f22/88c73/4.png 253w&quot;
        sizes=&quot;(max-width: 253px) 100vw, 253px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[ã€å“ˆå·¥å¤§_æ“ä½œç³»ç»Ÿå®éªŒã€‘Lab5 åŸºäºå†…æ ¸æ ˆåˆ‡æ¢çš„è¿›ç¨‹åˆ‡æ¢]]></title><description><![CDATA[Githubä»£ç ä»“åº“é“¾æ¥ æœ¬èŠ‚å°†æ›´æ–°å“ˆå·¥å¤§ã€Šæ“ä½œç³»ç»Ÿã€‹è¯¾ç¨‹ç¬¬äº”ä¸ª Lab å®éªŒ åŸºäºå†…æ ¸æ ˆåˆ‡æ¢çš„è¿›ç¨‹åˆ‡æ¢ã€‚æŒ‰ç…§å®éªŒä¹¦è¦æ±‚ï¼Œä»‹ç»äº†éå¸¸è¯¦ç»†çš„å®éªŒæ“ä½œæµç¨‹ï¼Œå¹¶æä¾›äº†è¶…çº§æ— æ•Œè¯¦ç»†çš„ä»£ç æ³¨é‡Šã€‚ Linux0.11 é‡‡ç”¨ TSSâ€¦]]></description><link>https://gatsbystarterblogsource.gatsbyjs.io/014_HIT_OS_Lab5/</link><guid isPermaLink="false">https://gatsbystarterblogsource.gatsbyjs.io/014_HIT_OS_Lab5/</guid><pubDate>Tue, 01 Oct 2024 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;a href=&quot;https://github.com/Joker001014/HIT-OSlab&quot;&gt;Githubä»£ç ä»“åº“é“¾æ¥&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æœ¬èŠ‚å°†æ›´æ–°å“ˆå·¥å¤§ã€Šæ“ä½œç³»ç»Ÿã€‹è¯¾ç¨‹ç¬¬äº”ä¸ª Lab å®éªŒ &lt;strong&gt;åŸºäºå†…æ ¸æ ˆåˆ‡æ¢çš„è¿›ç¨‹åˆ‡æ¢&lt;/strong&gt;ã€‚æŒ‰ç…§å®éªŒä¹¦è¦æ±‚ï¼Œä»‹ç»äº†éå¸¸è¯¦ç»†çš„å®éªŒæ“ä½œæµç¨‹ï¼Œå¹¶æä¾›äº†è¶…çº§æ— æ•Œè¯¦ç»†çš„ä»£ç æ³¨é‡Šã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Linux0.11 é‡‡ç”¨ TSS å’Œä¸€æ¡æŒ‡ä»¤å®Œæˆä»»åŠ¡åˆ‡æ¢ï¼Œè™½ç„¶ç®€å•ä½†æ‰§è¡Œæ—¶é—´é•¿ã€‚
å †æ ˆå®ç°ä»»åŠ¡åˆ‡æ¢æ›´å¿«ï¼Œä¸”å¯ä»¥ä½¿ç”¨æŒ‡ä»¤æµæ°´çš„å¹¶è¡Œä¼˜åŒ–æŠ€æœ¯&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;å®éªŒç›®çš„ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;æ·±å…¥ç†è§£è¿›ç¨‹å’Œè¿›ç¨‹åˆ‡æ¢çš„æ¦‚å¿µï¼›&lt;/li&gt;
&lt;li&gt;ç»¼åˆåº”ç”¨è¿›ç¨‹ã€CPU ç®¡ç†ã€PCBã€LDTã€å†…æ ¸æ ˆã€å†…æ ¸æ€ç­‰çŸ¥è¯†è§£å†³å®é™…é—®é¢˜ï¼›&lt;/li&gt;
&lt;li&gt;å¼€å§‹å»ºç«‹ç³»ç»Ÿè®¤è¯†ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;å®éªŒä»»åŠ¡ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;æœ¬æ¬¡å®è·µé¡¹ç›®å°±æ˜¯å°† Linux 0.11 ä¸­é‡‡ç”¨çš„ TSS åˆ‡æ¢éƒ¨åˆ†å»æ‰ï¼Œå–è€Œä»£ä¹‹çš„æ˜¯åŸºäºå †æ ˆçš„åˆ‡æ¢ç¨‹åºã€‚å…·ä½“çš„è¯´ï¼Œå°±æ˜¯å°† Linux 0.11 ä¸­çš„ switch_to å®ç°å»æ‰ï¼Œå†™æˆä¸€æ®µåŸºäºå †æ ˆåˆ‡æ¢çš„ä»£ç ã€‚
1ã€ç¼–å†™æ±‡ç¼–ç¨‹åº switch_toï¼š
2ã€å®Œæˆä¸»ä½“æ¡†æ¶ï¼›
3ã€åœ¨ä¸»ä½“æ¡†æ¶ä¸‹ä¾æ¬¡å®Œæˆ PCB åˆ‡æ¢ã€å†…æ ¸æ ˆåˆ‡æ¢ã€LDT åˆ‡æ¢ç­‰ï¼›
4ã€ä¿®æ”¹ fork()ï¼Œç”±äºæ˜¯åŸºäºå†…æ ¸æ ˆçš„åˆ‡æ¢ï¼Œæ‰€ä»¥è¿›ç¨‹éœ€è¦åˆ›å»ºå‡ºèƒ½å®Œæˆå†…æ ¸æ ˆåˆ‡æ¢çš„æ ·å­ã€‚
5ã€ä¿®æ”¹ PCBï¼Œå³ task_struct ç»“æ„ï¼Œå¢åŠ ç›¸åº”çš„å†…å®¹åŸŸï¼ŒåŒæ—¶å¤„ç†ç”±äºä¿®æ”¹äº† task_struct æ‰€é€ æˆçš„å½±å“ã€‚
6ã€ç”¨ä¿®æ”¹åçš„ Linux 0.11 ä»ç„¶å¯ä»¥å¯åŠ¨ã€å¯ä»¥æ­£å¸¸ä½¿ç”¨ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;æ–‡ä»¶å&lt;/th&gt;
&lt;th&gt;ä»‹ç»&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;hit-æ“ä½œç³»ç»Ÿå®éªŒæŒ‡å¯¼ä¹¦.pdf&lt;/td&gt;
&lt;td&gt;å“ˆå·¥å¤§OSå®éªŒæŒ‡å¯¼ä¹¦&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Linuxå†…æ ¸å®Œå…¨æ³¨é‡Š(ä¿®æ­£ç‰ˆv3.0).pdf&lt;/td&gt;
&lt;td&gt;èµµåšå£«å¯¹Linux v0.11 OSè¿›è¡Œäº†è¯¦ç»†å…¨é¢çš„æ³¨é‡Šå’Œè¯´æ˜&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;file1615.pdf&lt;/td&gt;
&lt;td&gt;BIOS æ¶‰åŠçš„ä¸­æ–­æ•°æ®æ‰‹å†Œ&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;hit-oslab-linux-20110823.tar.gz&lt;/td&gt;
&lt;td&gt;hit-oslab å®éªŒç¯å¢ƒ&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;gcc-3.4-ubuntu.tar.gz&lt;/td&gt;
&lt;td&gt;Linux v0.11 æ‰€ä½¿ç”¨çš„ç¼–è¯‘å™¨&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&quot;https://joker001014.github.io/blog/019_HIT_OS_Bochs&quot;&gt;Bochs æ±‡ç¼–çº§è°ƒè¯•æŒ‡ä»¤&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;bochs åŸºæœ¬è°ƒè¯•æŒ‡ä»¤å¤§å…¨&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&quot;https://blog.csdn.net/yueyueniaolzp/article/details/82178954&quot;&gt;æœ€å…¨ASCIIç å¯¹ç…§è¡¨0-255&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;å±å¹•è¾“å‡ºå­—ç¬¦å¯¹ç…§çš„ ASCII ç &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&quot;https://blog.csdn.net/weixin_53159274/article/details/138074386?spm=1001.2014.3001.5501&quot;&gt;x86_64 å¸¸ç”¨å¯„å­˜å™¨å¤§å…¨&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;x86_64 å¸¸ç”¨å¯„å­˜å™¨å¤§å…¨&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3&gt;ä¸€ã€ç¼–å†™ switch_to()&lt;/h3&gt;
&lt;p&gt;åœ¨ &lt;code class=&quot;language-text&quot;&gt;kernel/sched.c&lt;/code&gt; æ–‡ä»¶ä¸­ä¿®æ”¹ switch_to() å‡½æ•°ä¼ å…¥å‚æ•°ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç›®æ ‡è¿›ç¨‹PCBæŒ‡é’ˆ&lt;/li&gt;
&lt;li&gt;ä¸‹ä¸€ä¸ªè¿›ç¨‹å¯¹åº”çš„å±€éƒ¨æè¿°ç¬¦è¡¨&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;tss_struct&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;tss &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;init_task&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;task&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;tss&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;schedule&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; i&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;next&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;c&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;task_struct&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; p&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token comment&quot;&gt;// å£°æ˜ pnext&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;task_struct&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;pnext &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;init_task&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;task&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  &lt;span class=&quot;token comment&quot;&gt;// å®šä¹‰ç›®æ ‡è¿›ç¨‹PCBæŒ‡é’ˆ&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;//  ....&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        c &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        next &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		&lt;span class=&quot;token comment&quot;&gt;// ç»™ pnext èµ‹å€¼&lt;/span&gt;
        pnext &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; task&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;next&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;//  ....&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;p&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;state &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; TASK_RUNNING &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;p&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;counter &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; c&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                c &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;p&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;counter&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; next &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; i&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; pnext &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;p&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;//  ....&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;switch_to&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;pnext&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;_LDT&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;next&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;åœ¨ &lt;code class=&quot;language-text&quot;&gt;kernel/system_call.s&lt;/code&gt; ä¸­æ·»åŠ  switch_to å®ç°ï¼ˆä»£ç ä¸­ç»™å‡ºäº†éå¸¸è¯¦ç»†çš„æ³¨é‡Šï¼‰&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;asm&quot;&gt;&lt;pre class=&quot;language-asm&quot;&gt;&lt;code class=&quot;language-asm&quot;&gt;KERNEL_STACK = 12
ESP0 = 4

switch_to:
	! cè¯­è¨€è°ƒç”¨æ±‡ç¼–ï¼Œå¤„ç†æ ˆå¸§ebp
    pushl %ebp       ! ä¿å­˜å¸§æŒ‡é’ˆ
    movl %esp,%ebp   ! å°†æ ˆæŒ‡é’ˆèµ‹ç»™å¸§æŒ‡é’ˆï¼Œå³åœ¨æ ˆé¡¶åˆ›å»ºæ–°å‡½æ•°æ ˆå¸§
    ! ä¿å­˜äº†å‡ ä¸ªå¸¸ç”¨çš„å¯„å­˜å™¨å€¼
    pushl %ecx
    pushl %ebx
    pushl %eax
    ! ebp+4ï¼šè¿”å›åœ°å€ï¼›ebp+8ï¼šç¬¬ä¸€ä¸ªå‚æ•°ï¼›ebp+12ï¼šç¬¬äºŒä¸ªå‚æ•°
    movl 8(%ebp),%ebx  ! å°†ä¸‹ä¸€ä¸ªè¿›ç¨‹PCBæŒ‡é’ˆå­˜å…¥ebx
    cmpl %ebx,current  ! åˆ¤æ–­ä¸‹ä¸€ä¸ªè¿›ç¨‹æ˜¯å¦ä¸ºå½“å‰è¿›ç¨‹
    je 1f              ! è·³è½¬å»å¼¹å‡ºä¿å­˜çš„å¯„å­˜å™¨å€¼å¹¶è¿”å›ï¼Œf-å‘å‰
    
! å®Œæˆ PCB åˆ‡æ¢ï¼ˆä¿®æ”¹currentï¼‰
    movl %ebx,%eax
	xchgl %eax,current  ! äº¤æ¢eaxå’Œcurrentçš„å€¼
	! eax-æŒ‡å‘å½“å‰è¿›ç¨‹ï¼Œebxã€current-æŒ‡å‘ä¸‹ä¸€ä¸ªè¿›ç¨‹
	
! é‡å†™ TSS ä¸­çš„å†…æ ¸æ ˆæŒ‡é’ˆï¼ˆä¿®æ”¹TSSçš„ç¬¬å››ä¸ªå­—æ®µï¼‰
	! å¯»æ‰¾å½“å‰è¿›ç¨‹çš„å†…æ ¸æ ˆï¼Œä¸ºäº†ä»ç”¨æˆ·æ ˆåˆ‡æ¢åˆ°å†…æ ¸æ ˆ
    movl tss,%ecx
    ! ä¸€é¡µå†…å­˜å¤§å°ä¸º4KBï¼ŒPCBä½äºå†…å­˜ä½åœ°å€ï¼Œæ ˆä½äºå†…å­˜çš„é«˜åœ°å€
    addl $4096,%ebx       ! å¾—åˆ°æ–°è¿›ç¨‹çš„æ ˆæŒ‡é’ˆ
    movl %ebx,ESP0(%ecx)  ! å°†ä¸‹ä¸€è¿›ç¨‹å†…æ ¸æ ˆæŒ‡é’ˆå­˜å…¥ TSS çš„ esp0
    
! å†…æ ¸æ ˆçš„åˆ‡æ¢ï¼ˆå³ä¿®æ”¹espï¼‰
	! eax-æŒ‡å‘å½“å‰è¿›ç¨‹
    movl %esp,KERNEL_STACK(%eax)  ! å°†å½“å‰æ ˆæŒ‡é’ˆä¿å­˜åˆ°å½“å‰è¿›ç¨‹çš„å†…æ ¸æ ˆæŒ‡é’ˆå­—æ®µä¸­ï¼Œç¡®ä¿ä¸‹æ¬¡åˆ‡æ¢å›æ¥å¯ä»¥æ¢å¤
    movl 8(%ebp),%ebx             ! å°†ä¸‹ä¸€ä¸ªè¿›ç¨‹PCBæŒ‡é’ˆå­˜å…¥ebx
    movl KERNEL_STACK(%ebx),%esp  ! å°†æ ˆæŒ‡é’ˆè®¾ç½®ä¸ºä¸‹ä¸€è¿›ç¨‹çš„å†…æ ¸æ ˆæŒ‡é’ˆ
    
! LDT çš„åˆ‡æ¢ï¼ˆä¿®æ”¹LDTRï¼‰
	movl 12(%ebp), %ecx    ! å–å‡ºç¬¬äºŒä¸ªå‚æ•°ï¼Œå³LDT(next)
    lldt %cx               ! ä¿®æ”¹ LDTR å¯„å­˜å™¨ï¼Œå®ç°ç”¨æˆ·æ€ç¨‹åº LDT æ˜ å°„è¡¨åˆ‡æ¢
	! æ®µå¯„å­˜å™¨fsï¼šè®¿é—®è¿›ç¨‹çš„ç”¨æˆ·æ€å†…å­˜
	! ç°åœ¨çš„ fs æŒ‡å‘ä¸Šä¸€ä¸ªè¿›ç¨‹çš„ç”¨æˆ·æ€å†…å­˜ï¼Œè€Œç°åœ¨LDTåˆ‡æ¢å®Œæˆï¼Œç”¨æˆ·æ€å†…å­˜å·²ç»æ”¹å˜ï¼Œæ‰€ä»¥éœ€è¦é‡å–fs
    movl $0x17,%ecx
	mov %cx,%fs

! nonsense
    cmpl %eax,last_task_used_math 
    jne 1f
    clts

! æ¢å¤å¯„å­˜å™¨å€¼å¹¶è¿”å›
1:    popl %eax
    popl %ebx
    popl %ecx
    popl %ebp
ret

! æç¤ºï¼šæ±‡ç¼–æŒ‡ä»¤åçš„lè¡¨ç¤ºæ“ä½œ32ä½æ•°æ®ï¼ˆb-8, w-16, l-32, q-64)&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;éœ€è¦ä¿®æ”¹çš„åœ°æ–¹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;inux0.11 è¿›ç¨‹æ§åˆ¶å—(&lt;code class=&quot;language-text&quot;&gt;pcb&lt;/code&gt;)ä¸­æ˜¯æ²¡æœ‰ä¿å­˜å†…æ ¸æ ˆä¿¡æ¯çš„å¯„å­˜å™¨ï¼Œæ‰€ä»¥éœ€è¦åœ¨ &lt;code class=&quot;language-text&quot;&gt;include/linux/sched.h&lt;/code&gt; æ–‡ä»¶ä¸­&lt;strong&gt;PCBå®šä¹‰&lt;/strong&gt; &lt;code class=&quot;language-text&quot;&gt;task_struct&lt;/code&gt; ä¸­æ·»åŠ &lt;strong&gt;å†…æ ¸æ ˆæŒ‡é’ˆ&lt;/strong&gt;ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// PCB å®šä¹‰&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;task_struct&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;long&lt;/span&gt; state&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;long&lt;/span&gt; counter&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;long&lt;/span&gt; priority&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;long&lt;/span&gt; kernelstack&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;//......&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ol start=&quot;2&quot;&gt;
&lt;li&gt;ç”±äºPCBå®šä¹‰æ”¹å˜ï¼Œæ‰€ä»¥0å·è¿›ç¨‹çš„PCBåˆå§‹åŒ–ä¹Ÿè¦æ–°å¢æ·»åŠ çš„å†…æ ¸æ ˆæŒ‡é’ˆåˆå§‹åŒ–ã€‚åœ¨&lt;code class=&quot;language-text&quot;&gt;include/linux/sched.h&lt;/code&gt; æ–‡ä»¶ä¸­ &lt;code class=&quot;language-text&quot;&gt;INIT_TASK&lt;/code&gt; å®šä¹‰ä¸Šæ·»åŠ å†…æ ¸æ ˆæŒ‡é’ˆåˆå§‹åŒ–ï¼ˆå³åœ¨ç¬¬å››é¡¹æ·»åŠ ï¼‰&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;define&lt;/span&gt; &lt;span class=&quot;token macro-name&quot;&gt;INIT_TASK&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;/* state etc */&lt;/span&gt;    &lt;span class=&quot;token expression&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;15&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;15&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;PAGE_SIZE&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;long&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt;init_task&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;/* signals */&lt;/span&gt;    &lt;span class=&quot;token expression&quot;&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;/span&gt;&lt;/span&gt;\&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;æç¤ºï¼šLinux 0.11 è¿›ç¨‹çš„å†…æ ¸æ ˆå’Œè¯¥è¿›ç¨‹çš„ PCB åœ¨åŒä¸€é¡µå†…å­˜ä¸Šï¼ˆä¸€å— 4KB å¤§å°çš„å†…å­˜ï¼‰ï¼Œå…¶ä¸­ PCB ä½äºè¿™é¡µå†…å­˜çš„ä½åœ°å€ï¼Œæ ˆä½äºè¿™é¡µå†…å­˜çš„é«˜åœ°å€&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ol start=&quot;3&quot;&gt;
&lt;li&gt;åœ¨ &lt;code class=&quot;language-text&quot;&gt;kernel/sched.h&lt;/code&gt; æ–‡ä»¶ä¸­å£°æ˜ä¸€ä¸‹ä½¿ç”¨ switch_to()&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// ä½¿ç”¨switch_toè¿˜éœ€è¦å£°æ˜ä¸€ä¸‹&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;extern&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;switch_to&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;task_struct&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;pnext&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;unsigned&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;long&lt;/span&gt; ldt&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;äºŒã€ä¿®æ”¹ fork.c&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;é€šè¿‡å‹æ ˆçš„æ–¹å¼ï¼ŒæŠŠè¿›ç¨‹çš„&lt;strong&gt;ç”¨æˆ·æ ˆ&lt;/strong&gt;å’Œ&lt;strong&gt;å†…æ ¸æ ˆ&lt;/strong&gt;é€šè¿‡å†…æ ¸æ ˆä¸­çš„ &lt;code class=&quot;language-text&quot;&gt;SS:ESP&lt;/code&gt;ï¼Œ&lt;code class=&quot;language-text&quot;&gt;CS:IP&lt;/code&gt; å…³è”åœ¨ä¸€èµ·&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ä¿®æ”¹ &lt;code class=&quot;language-text&quot;&gt;kernel/fork.c&lt;/code&gt; æ–‡ä»¶ä¸­çš„ &lt;code class=&quot;language-text&quot;&gt;copy_process()&lt;/code&gt;ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;extern&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;first_return_kernel&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;copy_process&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; nr&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;long&lt;/span&gt; ebp&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;long&lt;/span&gt; edi&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;long&lt;/span&gt; esi&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;long&lt;/span&gt; gs&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;long&lt;/span&gt; none&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;long&lt;/span&gt; ebx&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;long&lt;/span&gt; ecx&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;long&lt;/span&gt; edx&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;long&lt;/span&gt; fs&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;long&lt;/span&gt; es&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;long&lt;/span&gt; ds&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;long&lt;/span&gt; eip&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;long&lt;/span&gt; cs&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;long&lt;/span&gt; eflags&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;long&lt;/span&gt; esp&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;long&lt;/span&gt; ss&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;task_struct&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;p&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; i&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;file&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;f&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;/* add lab4 */&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;long&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;krnstack&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;// 1. ç”³è¯·å†…å­˜ä½œä¸ºå­è¿›ç¨‹çš„PCB&lt;/span&gt;
    p &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;task_struct&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;get_free_page&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    
    &lt;span class=&quot;token comment&quot;&gt;// 2. å…³è”å­è¿›ç¨‹çš„ç”¨æˆ·æ ˆå’Œå†…æ ¸æ ˆï¼Œå°±æ˜¯å°†çˆ¶è¿›ç¨‹å†…æ ¸æ ˆå‰äº”ä¸ªå†…å®¹æ‹·è´&lt;/span&gt;
    krnstack &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;long&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;PAGE_SIZE &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;long&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; p&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  &lt;span class=&quot;token comment&quot;&gt;// pæŒ‡é’ˆåŠ ä¸Šé¡µé¢å¤§å°å°±æ˜¯å­è¿›ç¨‹çš„å†…æ ¸æ ˆä½ç½®&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;krnstack&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; ss &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0xffff&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  &lt;span class=&quot;token comment&quot;&gt;// å¾€ä½åœ°å€æ–¹å‘æ‰©å±•&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;krnstack&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; esp&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;krnstack&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; eflags&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;krnstack&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; cs &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0xffff&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;krnstack&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; eip&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    
    &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;krnstack&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; ds &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0xffff&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;krnstack&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; es &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0xffff&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;krnstack&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; fs &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0xffff&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;krnstack&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; gs &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0xffff&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;krnstack&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; esi&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;krnstack&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; edi&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;krnstack&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; edx&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;// 3. è®¾ç½®retåœ°å€ä»£ç ã€‚çˆ¶çº¿ç¨‹æ‰§è¡Œswitch_toåˆ°äº†æœ€åä¸€æ­¥ï¼Œæ­¤æ—¶PCBçš„espå·²ç»åˆ‡æ¢åˆ°äº†å­çº¿ç¨‹ï¼ŒåŸºåœ°å€æ˜¯å¯¹çš„ï¼Œåªéœ€è®¾ç½®ç›¸å¯¹åœ°å€ï¼Œæ— éœ€jmp&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;krnstack&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;long&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; first_return_kernel&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; 
    &lt;span class=&quot;token comment&quot;&gt;// 4. ç»§ç»­å‹æ ˆï¼Œä¿æŠ¤å­çº¿ç¨‹ç°åœº&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;krnstack&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; ebp&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;krnstack&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; ecx&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;krnstack&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; ebx&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// è¿™é‡Œçš„ 0 æœ€æœ‰æ„æ€ã€‚&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;krnstack&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;   &lt;span class=&quot;token comment&quot;&gt;// å­è¿›ç¨‹å†…æ ¸æ ˆä¸­ï¼Œforkåeaxè¿”å›0&lt;/span&gt;


    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;p&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;EAGAIN&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    task&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;nr&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; p&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;p &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;current&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;    &lt;span class=&quot;token comment&quot;&gt;/* NOTE! this doesn&apos;t copy the supervisor stack */&lt;/span&gt;
    p&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;state &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; TASK_UNINTERRUPTIBLE&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    p&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;pid &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; last_pid&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    p&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;father &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; current&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;pid&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    p&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;counter &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; p&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;priority&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    p&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;signal &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    p&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;alarm &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    p&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;leader &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;        &lt;span class=&quot;token comment&quot;&gt;/* process leadership doesn&apos;t inherit */&lt;/span&gt;
    p&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;utime &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; p&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;stime &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    p&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;cutime &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; p&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;cstime &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    p&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;start_time &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; jiffies&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    p&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;tss&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;back_link &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    p&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;tss&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;esp0 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; PAGE_SIZE &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;long&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; p&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    p&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;tss&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;ss0 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0x10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    p&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;tss&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;eip &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; eip&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    p&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;tss&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;eflags &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; eflags&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    p&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;tss&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;eax &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    p&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;tss&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;ecx &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; ecx&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    p&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;tss&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;edx &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; edx&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    p&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;tss&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;ebx &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; ebx&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    p&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;tss&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;esp &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; esp&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    p&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;tss&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;ebp &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; ebp&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    p&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;tss&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;esi &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; esi&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    p&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;tss&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;edi &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; edi&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    p&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;tss&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;es &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; es &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0xffff&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    p&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;tss&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;cs &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; cs &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0xffff&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    p&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;tss&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;ss &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; ss &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0xffff&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    p&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;tss&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;ds &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; ds &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0xffff&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    p&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;tss&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;fs &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; fs &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0xffff&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    p&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;tss&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;gs &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; gs &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0xffff&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    p&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;tss&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;ldt &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;_LDT&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;nr&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    p&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;tss&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;trace_bitmap &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0x80000000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;last_task_used_math &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; current&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token function&quot;&gt;__asm__&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;clts ; fnsave %0&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;m&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;p&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;tss&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;i387&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;copy_mem&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;nr&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;p&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        task&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;nr&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token function&quot;&gt;free_page&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;long&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; p&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;EAGAIN&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;i&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; i&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;NR_OPEN&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;i&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;f&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;p&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;filp&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
            f&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;f_count&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;current&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;pwd&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        current&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;pwd&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;i_count&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;current&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;root&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        current&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;root&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;i_count&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;current&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;executable&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        current&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;executable&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;i_count&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;set_tss_desc&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;gdt&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;nr&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;FIRST_TSS_ENTRY&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;p&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;tss&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;set_ldt_desc&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;gdt&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;nr&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;FIRST_LDT_ENTRY&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;p&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;ldt&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    p&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;state &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; TASK_RUNNING&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;    &lt;span class=&quot;token comment&quot;&gt;/* do this last, just in case */&lt;/span&gt;
    
    &lt;span class=&quot;token comment&quot;&gt;// 5. è®¾ç½®ç»“æ„ä½“æŒ‡é’ˆï¼ŒæŠŠswitch_toä¸­è¦çš„ä¸œè¥¿å­˜è¿›å»&lt;/span&gt;
    p&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;kernelstack &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; krnstack&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;   &lt;span class=&quot;token comment&quot;&gt;// ç¬¬å››æ®µï¼ˆå°†PCBä¸å†…æ ¸æ ˆå…³è”ï¼‰ï¼Œä¸Šé¢åªæ˜¯å¾—åˆ°å†…æ ¸æ ˆä½ç½®å¹¶èµ‹å€¼ï¼Œè¿™è¾¹æ‰å®ç°å…³è”&lt;/span&gt;
    
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; last_pid&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;éœ€è¡¥å……çš„å†…å®¹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;åœ¨ &lt;code class=&quot;language-text&quot;&gt;kernel/system_call.s&lt;/code&gt; ä¸­æ·»åŠ  &lt;code class=&quot;language-text&quot;&gt;first_return_kernel&lt;/code&gt; å®ç°&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;asm&quot;&gt;&lt;pre class=&quot;language-asm&quot;&gt;&lt;code class=&quot;language-asm&quot;&gt;! system_call.s
! æ±‡ç¼–è¯­è¨€ä¸­å®šä¹‰çš„æ–¹æ³•å¯ä»¥è¢«å…¶ä»–è°ƒç”¨éœ€è¦
.globl switch_to
.globl first_return_kernel
! ç¡¬ç¼–ç æ”¹å˜ these are offsets into the task-struct

! ä¿®æ”¹äº†å‡ ä¸ªå˜é‡
state	= 0		# these are offsets into the task-struct.
counter	= 4
priority = 8

# åœ¨ task_struct(PCB) æ·»åŠ äº† kernelstackï¼Œæ‰€ä»¥è¦ä¿®æ”¹
signal    = 16
sigaction = 20
blocked = (33*16+4)

.align 2
first_return_kernel:
    popl %edx
    popl %edi
    popl %esi
    pop %gs
    pop %fs
    pop %es
    pop %ds
    iret&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ol start=&quot;2&quot;&gt;
&lt;li&gt;æ³¨é‡Šæ‰ &lt;code class=&quot;language-text&quot;&gt;include/linux/sched.h&lt;/code&gt; æ–‡ä»¶ä¸­çš„ &lt;code class=&quot;language-text&quot;&gt;switch_to&lt;/code&gt; å®ç°&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;/*#define switch_to(n) {\
struct {long a,b;} __tmp; \
__asm__(&quot;cmpl %%ecx,current\n\t&quot; \
    &quot;je 1f\n\t&quot; \
    &quot;movw %%dx,%1\n\t&quot; \
    &quot;xchgl %%ecx,current\n\t&quot; \
    &quot;ljmp *%0\n\t&quot; \
    &quot;cmpl %%ecx,last_task_used_math\n\t&quot; \
    &quot;jne 1f\n\t&quot; \
    &quot;clts\n&quot; \
    &quot;1:&quot; \
    ::&quot;m&quot; (*&amp;amp;__tmp.a),&quot;m&quot; (*&amp;amp;__tmp.b), \
    &quot;d&quot; (_TSS(n)),&quot;c&quot; ((long) task[n])); \
}*/&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;æœ€åï¼Œç¼–è¯‘å¹¶è¿è¡Œï¼Œè‹¥å¯ä»¥æˆåŠŸå¯åŠ¨ï¼Œåˆ™å®éªŒæˆåŠŸã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;cd&lt;/span&gt; oslab_Lab4/linux-0.11
&lt;span class=&quot;token function&quot;&gt;make&lt;/span&gt; all
&lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;/run&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 581px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/eedce6f1233a81bdfa6b73a5a82b53d4/92d15/1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 67.72151898734178%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAACDUlEQVR42pWTy04iURCGG2ho7jS00DQgGrygYW+IrbNxY+YStGFm6yOwIAFCuAhx6exm4xNwCZPME+hLmAEizKv8U3UMEzcIs/hSp0+f+vuvOtXSh7MzmPk88icnODdNfPn0GSXLQvHqGt+sIqxCAV8plq4tWFcFlIpFFOn9x8tLnFIeY1LexbmJm4tTSLd3d/jx8IDBeIznyQS/p1PMFgtMX+aYzeeYzGa0fsGU1vPFHzw9PqLf72M0GuG208H3+3sMh0MMBwP8+jmG5I/HET06gpHNQk+lBPG9Peg7OzAODhDPZGAcHiJxfIz47i4Cfj/8RCikwuv1IhAI0DokUMNhSMFcDu5kEgohRyJwahpcsZiINpcLkiT9Hx5y4tnehm9/X+Ald0uUaPT1kM32yiaCESpZpUQ/uQttbSGs69DIYYDsyx4PHA7HP+x2+3rBhGFAI7FkIoEYCaeodI78HCFRnT5g0BnuEYuuFQwGg/D5fAJutodccTI3m9+pqiqi0+kU+2H6yLvCfIATGI0uQlEUyLIskpZxWS6LMrb3+slXzc7YydrDm5BOp5GkvjHskMU36tUqcjSHWRrqFA10hoaYn2N8y9RDdr3sJZf89sZXIfG0u2iA3W63KJnXG43HKnq9Hjr0T9brdZTLZVQqFTSbTVSrVdRqNTQaDRFbrRa63a44+zbyfrvdFvDeX2n8h32nqLRRAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/eedce6f1233a81bdfa6b73a5a82b53d4/92d15/1.png&quot;
        srcset=&quot;/blog/static/eedce6f1233a81bdfa6b73a5a82b53d4/c26ae/1.png 158w,
/blog/static/eedce6f1233a81bdfa6b73a5a82b53d4/6bdcf/1.png 315w,
/blog/static/eedce6f1233a81bdfa6b73a5a82b53d4/92d15/1.png 581w&quot;
        sizes=&quot;(max-width: 581px) 100vw, 581px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æ€»ç»“&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;æœ¬æ¬¡å®éªŒå½’æ ¹ç»“åº•è¿˜æ˜¯å®Œæˆäº†æè€å¸ˆæ‰€è¿°çš„äº”æ®µè®ºï¼š
ï¼ˆforkï¼š&lt;code class=&quot;language-text&quot;&gt;int 0x80&lt;/code&gt; -&gt; &lt;code class=&quot;language-text&quot;&gt;system_call&lt;/code&gt; -&gt; &lt;code class=&quot;language-text&quot;&gt;sys_call_table&lt;/code&gt; -&gt; &lt;code class=&quot;language-text&quot;&gt;sys_fork&lt;/code&gt; -&gt; &lt;code class=&quot;language-text&quot;&gt;find_empty_process&lt;/code&gt; -&gt; &lt;code class=&quot;language-text&quot;&gt;copy_process&lt;/code&gt; -&gt; &lt;code class=&quot;language-text&quot;&gt;system_call(rescjedule)&lt;/code&gt;-&gt; &lt;code class=&quot;language-text&quot;&gt;schedule&lt;/code&gt; -&gt; &lt;code class=&quot;language-text&quot;&gt;switch_to&lt;/code&gt;ï¼‰&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ol&gt;
&lt;li&gt;ç”¨æˆ·æ ˆ-&gt;å†…æ ¸æ ˆï¼šè°ƒç”¨&lt;code class=&quot;language-text&quot;&gt;fork&lt;/code&gt;æ—¶ä¼šæ‰§è¡Œ&lt;code class=&quot;language-text&quot;&gt;0x80&lt;/code&gt;ä¸­æ–­ï¼Œè¿›è€Œè¿›å…¥å†…æ ¸æ€ã€‚è¿›å…¥å‰ï¼ŒCPUä¼šå°†SSã€ESPã€EFLAGSã€CSã€EIPå‹å…¥å†…æ ¸æ ˆï¼Œè¿›è€Œçˆ¶è¿›ç¨‹å†…æ ¸æ ˆå’Œç”¨æˆ·æ ˆå–å¾—è”ç³»ã€‚(&lt;code class=&quot;language-text&quot;&gt;system_call&lt;/code&gt;å°†DSã€ESã€FS....å‹å…¥æ ˆ)&lt;/li&gt;
&lt;li&gt;å†…æ ¸æ ˆ-&gt;PCBï¼šåœ¨PCBçš„ç»“æ„ä½“ä¸­æ·»åŠ äº†å†…æ ¸æ ˆæŒ‡é’ˆã€‚&lt;/li&gt;
&lt;li&gt;PCBå®Œæˆåˆ‡æ¢ï¼šé€šè¿‡ &lt;code class=&quot;language-text&quot;&gt;Schedule&lt;/code&gt; ä¸­çš„ &lt;code class=&quot;language-text&quot;&gt;switch_to&lt;/code&gt; ä¼ å…¥ä¸‹ä¸ªè¿›ç¨‹&lt;/li&gt;
&lt;li&gt;PCB-&gt;å†…æ ¸æ ˆï¼š&lt;code class=&quot;language-text&quot;&gt;copy_process&lt;/code&gt; ä¸­è·å–å†…æ ¸æ ˆä½ç½®ï¼Œå¹¶åœ¨PCBä¸­å†…æ ¸æ ˆæŒ‡é’ˆèµ‹å€¼&lt;/li&gt;
&lt;li&gt;å†…æ ¸æ ˆ-&gt;ç”¨æˆ·æ ˆï¼šä¸ºå†…æ ¸æ ˆæŒ‡é’ˆè¿›è¡Œèµ‹å€¼å¡«å…¥ç”¨æˆ·æ€SS:ESPï¼Œå¹¶è®¾ç½®åŒ…å«&lt;code class=&quot;language-text&quot;&gt;iret&lt;/code&gt;çš„è¿”å›å‡½æ•°&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 577px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/8ecbc10421d5e07c320d15a9c7da69b0/065e2/2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 72.15189873417721%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAADDklEQVR42lWT63LiVhCEef+32F/ZTVUSEntju7zGXmOutmMj7iB0l5BAIC4CDBJ8O2BvKqFKdYROn5nunj4ZpfaCUmugawMGgzqeNyAIdMYjE0NvoWkd4njEcunL/wG11zrtdpuB1jhhfF9jJKvaV4gil0y/Z6OqoXyMcV1PDq/Z7RKSZC/fQhTF5OdvFCzodEfo+gTPHQou5e1tJ9gUx/FkTchEUfTvAdfQpaiDIavj2HhDT9gPTnuHw+EDdSDZbnBt2ffcD6yDZZnSYCcFp9MTbNdt4b88E4QTod8XqRqz+QKl8MK6XWfVbrDWVFZqlyh3hffHF8xOC9t1hbFOGIbvBWeLJYfFjF1LwbQs8S9gNpsxn88xTZOaYpwapquYdL0iCUfEUnwgzY/qJkIoimbiv0qaHiULi0Rk7myTYDI5dfkp71hUqZv/k5xYOtvphPDDqjTdn1Z14PJ0VnyXnAYeqS9+iC+G0HfFE1ek9Hp9GYr+UVAeMT1xLRJhO9A1An+IbTkUK20ebsp0vpyRaTWbTE2DvQCPkp+e/6EpsSiUSpTKFZpN+1RwK8VswS1ti/1iLh6rFPJlri5KXH+7p3F9jt9UySilApHo3/Q7qNUyTq/LVMATQ0NttVCe2rCcs/Q9TNmb9zoyJIXao0K1ILkVphPXRv+axWrpZJ4qwuIuRzoNcR/LWDK5aqVM+e4Wt9/l7q5F/FgivMhSE9auHPaUDs/ZazxhfF8solQr+IKxhksy/mjEJpqyFwZWu4krDCy1j6Oq2N029fNvjP25TGMrIV4z9CLUuoH58J1Ahml5HkNhbha+YwerY2wWICYnjsVwPGYj77vN5hSBSMK9aLxi+hvmyy2L9R69ZbMeBQyHQ1KZVLKXRyY+ei5T745lypI59nsS20Br1NGkm2MYWI4E9pdPLEX2wTGpnJfFmhf2Rp+48kC//p5bQ7Jqi5puuUi8+e/Ve9vQlaFc/pmlevk3+atL8tnfmcrVSnIXxGe/sZLbsf7rV+LPn3i9+MrVzQ23uRy521vu8/nTTfkBgyP97eXoD5MAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/8ecbc10421d5e07c320d15a9c7da69b0/065e2/2.png&quot;
        srcset=&quot;/blog/static/8ecbc10421d5e07c320d15a9c7da69b0/c26ae/2.png 158w,
/blog/static/8ecbc10421d5e07c320d15a9c7da69b0/6bdcf/2.png 315w,
/blog/static/8ecbc10421d5e07c320d15a9c7da69b0/065e2/2.png 577w&quot;
        sizes=&quot;(max-width: 577px) 100vw, 577px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[ã€å“ˆå·¥å¤§_æ“ä½œç³»ç»Ÿå®éªŒã€‘Lab4 è¿›ç¨‹è¿è¡Œè½¨è¿¹çš„è·Ÿè¸ªä¸ç»Ÿè®¡]]></title><description><![CDATA[Githubä»£ç ä»“åº“é“¾æ¥ æœ¬èŠ‚å°†æ›´æ–°å“ˆå·¥å¤§ã€Šæ“ä½œç³»ç»Ÿã€‹è¯¾ç¨‹ç¬¬å››ä¸ª Lab å®éªŒ è¿›ç¨‹è¿è¡Œè½¨è¿¹çš„è·Ÿè¸ªä¸ç»Ÿè®¡ã€‚æŒ‰ç…§å®éªŒä¹¦è¦æ±‚ï¼Œä»‹ç»äº†éå¸¸è¯¦ç»†çš„å®éªŒæ“ä½œæµç¨‹ï¼Œå¹¶æä¾›äº†è¶…çº§æ— æ•Œè¯¦ç»†çš„ä»£ç æ³¨é‡Šã€‚ å®éªŒç›®çš„ï¼š æŒæ¡ Linuxâ€¦]]></description><link>https://gatsbystarterblogsource.gatsbyjs.io/013_HIT_OS_Lab4/</link><guid isPermaLink="false">https://gatsbystarterblogsource.gatsbyjs.io/013_HIT_OS_Lab4/</guid><pubDate>Sat, 21 Sep 2024 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;a href=&quot;https://github.com/Joker001014/HIT-OSlab&quot;&gt;Githubä»£ç ä»“åº“é“¾æ¥&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æœ¬èŠ‚å°†æ›´æ–°å“ˆå·¥å¤§ã€Šæ“ä½œç³»ç»Ÿã€‹è¯¾ç¨‹ç¬¬å››ä¸ª Lab å®éªŒ &lt;strong&gt;è¿›ç¨‹è¿è¡Œè½¨è¿¹çš„è·Ÿè¸ªä¸ç»Ÿè®¡&lt;/strong&gt;ã€‚æŒ‰ç…§å®éªŒä¹¦è¦æ±‚ï¼Œä»‹ç»äº†éå¸¸è¯¦ç»†çš„å®éªŒæ“ä½œæµç¨‹ï¼Œå¹¶æä¾›äº†è¶…çº§æ— æ•Œè¯¦ç»†çš„ä»£ç æ³¨é‡Šã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å®éªŒç›®çš„ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;æŒæ¡ Linux ä¸‹çš„å¤šè¿›ç¨‹ç¼–ç¨‹æŠ€æœ¯ï¼›&lt;/li&gt;
&lt;li&gt;é€šè¿‡å¯¹è¿›ç¨‹è¿è¡Œè½¨è¿¹çš„è·Ÿè¸ªæ¥å½¢è±¡åŒ–è¿›ç¨‹çš„æ¦‚å¿µï¼›&lt;/li&gt;
&lt;li&gt;åœ¨è¿›ç¨‹è¿è¡Œè½¨è¿¹è·Ÿè¸ªçš„åŸºç¡€ä¸Šè¿›è¡Œç›¸åº”çš„æ•°æ®ç»Ÿè®¡ï¼Œä»è€Œèƒ½å¯¹è¿›ç¨‹è°ƒåº¦ç®—æ³•è¿›è¡Œå®é™…çš„é‡åŒ–è¯„ä»·ï¼Œæ›´è¿›ä¸€æ­¥åŠ æ·±å¯¹è°ƒåº¦å’Œè°ƒåº¦ç®—æ³•çš„ç†è§£ï¼Œè·å¾—èƒ½åœ¨å®é™…æ“ä½œç³»ç»Ÿä¸Šå¯¹è°ƒåº¦ç®—æ³•è¿›è¡Œå®éªŒæ•°æ®å¯¹æ¯”çš„ç›´æ¥ç»éªŒã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;å®éªŒä»»åŠ¡ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;è¿›ç¨‹åœ¨å…¶ç”Ÿå‘½æœŸä¸­çš„è¿è¡Œè½¨è¿¹å®é™…ä¸Šå°±è¡¨ç°ä¸ºè¿›ç¨‹çŠ¶æ€çš„å¤šæ¬¡åˆ‡æ¢ï¼Œå¦‚è¿›ç¨‹åˆ›å»ºä»¥åä¼šæˆä¸ºå°±ç»ªæ€ï¼›å½“è¯¥è¿›ç¨‹è¢«è°ƒåº¦ä»¥åä¼šåˆ‡æ¢åˆ°è¿è¡Œæ€ï¼›åœ¨è¿è¡Œçš„è¿‡ç¨‹ä¸­å¦‚æœå¯åŠ¨äº†ä¸€ä¸ªæ–‡ä»¶è¯»å†™æ“ä½œï¼Œæ“ä½œç³»ç»Ÿä¼šå°†è¯¥è¿›ç¨‹åˆ‡æ¢åˆ°é˜»å¡æ€ï¼ˆç­‰å¾…æ€ï¼‰ä»è€Œè®©å‡º CPUï¼›å½“æ–‡ä»¶è¯»å†™å®Œæ¯•ä»¥åï¼Œæ“ä½œç³»ç»Ÿä¼šåœ¨å°†å…¶åˆ‡æ¢æˆå°±ç»ªæ€ï¼Œç­‰å¾…è¿›ç¨‹è°ƒåº¦ç®—æ³•æ¥è°ƒåº¦è¯¥è¿›ç¨‹æ‰§è¡Œâ€¦â€¦
1ã€åŸºäºæ¨¡æ¿ process.c ç¼–å†™å¤šè¿›ç¨‹çš„æ ·æœ¬ç¨‹åºï¼Œå®ç°å¦‚ä¸‹åŠŸèƒ½ï¼š + æ‰€æœ‰å­è¿›ç¨‹éƒ½å¹¶è¡Œè¿è¡Œï¼Œæ¯ä¸ªå­è¿›ç¨‹çš„å®é™…è¿è¡Œæ—¶é—´ä¸€èˆ¬ä¸è¶…è¿‡ 30 ç§’ï¼› + çˆ¶è¿›ç¨‹å‘æ ‡å‡†è¾“å‡ºæ‰“å°æ‰€æœ‰å­è¿›ç¨‹çš„ idï¼Œå¹¶åœ¨æ‰€æœ‰å­è¿›ç¨‹éƒ½é€€å‡ºåæ‰é€€å‡ºï¼›
2ã€åœ¨ Linux0.11 ä¸Šå®ç°è¿›ç¨‹è¿è¡Œè½¨è¿¹çš„è·Ÿè¸ªã€‚ + åŸºæœ¬ä»»åŠ¡æ˜¯åœ¨å†…æ ¸ä¸­ç»´æŠ¤ä¸€ä¸ªæ—¥å¿—æ–‡ä»¶ /var/process.logï¼ŒæŠŠä»æ“ä½œç³»ç»Ÿå¯åŠ¨åˆ°ç³»ç»Ÿå…³æœºè¿‡ç¨‹ä¸­æ‰€æœ‰è¿›ç¨‹çš„è¿è¡Œè½¨è¿¹éƒ½è®°å½•åœ¨è¿™ä¸€ log æ–‡ä»¶ä¸­ã€‚
3ã€åœ¨ä¿®æ”¹è¿‡çš„ 0.11 ä¸Šè¿è¡Œæ ·æœ¬ç¨‹åºï¼Œé€šè¿‡åˆ†æ log æ–‡ä»¶ï¼Œç»Ÿè®¡è¯¥ç¨‹åºå»ºç«‹çš„æ‰€æœ‰è¿›ç¨‹çš„ç­‰å¾…æ—¶é—´ã€å®Œæˆæ—¶é—´ï¼ˆå‘¨è½¬æ—¶é—´ï¼‰å’Œè¿è¡Œæ—¶é—´ï¼Œç„¶åè®¡ç®—å¹³å‡ç­‰å¾…æ—¶é—´ï¼Œå¹³å‡å®Œæˆæ—¶é—´å’Œååé‡ã€‚å¯ä»¥è‡ªå·±ç¼–å†™ç»Ÿè®¡ç¨‹åºï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ python è„šæœ¬ç¨‹åºâ€”â€” stat_log.pyï¼ˆåœ¨ /home/teacher/ ç›®å½•ä¸‹ï¼‰ â€”â€”è¿›è¡Œç»Ÿè®¡ã€‚
4ã€ä¿®æ”¹ 0.11 è¿›ç¨‹è°ƒåº¦çš„æ—¶é—´ç‰‡ï¼Œç„¶åå†è¿è¡ŒåŒæ ·çš„æ ·æœ¬ç¨‹åºï¼Œç»Ÿè®¡åŒæ ·çš„æ—¶é—´æ•°æ®ï¼Œå’ŒåŸæœ‰çš„æƒ…å†µå¯¹æ¯”ï¼Œä½“ä¼šä¸åŒæ—¶é—´ç‰‡å¸¦æ¥çš„å·®å¼‚ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;æ–‡ä»¶å&lt;/th&gt;
&lt;th&gt;ä»‹ç»&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;hit-æ“ä½œç³»ç»Ÿå®éªŒæŒ‡å¯¼ä¹¦.pdf&lt;/td&gt;
&lt;td&gt;å“ˆå·¥å¤§OSå®éªŒæŒ‡å¯¼ä¹¦&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Linuxå†…æ ¸å®Œå…¨æ³¨é‡Š(ä¿®æ­£ç‰ˆv3.0).pdf&lt;/td&gt;
&lt;td&gt;èµµåšå£«å¯¹Linux v0.11 OSè¿›è¡Œäº†è¯¦ç»†å…¨é¢çš„æ³¨é‡Šå’Œè¯´æ˜&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;file1615.pdf&lt;/td&gt;
&lt;td&gt;BIOS æ¶‰åŠçš„ä¸­æ–­æ•°æ®æ‰‹å†Œ&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;hit-oslab-linux-20110823.tar.gz&lt;/td&gt;
&lt;td&gt;hit-oslab å®éªŒç¯å¢ƒ&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;gcc-3.4-ubuntu.tar.gz&lt;/td&gt;
&lt;td&gt;Linux v0.11 æ‰€ä½¿ç”¨çš„ç¼–è¯‘å™¨&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&quot;https://joker001014.github.io/blog/019_HIT_OS_Bochs&quot;&gt;Bochs æ±‡ç¼–çº§è°ƒè¯•æŒ‡ä»¤&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;bochs åŸºæœ¬è°ƒè¯•æŒ‡ä»¤å¤§å…¨&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&quot;https://blog.csdn.net/yueyueniaolzp/article/details/82178954&quot;&gt;æœ€å…¨ASCIIç å¯¹ç…§è¡¨0-255&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;å±å¹•è¾“å‡ºå­—ç¬¦å¯¹ç…§çš„ ASCII ç &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&quot;https://blog.csdn.net/weixin_53159274/article/details/138074386?spm=1001.2014.3001.5501&quot;&gt;x86_64 å¸¸ç”¨å¯„å­˜å™¨å¤§å…¨&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;x86_64 å¸¸ç”¨å¯„å­˜å™¨å¤§å…¨&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3&gt;ä¸€ã€ç¼–å†™æ ·æœ¬ç¨‹åº&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;ç¼–å†™ &lt;code class=&quot;language-text&quot;&gt;process.c&lt;/code&gt; æ ·æœ¬ç¨‹åºï¼Œå®ç°å‡½æ•°æ¨¡æ‹Ÿå ç”¨ CPU å’Œ I/O æ—¶é—´&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å®šä¹‰å ç”¨ CPU å’Œ I/O æ—¶é—´å‡½æ•°ï¼š&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;/*
 * æ­¤å‡½æ•°æŒ‰ç…§å‚æ•°å ç”¨ CPU å’Œ I/O æ—¶é—´
 * last            :     å‡½æ•°å®é™…å ç”¨CPUå’ŒI/Oçš„æ€»æ—¶é—´ï¼Œä¸å«åœ¨å°±ç»ªé˜Ÿåˆ—ä¸­çš„æ—¶é—´ï¼Œ&gt;=0æ˜¯å¿…é¡»çš„
 * cpu_time        :     ä¸€æ¬¡è¿ç»­å ç”¨CPUçš„æ—¶é—´ï¼Œ&gt;=0æ˜¯å¿…é¡»çš„
 * io_time        :     ä¸€æ¬¡I/Oæ¶ˆè€—çš„æ—¶é—´ï¼Œ&gt;=0æ˜¯å¿…é¡»çš„
 * å¦‚æœ last &gt; cpu_time + io_timeï¼Œåˆ™å¾€å¤å¤šæ¬¡å ç”¨CPUå’ŒI/O
 * æ‰€æœ‰æ—¶é—´çš„å•ä½ä¸ºç§’
 */&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;cpuio_bound&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; last&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; cpu_time&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; io_time&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// tms ç»“æ„ä½“è®°å½• ç”¨æˆ·ä»£ç  å’Œ å†…æ ¸ä»£ç  è¿è¡Œæ—¶é—´&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;tms&lt;/span&gt; start_time&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; current_time&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// é•¿æ•´å‹ï¼Œè®°å½•æ—¶é’Ÿæ»´ç­”æ•°&lt;/span&gt;
    &lt;span class=&quot;token class-name&quot;&gt;clock_t&lt;/span&gt; utime&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; stime&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; sleep_time&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;last &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;/* CPU Burst */&lt;/span&gt;
        &lt;span class=&quot;token function&quot;&gt;times&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt;start_time&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;/* å…¶å®åªæœ‰t.tms_utimeæ‰æ˜¯çœŸæ­£çš„CPUæ—¶é—´ã€‚ä½†æˆ‘ä»¬æ˜¯åœ¨æ¨¡æ‹Ÿä¸€ä¸ª
         * åªåœ¨ç”¨æˆ·çŠ¶æ€è¿è¡Œçš„CPUå¤§æˆ·ï¼Œå°±åƒâ€œfor(;;);â€ã€‚æ‰€ä»¥æŠŠt.tms_stime
         * åŠ ä¸Šå¾ˆåˆç†ã€‚*/&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;do&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token function&quot;&gt;times&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt;current_time&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            utime &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; current_time&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;tms_utime &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; start_time&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;tms_utime&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;    &lt;span class=&quot;token comment&quot;&gt;// è¿›ç¨‹æ‰§è¡Œç”¨æˆ·ä»£ç æ—¶é—´&lt;/span&gt;
            stime &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; current_time&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;tms_stime &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; start_time&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;tms_stime&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;    &lt;span class=&quot;token comment&quot;&gt;// è¿›ç¨‹æ‰§è¡Œå†…æ ¸ä»£ç æ—¶é—´&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;utime &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; stime&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt; HZ &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; cpu_time &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;            &lt;span class=&quot;token comment&quot;&gt;// å¾—åˆ°æ—¶é’Ÿæ»´ç­”æ¬¡æ•°ï¼Œä¹˜10mså¾—åˆ°çœŸæ­£çš„æ—¶é—´&lt;/span&gt;
        last &lt;span class=&quot;token operator&quot;&gt;-=&lt;/span&gt; cpu_time&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;                                            &lt;span class=&quot;token comment&quot;&gt;// è¿è¡ŒCPUåå‰©ä½™æ—¶é—´&lt;/span&gt;

        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;last &lt;span class=&quot;token operator&quot;&gt;&amp;lt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

        &lt;span class=&quot;token comment&quot;&gt;/* IO Burst */&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;/* ç”¨sleep(1)æ¨¡æ‹Ÿ1ç§’é’Ÿçš„I/Oæ“ä½œ */&lt;/span&gt;
        sleep_time&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;sleep_time &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; io_time&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token function&quot;&gt;sleep&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;                            &lt;span class=&quot;token comment&quot;&gt;// æ¨¡æ‹Ÿ I/Oæ“ä½œ å ç”¨è¿›ç¨‹æ—¶é—´&lt;/span&gt;
            sleep_time&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        last &lt;span class=&quot;token operator&quot;&gt;-=&lt;/span&gt; sleep_time&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;                        &lt;span class=&quot;token comment&quot;&gt;// è¿è¡Œ CPU + I/O å‰©ä½™æ—¶é—´&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;åˆ›å»ºå¤šè¿›ç¨‹å¹¶è°ƒç”¨å ç”¨æ—¶é—´å‡½æ•°&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;lt;stdio.h&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;lt;unistd.h&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;lt;time.h&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;lt;sys/times.h&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;lt;sys/types.h&gt;&lt;/span&gt;&lt;/span&gt;

&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;define&lt;/span&gt; &lt;span class=&quot;token macro-name&quot;&gt;HZ&lt;/span&gt;    &lt;span class=&quot;token expression&quot;&gt;&lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;cpuio_bound&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; last&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; cpu_time&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; io_time&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;/*
1.  æ‰€æœ‰å­è¿›ç¨‹éƒ½å¹¶è¡Œè¿è¡Œ,æ¯ä¸ªå­è¿›ç¨‹çš„å®é™…è¿è¡Œæ—¶é—´ä¸€èˆ¬ä¸è¶…è¿‡30ç§’;
2.  çˆ¶è¿›ç¨‹å‘æ ‡å‡†è¾“å‡ºæ‰“å°æ‰€æœ‰å­è¿›ç¨‹çš„id,å¹¶åœ¨æ‰€æœ‰å­è¿›ç¨‹éƒ½é€€å‡ºåæ‰é€€å‡º;
*/&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; argc&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; argv&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token class-name&quot;&gt;pid_t&lt;/span&gt; n_proc&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;/*10ä¸ªå­è¿›ç¨‹ PID*/&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; i&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;i&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;i&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;i&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        n_proc&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;fork&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;        &lt;span class=&quot;token comment&quot;&gt;// çˆ¶è¿›ç¨‹-è¿”å›å­è¿›ç¨‹IDï¼› å­è¿›ç¨‹-è¿”å›0&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;/*å­è¿›ç¨‹*/&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;n_proc&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token function&quot;&gt;cpuio_bound&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;     &lt;span class=&quot;token comment&quot;&gt;/*æ¯ä¸ªå­è¿›ç¨‹éƒ½å ç”¨20s*/&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;                         &lt;span class=&quot;token comment&quot;&gt;/*æ‰§è¡Œå®Œcpuio_bound ä»¥åï¼Œç»“æŸè¯¥å­è¿›ç¨‹*/&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;/*fork å¤±è´¥*/&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;n_proc&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token function&quot;&gt;printf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Failed to fork child process %d!\n&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;i&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;/*çˆ¶è¿›ç¨‹ç»§ç»­forkï¼Œ æ­¤å¤„ä¸ºçˆ¶è¿›ç¨‹ */&lt;/span&gt;
        &lt;span class=&quot;token class-name&quot;&gt;pid_t&lt;/span&gt; father &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getpid&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;        &lt;span class=&quot;token comment&quot;&gt;// è·å¾—è¿›ç¨‹æ ‡å¿—ç¬¦&lt;/span&gt;
        &lt;span class=&quot;token function&quot;&gt;printf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Now is the father&apos;s pid: %d\n&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; father&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;/*æ‰“å°æ‰€æœ‰å­è¿›ç¨‹PID*/&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;i&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;i&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;i&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token function&quot;&gt;printf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Child PID: %d\n&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;n_proc&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;/*ç­‰å¾…æ‰€æœ‰å­è¿›ç¨‹å®Œæˆ*/&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;wait&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  &lt;span class=&quot;token comment&quot;&gt;/*Linux 0.11 ä¸Š gccè¦æ±‚å¿…é¡»æœ‰ä¸€ä¸ªå‚æ•°, gcc3.4+åˆ™ä¸éœ€è¦*/&lt;/span&gt; 
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ç¼–è¯‘ &lt;code class=&quot;language-text&quot;&gt;process.c&lt;/code&gt; æ ·æœ¬ç¨‹åº&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;gcc -o myprocess process.c&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;äºŒã€ç»´æŠ¤æ—¥å¿—æ–‡ä»¶&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;æŠŠä»æ“ä½œç³»ç»Ÿå¯åŠ¨åˆ°ç³»ç»Ÿå…³æœºè¿‡ç¨‹ä¸­æ‰€æœ‰çš„è¿›ç¨‹è¿è¡Œè½¨è¿¹éƒ½è®°å½•åœ¨logæ–‡ä»¶ä¸­&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;1ã€å†…æ ¸å¯åŠ¨æ—¶å°±æ‰“å¼€ process.log æ–‡ä»¶&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;init/main.c&lt;/code&gt; æ–‡ä»¶ä¸­æ·»åŠ å¦‚ä¸‹ä»£ç ï¼š&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;//â€¦â€¦&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;move_to_user_mode&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;/***************æ·»åŠ å¼€å§‹***************/&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;setup&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt;drive_info&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;open&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;/dev/tty0&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;O_RDWR&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;    
&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;dup&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;        
&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;dup&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;        
&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;open&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;/var/process.log&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;O_CREAT&lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;O_TRUNC&lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;O_WRONLY&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0666&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;/***************æ·»åŠ ç»“æŸ***************/&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;fork&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;        &lt;span class=&quot;token comment&quot;&gt;/* we count on this going ok */&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;//â€¦â€¦&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;å…¶ä¸­ &lt;code class=&quot;language-text&quot;&gt;init()&lt;/code&gt; å‡½æ•°å»ºç«‹äº†æ–‡ä»¶æè¿°ç¬¦ 0ã€1 ã€2å’Œ/dev/tty0çš„å…³è”ï¼Œå®ƒä»¬åˆ†åˆ«å°±æ˜¯ &lt;code class=&quot;language-text&quot;&gt;stdin&lt;/code&gt;ã€&lt;code class=&quot;language-text&quot;&gt;stdout&lt;/code&gt; å’Œ &lt;code class=&quot;language-text&quot;&gt;stderr&lt;/code&gt;ã€‚è¿™ä¸‰è€…çš„å€¼æ˜¯ç³»ç»Ÿæ ‡å‡†ã€‚ä»¿ç…§å°†æŠŠ log æ–‡ä»¶çš„æè¿°ç¬¦å…³è”åˆ° 3ã€‚æ­¤å fork() å°†ä¼šç»§æ‰¿è¿™äº›æ–‡ä»¶æè¿°ç¬¦&lt;/p&gt;
&lt;p&gt;2ã€ç¼–å†™å‘ log æ–‡ä»¶å†™å‡½æ•° fprintk&lt;/p&gt;
&lt;p&gt;åœ¨å†…æ ¸çŠ¶æ€ä¸‹æ— æ³•ç›´æ¥ä½¿ç”¨&lt;code class=&quot;language-text&quot;&gt;write()&lt;/code&gt;å‡½æ•°å‘logæ–‡ä»¶è¾“å‡ºï¼Œå› æ­¤éœ€è¦è‡ªå·±ç¼–å†™å‡½æ•°ã€‚å‚è€ƒäº† &lt;code class=&quot;language-text&quot;&gt;printk()&lt;/code&gt; å’Œ &lt;code class=&quot;language-text&quot;&gt;sys_write()&lt;/code&gt; è€Œå†™æˆï¼Œå‘ &lt;code class=&quot;language-text&quot;&gt;kernel/printk.c&lt;/code&gt; æ–‡ä»¶ä¸­æ·»åŠ å¦‚ä¸‹å‡½æ•°ï¼š&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;linux/sched.h&quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;sys/stat.h&quot;&lt;/span&gt;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;char&lt;/span&gt; logbuf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1024&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;fprintk&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; fd&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;fmt&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    va_list args&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; count&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;file&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; file&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;m_inode&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; inode&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token function&quot;&gt;va_start&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;args&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; fmt&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    count&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;vsprintf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;logbuf&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; fmt&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; args&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;va_end&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;args&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;/* å¦‚æœè¾“å‡ºåˆ°stdoutæˆ–stderrï¼Œç›´æ¥è°ƒç”¨sys_writeå³å¯ */&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;fd &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token function&quot;&gt;__asm__&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;push %%fs\n\t&quot;&lt;/span&gt;
            &lt;span class=&quot;token string&quot;&gt;&quot;push %%ds\n\t&quot;&lt;/span&gt;
            &lt;span class=&quot;token string&quot;&gt;&quot;pop %%fs\n\t&quot;&lt;/span&gt;
            &lt;span class=&quot;token string&quot;&gt;&quot;pushl %0\n\t&quot;&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;/* æ³¨æ„å¯¹äºWindowsç¯å¢ƒæ¥è¯´ï¼Œæ˜¯_logbuf,ä¸‹åŒ */&lt;/span&gt;
            &lt;span class=&quot;token string&quot;&gt;&quot;pushl $logbuf\n\t&quot;&lt;/span&gt; 
            &lt;span class=&quot;token string&quot;&gt;&quot;pushl %1\n\t&quot;&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;/* æ³¨æ„å¯¹äºWindowsç¯å¢ƒæ¥è¯´ï¼Œæ˜¯_sys_write,ä¸‹åŒ */&lt;/span&gt;
            &lt;span class=&quot;token string&quot;&gt;&quot;call sys_write\n\t&quot;&lt;/span&gt; 
            &lt;span class=&quot;token string&quot;&gt;&quot;addl $8,%%esp\n\t&quot;&lt;/span&gt;
            &lt;span class=&quot;token string&quot;&gt;&quot;popl %0\n\t&quot;&lt;/span&gt;
            &lt;span class=&quot;token string&quot;&gt;&quot;pop %%fs&quot;&lt;/span&gt;
            &lt;span class=&quot;token operator&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;r&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;count&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;r&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;fd&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;ax&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;cx&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;dx&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt;    
&lt;span class=&quot;token comment&quot;&gt;/* å‡å®š&gt;=3çš„æè¿°ç¬¦éƒ½ä¸æ–‡ä»¶å…³è”ã€‚äº‹å®ä¸Šï¼Œè¿˜å­˜åœ¨å¾ˆå¤šå…¶å®ƒæƒ…å†µï¼Œè¿™é‡Œå¹¶æ²¡æœ‰è€ƒè™‘ã€‚*/&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;/* ä»è¿›ç¨‹0çš„æ–‡ä»¶æè¿°ç¬¦è¡¨ä¸­å¾—åˆ°æ–‡ä»¶å¥æŸ„ */&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;file&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;task&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;filp&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;fd&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;    
            &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        inode&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;file&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;f_inode&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

        &lt;span class=&quot;token function&quot;&gt;__asm__&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;push %%fs\n\t&quot;&lt;/span&gt;
            &lt;span class=&quot;token string&quot;&gt;&quot;push %%ds\n\t&quot;&lt;/span&gt;
            &lt;span class=&quot;token string&quot;&gt;&quot;pop %%fs\n\t&quot;&lt;/span&gt;
            &lt;span class=&quot;token string&quot;&gt;&quot;pushl %0\n\t&quot;&lt;/span&gt;
            &lt;span class=&quot;token string&quot;&gt;&quot;pushl $logbuf\n\t&quot;&lt;/span&gt;
            &lt;span class=&quot;token string&quot;&gt;&quot;pushl %1\n\t&quot;&lt;/span&gt;
            &lt;span class=&quot;token string&quot;&gt;&quot;pushl %2\n\t&quot;&lt;/span&gt;
            &lt;span class=&quot;token string&quot;&gt;&quot;call file_write\n\t&quot;&lt;/span&gt;
            &lt;span class=&quot;token string&quot;&gt;&quot;addl $12,%%esp\n\t&quot;&lt;/span&gt;
            &lt;span class=&quot;token string&quot;&gt;&quot;popl %0\n\t&quot;&lt;/span&gt;
            &lt;span class=&quot;token string&quot;&gt;&quot;pop %%fs&quot;&lt;/span&gt;
            &lt;span class=&quot;token operator&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;r&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;count&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;r&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;file&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;r&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;inode&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;ax&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;cx&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;dx&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; count&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ä½¿ç”¨ç¤ºä¾‹ï¼š&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// å‘stdoutæ‰“å°æ­£åœ¨è¿è¡Œçš„è¿›ç¨‹çš„ID&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;fprintk&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;The ID of running process is %ld&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; current&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;pid&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; 

&lt;span class=&quot;token comment&quot;&gt;// å‘logæ–‡ä»¶è¾“å‡ºè·Ÿè¸ªè¿›ç¨‹è¿è¡Œè½¨è¿¹&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;fprintk&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;%ld\t%c\t%ld\n&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; current&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;pid&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token char&quot;&gt;&apos;R&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; jiffies&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; 
&lt;span class=&quot;token comment&quot;&gt;// è¿›ç¨‹idã€è¿›ç¨‹çŠ¶æ€ã€æ»´ç­”æ•°ï¼ˆå¼€æœºä»¥æ¥ç»å†å¤šå°‘ä¸ª10msï¼‰&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;3ã€å‘çŠ¶æ€åˆ‡æ¢ç‚¹æ·»åŠ è¾“å‡ºlogæ–‡ä»¶ä»£ç &lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;éœ€è¦å¯¹ &lt;code class=&quot;language-text&quot;&gt;/kernel&lt;/code&gt; æ–‡ä»¶å¤¹ä¸‹çš„ &lt;code class=&quot;language-text&quot;&gt;fork.c, sched.c, exit.c&lt;/code&gt; æœ‰æ‰€äº†è§£ã€‚&lt;code class=&quot;language-text&quot;&gt;linux 0.11&lt;/code&gt;ä¸­è¿›ç¨‹çŠ¶æ€æœ‰ä¸‰ç§ï¼šå°±ç»ªï¼ˆè¿è¡Œï¼‰ã€ç­‰å¾…ã€é€€å‡ºã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ol&gt;
&lt;li&gt;æ–°å»ºè¿›ç¨‹æ—¶&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;fork()&lt;/code&gt; -&gt; &lt;code class=&quot;language-text&quot;&gt;sys_fork()&lt;/code&gt;-&gt; &lt;code class=&quot;language-text&quot;&gt;kernel/system_call.s&lt;/code&gt; -&gt; &lt;code class=&quot;language-text&quot;&gt;copy_process()&lt;/code&gt;ï¼Œåœ¨ &lt;code class=&quot;language-text&quot;&gt;kernel/fork.c&lt;/code&gt; æ–‡ä»¶ä¸­æ·»åŠ è¾“å‡ºè¯­å¥&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;copy_process&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; nr&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;â€¦â€¦&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;//    â€¦â€¦&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// è®¾ç½® start_time ä¸º jiffies&lt;/span&gt;
    p&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;start_time &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; jiffies&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;//  æ–°å»ºè¿›ç¨‹ï¼Œå‘logæ–‡ä»¶è¾“å‡ºï¼Œ&apos;N&apos;-æ–°å»º&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;fprintk&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;%ld\t%c\t%ld\n&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; p&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;pid&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token char&quot;&gt;&apos;N&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; jiffies&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; 
&lt;span class=&quot;token comment&quot;&gt;//       â€¦â€¦&lt;/span&gt;
    p&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;state &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; TASK_RUNNING&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;    
&lt;span class=&quot;token comment&quot;&gt;//  è®¾ç½®è¿›ç¨‹çŠ¶æ€ä¸ºå°±ç»ªï¼Œå‘logæ–‡ä»¶è¾“å‡ºï¼Œ&apos;J&apos;-å°±ç»ª&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;fprintk&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;%ld\t%c\t%ld\n&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; p&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;pid&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token char&quot;&gt;&apos;J&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; jiffies&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; 
    
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; last_pid&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ol start=&quot;2&quot;&gt;
&lt;li&gt;è¿›å…¥ç¡çœ æ€&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ä¿®æ”¹ &lt;code class=&quot;language-text&quot;&gt;kenrel/sched.c&lt;/code&gt; ä¸­çš„ sys_pause() å’Œ sleep_on() å’Œ interruptible_sleep_on()&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;sys_pause&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	current&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;state &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; TASK_INTERRUPTIBLE&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// è¾“å‡ºlogæ–‡ä»¶&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;current&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;pid &lt;span class=&quot;token operator&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    	&lt;span class=&quot;token function&quot;&gt;fprintk&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;%ld\t%c\t%ld\n&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; current&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;pid&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token char&quot;&gt;&apos;W&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; jiffies&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token function&quot;&gt;schedule&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;sleep_on&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;task_struct&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;p&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;task_struct&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;tmp&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;//    â€¦â€¦&lt;/span&gt;
    tmp &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;p&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// ä»”ç»†é˜…è¯»ï¼Œå®é™…ä¸Šæ˜¯å°† current æ’å…¥â€œç­‰å¾…é˜Ÿåˆ—â€å¤´éƒ¨ï¼Œtmp æ˜¯åŸæ¥çš„å¤´éƒ¨&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;p &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; current&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
&lt;span class=&quot;token comment&quot;&gt;// åˆ‡æ¢åˆ°ç¡çœ æ€&lt;/span&gt;
    current&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;state &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; TASK_UNINTERRUPTIBLE&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; 

	&lt;span class=&quot;token comment&quot;&gt;// è¾“å‡ºlogæ–‡ä»¶&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;fprintk&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;%ld\t%c\t%ld\n&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; current&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;pid&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token char&quot;&gt;&apos;W&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; jiffies&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; 

    &lt;span class=&quot;token function&quot;&gt;schedule&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
	&lt;span class=&quot;token comment&quot;&gt;// å”¤é†’é˜Ÿåˆ—ä¸­çš„ä¸Šä¸€ä¸ªï¼ˆtmpï¼‰ç¡çœ è¿›ç¨‹ã€‚&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;tmp&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        tmp&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;state&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    	&lt;span class=&quot;token comment&quot;&gt;//  è¾“å‡ºlogæ–‡ä»¶&lt;/span&gt;
    	&lt;span class=&quot;token function&quot;&gt;fprintk&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;%ld\t%c\t%ld\n&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; tmp&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;pid&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token char&quot;&gt;&apos;J&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; jiffies&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;interruptible_sleep_on&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;task_struct&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;p&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;task_struct&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;tmp&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
       â€¦
    tmp&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;p&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;p&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;current&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
repeat&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;    current&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;state &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; TASK_INTERRUPTIBLE&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    	   &lt;span class=&quot;token comment&quot;&gt;//  è¾“å‡ºlogæ–‡ä»¶&lt;/span&gt;
    		&lt;span class=&quot;token function&quot;&gt;fprintk&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;%ld\t%c\t%ld\n&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; current&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;pid&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token char&quot;&gt;&apos;W&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; jiffies&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; 
    &lt;span class=&quot;token function&quot;&gt;schedule&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;p &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;p &lt;span class=&quot;token operator&quot;&gt;!=&lt;/span&gt; current&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; 
        &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;p&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;state&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;//  è¾“å‡ºlogæ–‡ä»¶&lt;/span&gt;
    	&lt;span class=&quot;token function&quot;&gt;fprintk&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;%ld\t%c\t%ld\n&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;p&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;pid&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token char&quot;&gt;&apos;J&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; jiffies&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; 
        &lt;span class=&quot;token keyword&quot;&gt;goto&lt;/span&gt; repeat&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;p&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;tmp&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        tmp&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;state&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    	&lt;span class=&quot;token comment&quot;&gt;//  è¾“å‡ºlogæ–‡ä»¶&lt;/span&gt;
    	&lt;span class=&quot;token function&quot;&gt;fprintk&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;%ld\t%c\t%ld\n&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; tmp&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;pid&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token char&quot;&gt;&apos;J&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; jiffies&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ä¿®æ”¹ &lt;code class=&quot;language-text&quot;&gt;exit.c&lt;/code&gt; ä¸­çš„ sys_waitpid()&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;sys_waitpid&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;pid_t&lt;/span&gt; pid&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;unsigned&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;long&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; stat_addr&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; options&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;//    â€¦â€¦&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;flag&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;options &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt; WNOHANG&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
			&lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		current&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;state&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;TASK_INTERRUPTIBLE&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;//  0å·è¿›ç¨‹æ˜¯å®ˆæŠ¤è¿›ç¨‹ï¼Œcpuç©ºé—²çš„æ—¶å€™ä¸€ç›´åœ¨waitingï¼Œè¾“å‡ºå®ƒçš„è¯æ˜¯ä¸ä¼šé€šè¿‡è„šæœ¬æ£€æŸ¥çš„å“¦&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;current&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;pid &lt;span class=&quot;token operator&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        	&lt;span class=&quot;token function&quot;&gt;fprintk&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;%ld\t%c\t%ld\n&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; current&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;pid&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token char&quot;&gt;&apos;W&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; jiffies&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; 
		&lt;span class=&quot;token function&quot;&gt;schedule&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;//    â€¦â€¦&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ol start=&quot;3&quot;&gt;
&lt;li&gt;è°ƒåº¦ç®—æ³•&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;è°ƒåº¦ç¨‹åºåœ¨åˆ†é…CPUæ—¶ä¼šä¿®æ”¹è¿›ç¨‹çŠ¶æ€ï¼ŒåŒæ ·éœ€è¦è®°å½•ï¼Œä¿®æ”¹ &lt;code class=&quot;language-text&quot;&gt;kernel/sched.c&lt;/code&gt; ä¸­çš„ schedule()ï¼š&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;schedule&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;//    â€¦â€¦&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;p&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;signal &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;~&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;_BLOCKABLE &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;p&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;blocked&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;p&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;state&lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt;TASK_INTERRUPTIBLE&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;p&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;state&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;TASK_RUNNING&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
                &lt;span class=&quot;token comment&quot;&gt;/*å¯ä¸­æ–­ç¡çœ  =&gt; å°±ç»ª*/&lt;/span&gt;
                &lt;span class=&quot;token function&quot;&gt;fprintk&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;%d\tJ\t%d\n&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;p&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;pid&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;jiffies&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
                
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;//    â€¦â€¦&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// å¦‚æœå½“å‰è¿›ç¨‹å’Œ next è¿›ç¨‹ä¸ä¸€æ ·ï¼Œåˆ™è¾“å‡ºlogæ–‡ä»¶&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;current&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;pid &lt;span class=&quot;token operator&quot;&gt;!=&lt;/span&gt; task&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;next&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;pid&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;// å½“å‰è¿›ç¨‹ç”± è¿è¡Œ -&gt; å°±ç»ª&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;current&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;state &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; TASK_RUNNING&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;token function&quot;&gt;fprintk&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;%d\tJ\t%d\n&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;current&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;pid&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;jiffies&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;// nextè¿›ç¨‹ç”± å°±ç»ª -&gt; è¿è¡Œ&lt;/span&gt;
        &lt;span class=&quot;token function&quot;&gt;fprintk&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;%d\tR\t%d\n&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;task&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;next&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;pid&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;jiffies&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;token function&quot;&gt;switch_to&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;next&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ol start=&quot;4&quot;&gt;
&lt;li&gt;å”¤é†’&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ä¿®æ”¹ &lt;code class=&quot;language-text&quot;&gt;kernel/sched.c&lt;/code&gt; ä¸­çš„ wake_ip()ï¼š&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;wake_up&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;task_struct&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;p&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;p &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;p&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;p&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;state&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;// å”¤é†’ æœ€åè¿›å…¥ç­‰å¾…åºåˆ—çš„ è¿›ç¨‹&lt;/span&gt;
        &lt;span class=&quot;token function&quot;&gt;fprintk&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;%d\tJ\t%d\n&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;p&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;pid&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;jiffies&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;p&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ol start=&quot;5&quot;&gt;
&lt;li&gt;è¿›ç¨‹é€€å‡º&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;è¿›ç¨‹ç»“æŸäº†è¿è¡Œæˆ–åœ¨åŠé€”ä¸­ç»ˆæ­¢äº†è¿è¡Œï¼Œé‚£ä¹ˆå†…æ ¸å°±éœ€è¦é‡Šæ”¾è¯¥è¿›ç¨‹æ‰€å ç”¨çš„ç³»ç»Ÿèµ„æºï¼Œåœ¨ &lt;code class=&quot;language-text&quot;&gt;kernel/exit.c&lt;/code&gt; æ–‡ä»¶ä¸­æ·»åŠ è¾“å‡ºlogæ–‡ä»¶æŒ‡ä»¤ï¼š&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;do_exit&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;long&lt;/span&gt; code&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;//    â€¦â€¦&lt;/span&gt;
	current&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;state &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; TASK_ZOMBIE&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	
    &lt;span class=&quot;token comment&quot;&gt;// é€€å‡ºä¸€ä¸ªè¿›ç¨‹ï¼Œè¾“å‡ºlogæ–‡ä»¶&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;fprintk&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;%ld\t%c\t%ld\n&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; current&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;pid&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token char&quot;&gt;&apos;E&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; jiffies&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; 
    
	current&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;exit_code &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; code&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token function&quot;&gt;tell_father&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;current&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;father&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token function&quot;&gt;schedule&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;	&lt;span class=&quot;token comment&quot;&gt;/* just to suppress warnings */&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;æ€»ç»“ï¼šå®ç°logè¿›ç¨‹å…¨é¢è·Ÿè¸ªï¼ŒLinux0.11åŒ…æ‹¬å…­ç§çŠ¶æ€è½¬ç§»ï¼Œ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å°±ç»ª åˆ° è¿è¡Œ ï¼š&lt;code class=&quot;language-text&quot;&gt;schedule()&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;è¿è¡Œ åˆ° å°±ç»ª ï¼š&lt;code class=&quot;language-text&quot;&gt;schedule()&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;è¿è¡Œ åˆ° ç¡çœ  ï¼š &lt;code class=&quot;language-text&quot;&gt;sleep_on()&lt;/code&gt; ã€&lt;code class=&quot;language-text&quot;&gt;interruptible_sleep_on()&lt;/code&gt;ã€&lt;code class=&quot;language-text&quot;&gt;sys_pause()&lt;/code&gt; ã€&lt;code class=&quot;language-text&quot;&gt;sys_waitpid()&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;ç¡çœ  åˆ° å°±ç»ª ï¼š&lt;code class=&quot;language-text&quot;&gt;wake_up()&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;æ–°å»º&lt;/li&gt;
&lt;li&gt;é€€å‡º&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;æ³¨æ„ï¼šç³»ç»Ÿæ— äº‹å¯åšçš„æ—¶å€™ï¼Œè¿›ç¨‹ 0 ä¼šä¸åœåœ°è°ƒç”¨ &lt;code class=&quot;language-text&quot;&gt;sys_pause()&lt;/code&gt;ï¼Œä»¥æ¿€æ´»è°ƒåº¦ç®—æ³•ã€‚æ­¤æ—¶å®ƒçš„çŠ¶æ€å¯ä»¥æ˜¯ç­‰å¾…æ€ï¼Œç­‰å¾…æœ‰å…¶å®ƒå¯è¿è¡Œçš„è¿›ç¨‹ï¼›ä¹Ÿå¯ä»¥å«è¿è¡Œæ€ï¼Œå®ƒæ˜¯å”¯ä¸€ä¸€ä¸ªåœ¨ CPU ä¸Šè¿è¡Œçš„è¿›ç¨‹ï¼Œåªä¸è¿‡è¿è¡Œçš„æ•ˆæœæ˜¯ç­‰å¾…ã€‚æ‰€ä»¥è¾“å‡ºlogæ–‡ä»¶æ—¶ç»å¸¸è¦åˆ¤æ–­å½“å‰è¿›ç¨‹pidæ˜¯å¦ä¸ºé›¶ï¼Œé˜²æ­¢&lt;code class=&quot;language-text&quot;&gt;sys_pause()&lt;/code&gt; ä¸æ–­è¾“å‡ºlogæ–‡ä»¶&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ç¼–ç¨‹è¾“å‡ºlogæ–‡ä»¶ï¼š&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;cd&lt;/span&gt; ~/my_space/OS_HIT/oslab_Lab3/linux-0.11
&lt;span class=&quot;token function&quot;&gt;make&lt;/span&gt;     // ç¼–è¯‘
&lt;span class=&quot;token builtin class-name&quot;&gt;cd&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;
./run

// åœ¨ Bochs ä¸­æŸ¥çœ‹ log æ–‡ä»¶
&lt;span class=&quot;token function&quot;&gt;more&lt;/span&gt; /var/process.log
&lt;span class=&quot;token function&quot;&gt;sync&lt;/span&gt;   // é€€å‡º bochs æ—¶ï¼Œåˆ·æ–° cacheï¼Œç¡®ä¿æ–‡ä»¶ç¡®å®å†™å…¥äº†ç£ç›˜ã€‚

// å°† process.log å–å‡ºåˆ° Ubuntu
&lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; ./mount-hdc
&lt;span class=&quot;token builtin class-name&quot;&gt;cd&lt;/span&gt; hdc/var
&lt;span class=&quot;token function&quot;&gt;mv&lt;/span&gt; process.log &lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;/&lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;
// æ­¤æ—¶å³å¯åœ¨Ubuntuä¸­æŸ¥çœ‹logæ–‡ä»¶äº†&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;ä¸‰ã€ç»Ÿè®¡æ—¶é—´ä¸è°ƒåº¦ç®—æ³•ä¿®æ”¹&lt;/h3&gt;
&lt;p&gt;ä½¿ç”¨ python ä»£ç è®¡ç®—æ•°æ®ç»Ÿè®¡ï¼Œè®¡ç®—å¹³å‡å‘¨è½¬æ—¶é—´ã€å¹³å‡ç­‰å¾…æ—¶é—´å’Œååç‡&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;&lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;apt-get&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; python
&lt;span class=&quot;token function&quot;&gt;chmod&lt;/span&gt; +x stat_log.py
./stat_log.py process.log &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt; &lt;span class=&quot;token parameter variable&quot;&gt;-g&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;more&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;æŒ‰ç…§å®éªŒä»»åŠ¡ä¹¦ï¼Œæ¥ä¸‹æ¥éœ€è¦ä¿®æ”¹æ—¶é—´ç‰‡å¤§å°å†è¿›è¡Œç»Ÿè®¡ã€‚å…·ä½“ä¿®æ”¹ &lt;code class=&quot;language-text&quot;&gt;include/linux/sched.h&lt;/code&gt; æ–‡ä»¶ä¸­çš„ INIT_TASK å®å®šä¹‰ç¬¬ä¸‰ä¸ªå€¼ï¼Œå³ä¿®æ”¹15ä¸ºæœŸæœ›çš„æ—¶é—´ç‰‡å¤§å°ï¼Œå†è¿è¡Œ &lt;code class=&quot;language-text&quot;&gt;stat_log.py&lt;/code&gt; åˆ†æ&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;h&quot;&gt;&lt;pre class=&quot;language-h&quot;&gt;&lt;code class=&quot;language-h&quot;&gt;#define INIT_TASK \
/* state etc */    { 0,15,15, \
/* signals */    0,{{},},0, \&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;ä¾æ¬¡å°†æ—¶é—´åè®¾ä¸º1ï¼Œ5ï¼Œ10ï¼Œ15ï¼Œ20ï¼Œ25ï¼Œ50ï¼Œ100ï¼Œ150åï¼Œç»ç»Ÿè®¡åˆ†ælogæ–‡ä»¶å¯ä»¥å‘ç°ï¼š&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;1ï¼‰åœ¨ä¸€å®šçš„èŒƒå›´å†…ï¼Œå¹³å‡ç­‰å¾…æ—¶é—´ï¼Œå¹³å‡å®Œæˆæ—¶é—´çš„å˜åŒ–éšç€æ—¶é—´ç‰‡çš„å¢å¤§è€Œå‡å°ã€‚è¿™æ˜¯å› ä¸ºåœ¨æ—¶é—´ç‰‡å°çš„æƒ…å†µä¸‹ï¼Œcpuå°†æ—¶é—´è€—è´¹åœ¨è°ƒåº¦åˆ‡æ¢ä¸Šï¼Œæ‰€ä»¥å¹³å‡ç­‰å¾…æ—¶é—´å¢åŠ ã€‚
2ï¼‰è¶…è¿‡ä¸€å®šçš„èŒƒå›´ä¹‹åï¼Œè¿™äº›å‚æ•°å°†ä¸å†æœ‰æ˜æ˜¾çš„å˜åŒ–ï¼Œè¿™æ˜¯å› ä¸ºåœ¨è¿™ç§æƒ…å†µä¸‹ï¼ŒRRè½®è½¬è°ƒåº¦å°±å˜æˆäº†FCFSå…ˆæ¥å…ˆæœåŠ¡äº†ã€‚éšç€æ—¶é—´ç‰‡çš„ä¿®æ”¹ï¼Œååé‡å§‹ç»ˆæ²¡æœ‰æ˜æ˜¾çš„å˜åŒ–ï¼Œè¿™æ˜¯å› ä¸ºåœ¨å•ä½æ—¶é—´å†…ï¼Œç³»ç»Ÿæ‰€èƒ½å®Œæˆçš„è¿›ç¨‹æ•°é‡æ˜¯ä¸ä¼šå˜çš„ã€‚&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[ã€å“ˆå·¥å¤§_æ“ä½œç³»ç»Ÿå®éªŒã€‘Lab3 ç³»ç»Ÿè°ƒç”¨]]></title><description><![CDATA[Githubä»£ç ä»“åº“é“¾æ¥ æœ¬èŠ‚å°†æ›´æ–°å“ˆå·¥å¤§ã€Šæ“ä½œç³»ç»Ÿã€‹è¯¾ç¨‹ç¬¬ä¸‰ä¸ª Labâ€¦]]></description><link>https://gatsbystarterblogsource.gatsbyjs.io/012_HIT_OS_Lab3/</link><guid isPermaLink="false">https://gatsbystarterblogsource.gatsbyjs.io/012_HIT_OS_Lab3/</guid><pubDate>Wed, 11 Sep 2024 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;a href=&quot;https://github.com/Joker001014/HIT-OSlab&quot;&gt;Githubä»£ç ä»“åº“é“¾æ¥&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æœ¬èŠ‚å°†æ›´æ–°å“ˆå·¥å¤§ã€Šæ“ä½œç³»ç»Ÿã€‹è¯¾ç¨‹ç¬¬ä¸‰ä¸ª Lab å®éªŒ &lt;strong&gt;ç³»ç»Ÿè°ƒç”¨&lt;/strong&gt;ã€‚æŒ‰ç…§å®éªŒä¹¦è¦æ±‚ï¼Œä»‹ç»äº†éå¸¸è¯¦ç»†çš„å®éªŒæ“ä½œæµç¨‹ï¼Œå¹¶æä¾›äº†è¶…çº§æ— æ•Œè¯¦ç»†çš„ä»£ç æ³¨é‡Šã€‚æ–‡æœ«é™„å®Œæ•´æ ‡å‡†ç­”æ¡ˆä»£ç ï¼ŒåŒ…æ‹¬ç³»ç»Ÿè°ƒç”¨å®ç° &lt;code class=&quot;language-text&quot;&gt;who.c&lt;/code&gt; å’Œæµ‹è¯•å‡½æ•° &lt;code class=&quot;language-text&quot;&gt;iam.c&lt;/code&gt;ã€&lt;code class=&quot;language-text&quot;&gt;whoami.c&lt;/code&gt; ä»¥åŠè¶…è¯¦ç»†æ³¨é‡Šã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å®éªŒç›®çš„ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;å»ºç«‹å¯¹ç³»ç»Ÿè°ƒç”¨æ¥å£çš„æ·±å…¥è®¤è¯†ï¼›&lt;/li&gt;
&lt;li&gt;æŒæ¡ç³»ç»Ÿè°ƒç”¨çš„åŸºæœ¬è¿‡ç¨‹ï¼›&lt;/li&gt;
&lt;li&gt;èƒ½å®Œæˆç³»ç»Ÿè°ƒç”¨çš„å…¨é¢æ§åˆ¶ï¼›&lt;/li&gt;
&lt;li&gt;ä¸ºåç»­å®éªŒåšå‡†å¤‡ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;å®éªŒä»»åŠ¡ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;åœ¨ Linux 0.11 ä¸Šæ·»åŠ ä¸¤ä¸ªç³»ç»Ÿè°ƒç”¨ï¼Œå¹¶ç¼–å†™ä¸¤ä¸ªç®€å•çš„åº”ç”¨ç¨‹åºæµ‹è¯•å®ƒä»¬ã€‚
1ã€ç¬¬ä¸€ä¸ªç³»ç»Ÿè°ƒç”¨æ˜¯ iam()ï¼Œå®Œæˆçš„åŠŸèƒ½æ˜¯å°†å­—ç¬¦ä¸²å‚æ•° name çš„å†…å®¹æ‹·è´åˆ°å†…æ ¸ä¸­ä¿å­˜ä¸‹æ¥ã€‚è¦æ±‚ name çš„é•¿åº¦ä¸èƒ½è¶…è¿‡ 23 ä¸ªå­—ç¬¦ã€‚è¿”å›å€¼æ˜¯æ‹·è´çš„å­—ç¬¦æ•°ã€‚å¦‚æœ name çš„å­—ç¬¦ä¸ªæ•°è¶…è¿‡äº† 23ï¼Œåˆ™è¿”å› â€œ-1â€ï¼Œå¹¶ç½® errno ä¸ºEINVALã€‚
2ã€ç¬¬äºŒä¸ªç³»ç»Ÿè°ƒç”¨æ˜¯ whoami()ï¼Œå®ƒå°†å†…æ ¸ä¸­ç”± iam() ä¿å­˜çš„åå­—æ‹·è´åˆ° name æŒ‡å‘çš„ç”¨æˆ·åœ°å€ç©ºé—´ä¸­ï¼ŒåŒæ—¶ç¡®ä¿ä¸ä¼šå¯¹ name è¶Šç•Œè®¿å­˜ï¼ˆname çš„å¤§å°ç”± size è¯´æ˜ï¼‰ã€‚è¿”å›å€¼æ˜¯æ‹·è´çš„å­—ç¬¦æ•°ã€‚å¦‚æœ size å°äºéœ€è¦çš„ç©ºé—´ï¼Œåˆ™è¿”å›â€œ-1â€ï¼Œå¹¶ç½® errno ä¸º EINVALã€‚
3ã€è¿è¡Œæ·»åŠ è¿‡æ–°ç³»ç»Ÿè°ƒç”¨çš„ Linux 0.11ï¼Œåœ¨å…¶ç¯å¢ƒä¸‹ç¼–å†™ä¸¤ä¸ªæµ‹è¯•ç¨‹åº iam.c å’Œ whoami.cã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;å®éªŒå·¥å…·å‡†å¤‡ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;æ–‡ä»¶å&lt;/th&gt;
&lt;th&gt;ä»‹ç»&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;hit-æ“ä½œç³»ç»Ÿå®éªŒæŒ‡å¯¼ä¹¦.pdf&lt;/td&gt;
&lt;td&gt;å“ˆå·¥å¤§OSå®éªŒæŒ‡å¯¼ä¹¦&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Linuxå†…æ ¸å®Œå…¨æ³¨é‡Š(ä¿®æ­£ç‰ˆv3.0).pdf&lt;/td&gt;
&lt;td&gt;èµµåšå£«å¯¹Linux v0.11 OSè¿›è¡Œäº†è¯¦ç»†å…¨é¢çš„æ³¨é‡Šå’Œè¯´æ˜&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;file1615.pdf&lt;/td&gt;
&lt;td&gt;BIOS æ¶‰åŠçš„ä¸­æ–­æ•°æ®æ‰‹å†Œ&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;hit-oslab-linux-20110823.tar.gz&lt;/td&gt;
&lt;td&gt;hit-oslab å®éªŒç¯å¢ƒ&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;gcc-3.4-ubuntu.tar.gz&lt;/td&gt;
&lt;td&gt;Linux v0.11 æ‰€ä½¿ç”¨çš„ç¼–è¯‘å™¨&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&quot;https://joker001014.github.io/blog/019_HIT_OS_Bochs&quot;&gt;Bochs æ±‡ç¼–çº§è°ƒè¯•æŒ‡ä»¤&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;bochs åŸºæœ¬è°ƒè¯•æŒ‡ä»¤å¤§å…¨&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&quot;https://blog.csdn.net/yueyueniaolzp/article/details/82178954&quot;&gt;æœ€å…¨ASCIIç å¯¹ç…§è¡¨0-255&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;å±å¹•è¾“å‡ºå­—ç¬¦å¯¹ç…§çš„ ASCII ç &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&quot;https://blog.csdn.net/weixin_53159274/article/details/138074386?spm=1001.2014.3001.5501&quot;&gt;x86_64 å¸¸ç”¨å¯„å­˜å™¨å¤§å…¨&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;x86_64 å¸¸ç”¨å¯„å­˜å™¨å¤§å…¨&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3&gt;ä¸€ã€åº”ç”¨ç¨‹åºå¦‚ä½•è°ƒç”¨ç³»ç»Ÿè°ƒç”¨&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;1ã€åˆ›å»ºå®éªŒå·¥ç¨‹ oslab_Lab2&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è§£å‹ &lt;code class=&quot;language-text&quot;&gt;hit-oslab-linux-20110823.tar.gz&lt;/code&gt; ï¼Œå¹¶å‘½åä¸º &lt;code class=&quot;language-text&quot;&gt;os_lab_Lab2&lt;/code&gt; ï¼Œåœ¨æ­¤æºç åŸºç¡€ä¸Šæˆ‘ä»¬è¿›ä¸€æ­¥å®Œæˆå®éªŒã€‚&lt;/li&gt;
&lt;li&gt;ç¼–è¯‘åŠè¿è¡Œï¼š&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;cd&lt;/span&gt; ~/my_space/OS_HIT/oslab_Lab2/linux-0.11/    // å·¥ç¨‹æ–‡ä»¶å¤¹
&lt;span class=&quot;token function&quot;&gt;make&lt;/span&gt; all                                       // ç¼–è¯‘
&lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;/run                                         // å¯åŠ¨ Bochs&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;2ã€åˆ›å»º NR_whoami å’Œ NR_iam ä¸¤ä¸ªå®&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æ³¨æ„&lt;/strong&gt;ï¼šæ­¤æ—¶ä¸æ˜¯ä¿®æ”¹å†…æ ¸ç›®å½•é‡Œçš„ï¼Œè€Œæ˜¯ä¿®æ”¹åœ¨ v0.11 çš„å¼€å‘ç¯å¢ƒé‡Œçš„è¿™ä¸ªæ–‡ä»¶ã€‚ï¼ˆè¿™æ­¥å¾ˆå¤šåŒå­¦ä¼šçŠ¯é”™ï¼Œå¯¼è‡´åç»­åœ¨ linux-v0.11 ç¯å¢ƒä¸‹ä½¿ç”¨ &lt;code class=&quot;language-text&quot;&gt;gcc&lt;/code&gt; ç¼–è¯‘æµ‹è¯•å‡½æ•°æ—¶æŠ¥é”™æ‰¾ä¸åˆ°è¿™ä¸¤ä¸ªå®ï¼‰&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å…·ä½“åŸå› &lt;/strong&gt;ï¼šå¯ä»¥å‚ç…§ã€ŠLinuxå†…æ ¸å®Œå…¨æ³¨é‡Š(ä¿®æ­£ç‰ˆv3.0).pdfã€‹&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 467px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/618b6e6c956a64b2e1edb3d554a6ea8b/85ff8/1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 22.78481012658228%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAAsTAAALEwEAmpwYAAABGklEQVR42i1QXW+CQBDk//+lpn1oGy0EWhERhMODgztMtELF8CXJdO/iw2b3JrczO2M1bYu8KKDqGjznKESBIz9CCIHz5QwpK1RVhQvNSklTUkrCShS0pztjDJx2sozBkgSUpYAoctS1IiIizI6olSIRReSchHISKk1XGj+dUEkFlmWQ9M5JnBN5kqawIsaRcIEwzfD+HePVjfBiB3hzQzhBgtUmwsqP8OEFZl77B3z5Mbw9g709wAmp71LCI3z+RLDcMIFH5RBgb2O4uwTrTUhLe3Odtqev05HoEqV2RHb1VRSR/pOSVY2n7Gn59tcayznloCgzjV2vvxjGAY/HjGmaMM8zlmUx8ziO6Pve1DD06Lob7vcOTdPgH3CvawqTGB+eAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/618b6e6c956a64b2e1edb3d554a6ea8b/85ff8/1.png&quot;
        srcset=&quot;/blog/static/618b6e6c956a64b2e1edb3d554a6ea8b/c26ae/1.png 158w,
/blog/static/618b6e6c956a64b2e1edb3d554a6ea8b/6bdcf/1.png 315w,
/blog/static/618b6e6c956a64b2e1edb3d554a6ea8b/85ff8/1.png 467w&quot;
        sizes=&quot;(max-width: 467px) 100vw, 467px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æŒ‚è½½ linux-v0.11 çš„ç£ç›˜ï¼Œå¹¶åœ¨ include/unistd.h ä¸­æ·»åŠ å®&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;cd oulab_Lab2
sudo ./mount-hdc
cd hdc/usr/include
gedit unistd.h&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;é€šè¿‡æ–‡æœ¬ç¼–è¾‘å™¨ï¼Œåœ¨ unistd.h å¤´æ–‡ä»¶ä¸­æ‰‹åŠ¨æ·»åŠ å®&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;#define __NR_iam        72
#define __NR_whoami        73&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 322px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/792620b4e7c0135376566890b0f9841b/fc778/2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 27.848101265822784%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsTAAALEwEAmpwYAAABR0lEQVR42k2R6XKCQBCEff+3SiVVJmWMIRBQEZFzORUFOeToNJs/btXWHrPzTffs4uNTgWMs4ekvCK0N4uMauTjg0dUQhxWC7RJF6sHfvkJYa4TmO+eK8QZ5uIM4bjCPvu8xDAMWX4oGYasQ5gdSb4vU1XCJT3zQIfN0JO4vrpkrYfOaOirvdLR1hfstkfvpGajvDoiZKKyVDGa+jiJx0NyviE8KIvtbnqPTvNpU+obY0QgsCcxk8Wl6AmrGngoV2pgVGpyatNg/WhZQJfSWBwRvWKRAeRYoiwQDAVUR4ywsqXAYeozjSKBOIJPC/ZLJKi394BLZ6NmjjMCEFq+ZJ+N3gtr6RkWT7FtJYC6OGMaJPe3Qti0Wxs5ERKshe5T4eyRUmRNYV7TM+4j20uDfRcDPiBlvmwZd1yKLfQjXRFlVKIoL8jzDH2C5vRECtmvsAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;2&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/792620b4e7c0135376566890b0f9841b/fc778/2.png&quot;
        srcset=&quot;/blog/static/792620b4e7c0135376566890b0f9841b/c26ae/2.png 158w,
/blog/static/792620b4e7c0135376566890b0f9841b/6bdcf/2.png 315w,
/blog/static/792620b4e7c0135376566890b0f9841b/fc778/2.png 322w&quot;
        sizes=&quot;(max-width: 322px) 100vw, 322px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h3&gt;äºŒã€ä»â€œint 0x80â€è¿›å…¥å†…æ ¸å‡½æ•°&lt;/h3&gt;
&lt;p&gt;ç”¨æˆ·ç¨‹åºè°ƒç”¨è¿›å…¥å†…æ ¸çš„æ­¥éª¤&lt;/p&gt;
&lt;blockquote&gt;
&lt;ol&gt;
&lt;li&gt;init/main.c å†…æ ¸åˆå§‹åŒ–æ—¶ï¼Œè°ƒç”¨é‡  sched_init() åˆå§‹åŒ–å‡½æ•°&lt;/li&gt;
&lt;li&gt;kernel/sched.c ä¸­å®šä¹‰sched_initï¼š &lt;code class=&quot;language-text&quot;&gt;void sched_init(void) { // â€¦â€¦ set_system_gate(0x80,&amp;amp;system_call); }&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;include/asm/system.h å®šä¹‰å® set_system_gate ï¼š&lt;code class=&quot;language-text&quot;&gt;#define set_system_gate(n,addr) _set_gate(&amp;amp;idt[n],15,3,addr)&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;include/asm/system.h å®šä¹‰å® _ set_gate ï¼šå¡«å†™IDTï¼ˆä¸­æ–­æè¿°ç¬¦è¡¨ï¼‰ï¼Œå°† system_call å‡½æ•°åœ°å€å†™åˆ° 0x80 å¯¹åº”çš„ä¸­æ–­æè¿°ç¬¦ä¸­ï¼Œä¹Ÿå°±æ˜¯åœ¨ä¸­æ–­ 0x80 å‘ç”Ÿåï¼Œè‡ªåŠ¨è°ƒç”¨å‡½æ•° system_callã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;1ã€ä¿®æ”¹ kernel/system_call.s  æ–‡ä»¶ä¸­çš„ç³»ç»Ÿè°ƒç”¨æ€»æ•°&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;// ç”±åŸæ¥çš„ 72 ä¿®æ”¹ä¸º 74
nr_system_calls = 74&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;2ã€åœ¨ include/linux/sys.h æ–‡ä»¶ä¸­å¢åŠ  whoami() å’Œ iam() ä¸¤ä¸ªå‡½æ•°å£°æ˜&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;extern int sys_whoami();
extern int sys_iam();
fn_ptr sys_call_table[] = { sys_setup,sys_exit, sys_fork, sys_read,..., sys_iam, sys_whoami }    // è¡¨ä¸­æ·»åŠ çš„å‡½æ•°é¡ºåºå¿…é¡»å’Œ _NR_xxxxxx çš„å€¼å¯¹åº”&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;ä¸‰ã€å®ç° sys_iam() å’Œ sys_whoami()&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;æˆ‘éœ€è¦ç¼–å†™ç³»ç»Ÿè°ƒç”¨å‡½æ•°æ¥å®ç°è¿™ä¸¤ä¸ªåŠŸèƒ½ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œæ¯ä¸ªç³»ç»Ÿè°ƒç”¨éƒ½æœ‰ä¸€ä¸ª sys_xxxxxx() ä¸ä¹‹å¯¹åº”ï¼Œå®ƒä»¬éƒ½æ˜¯æˆ‘ä»¬å­¦ä¹ å’Œæ¨¡ä»¿çš„å¥½å¯¹è±¡ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;æ­¤å¤„çš„è¦ç‚¹æ˜¯å¦‚ä½•å®ç°ï¼š&lt;strong&gt;åœ¨ç”¨æˆ·æ€å’Œæ ¸å¿ƒæ€ä¹‹é—´ä¼ é€’æ•°æ®&lt;/strong&gt;ã€‚å…¶éš¾ç‚¹æ˜¯ï¼šæŒ‡é’ˆå‚æ•°ä¼ é€’çš„æ˜¯åº”ç”¨ç¨‹åºæ‰€åœ¨åœ°å€ç©ºé—´çš„é€»è¾‘åœ°å€ï¼Œåœ¨å†…æ ¸ä¸­å¦‚æœç›´æ¥è®¿é—®è¿™ä¸ªåœ°å€ï¼Œè®¿é—®åˆ°çš„æ˜¯&lt;strong&gt;å†…æ ¸ç©ºé—´ä¸­çš„æ•°æ®&lt;/strong&gt;ï¼Œä¸ä¼šæ˜¯ç”¨æˆ·ç©ºé—´çš„ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä»¥ &lt;code class=&quot;language-text&quot;&gt;open&lt;/code&gt; ä¸ºä¾‹ï¼š&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;lib/open.cï¼š
	- ç³»ç»Ÿè°ƒç”¨æ˜¯ç”¨ eaxã€ebxã€ecxã€edx å¯„å­˜å™¨æ¥ä¼ é€’å‚æ•°çš„
	- è·å–ç”¨æˆ·åœ°å€ç©ºé—´ï¼ˆç”¨æˆ·æ•°æ®æ®µï¼‰ä¸­çš„æ•°æ®ä¾é çš„å°±æ˜¯æ®µå¯„å­˜å™¨ fsï¼Œä¸‹é¢è¯¥è½¬åˆ° sys_open æ‰§è¡Œäº†
fs/open.cï¼š
	- å°†å‚æ•°ä¼ ç»™äº† open_namei()
	- open_namei( ) ç”¨ get_fs_byte() è·å¾—ä¸€ä¸ªå­—èŠ‚çš„ç”¨æˆ·ç©ºé—´ä¸­çš„æ•°æ®&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;æ‰€ä»¥è¯´ï¼Œåœ¨whoami() ä¸­å®ç°ç”¨æˆ·æ€å’Œå’Œå¿ƒæ€ä¹‹é—´çš„æ•°æ®ä¼ é€’ï¼Œå³é€šè¿‡ï¼š&lt;strong&gt;put_fs_xxx() å’Œ get_fs_xxx() éƒ½æ˜¯ç”¨æˆ·ç©ºé—´å’Œå†…æ ¸ç©ºé—´ä¹‹é—´çš„æ¡¥æ¢&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åœ¨ &lt;code class=&quot;language-text&quot;&gt;oslab_Lab2/linux-0.11/kernel/&lt;/code&gt; æ–‡ä»¶å¤¹ä¸‹åˆ›å»ºç³»ç»Ÿè°ƒç”¨å®ç° &lt;code class=&quot;language-text&quot;&gt;who.c&lt;/code&gt;ã€‚å…·ä½“ä»£ç å¦‚ä¸‹ï¼šï¼ˆå·²æœ‰è¯¦ç»†æ³¨é‡Šï¼Œæ­¤å¤„å°†ä¸å†èµ˜è¿°ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// sys_iam å’Œ sys_whoami ç³»ç»Ÿè°ƒç”¨å‡½æ•°&lt;/span&gt;

&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;lt;string.h&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;lt;errno.h&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;lt;asm/segment.h&gt;&lt;/span&gt;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// å†…æ ¸ä¸­å­˜æ”¾nameï¼Œ23å­—ç¬¦ + &apos;\0&apos; = 24&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;char&lt;/span&gt; msg&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;24&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// å°†å­—ç¬¦ä¸²å‚æ•° name æ‹·è´åˆ°å†…æ ¸ä¸­ä¿å­˜ä¸‹æ¥&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// returnï¼šæ‹·è´çš„å­—ç¬¦æ•°ã€‚å¦‚æœnameçš„å­—ç¬¦ä¸ªæ•°è¶…è¿‡äº†23,åˆ™è¿”å›â€œÂ­-1â€,å¹¶ç½®errnoä¸ºEINVALã€‚&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;sys_iam&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;char&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; name&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; 
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; i&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;char&lt;/span&gt; tmp&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;   &lt;span class=&quot;token comment&quot;&gt;// ä¸´æ—¶å­˜å‚¨ï¼Œæ“ä½œå¤±è´¥ä¸å½±å“ msg&lt;/span&gt;
    
    &lt;span class=&quot;token comment&quot;&gt;// ä»ç”¨æˆ·æ€å†…å­˜è·å–æ•°æ®ï¼Œå­˜å…¥ tmp&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;i &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; i &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; i&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        tmp&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;get_fs_byte&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;name&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;tmp&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token char&quot;&gt;&apos;\0&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// printk(tmp);&lt;/span&gt;

    i &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// è®¡ç®— name çš„é•¿åº¦&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;tmp&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;token char&quot;&gt;&apos;\0&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; i &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        i&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; len &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; i&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// é•¿åº¦å¤§äº 23 è¿”å›æŠ¥é”™&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;len &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;23&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;EINVAL&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;strcpy&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;msg&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; tmp&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; i&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// å°†ç”± iam() ä¿å­˜çš„åå­—æ‹·è´åˆ° name æŒ‡å‘çš„ç”¨æˆ·åœ°å€ç©ºé—´ï¼Œsize æŒ‡å®š name çš„å¤§å°&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// returnï¼šå¦‚æœsizeå°äºéœ€è¦çš„ç©ºé—´,åˆ™è¿”å›â€œÂ­-1â€,å¹¶ç½®errnoä¸º EINVAL&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;sys_whoami&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;char&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; name&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;unsigned&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; size&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;     
    &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; len &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// è®¡ç®—é•¿åº¦&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; msg&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;len&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;token char&quot;&gt;&apos;\0&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; len&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// é•¿åº¦å¤§äºåˆ™è¿”å›&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;len &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; size&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;EINVAL&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// ä»å†…æ ¸æ€è·å–æ•°æ®ï¼Œå­˜å…¥ name&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; i &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; i &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; size&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; i&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token function&quot;&gt;put_fs_byte&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;msg&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; name&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;msg&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token char&quot;&gt;&apos;\0&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; 
            &lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; i&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œåœ¨ç¼–å†™ä»£ç è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ &lt;code class=&quot;language-text&quot;&gt;printk()&lt;/code&gt; å‡½æ•°åœ¨å±å¹•ä¸Šè¾“å‡ºæ•°æ®æ¥è¿›è¡Œè°ƒè¯•ï¼Œé€‚å½“åœ°å‘å±å¹•è¾“å‡ºä¸€äº›ç¨‹åºè¿è¡ŒçŠ¶æ€çš„ä¿¡æ¯ï¼Œä¹Ÿæ˜¯ä¸€ç§å¾ˆé«˜æ•ˆã€ä¾¿æ·çš„è°ƒè¯•æ–¹æ³•ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;å››ã€ä¿®æ”¹ç¼–è¯‘è§„åˆ™ Makefile&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;æˆ‘ä»¬éœ€è¦ä¸ºæ–°å»ºçš„ &lt;code class=&quot;language-text&quot;&gt;who.c&lt;/code&gt; æ–‡ä»¶æ·»åŠ ç¼–è¯‘è§„åˆ™æ¥åˆ›å»ºç¼–è¯‘å¯¹è±¡ä»¥åŠæ·»åŠ å“åº”çš„ä¾èµ–ï¼Œåç»­å³å¯ä½¿ç”¨ &lt;code class=&quot;language-text&quot;&gt;make all&lt;/code&gt; ä¸€é”®ç¼–è¯‘ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;ä¿®æ”¹ &lt;code class=&quot;language-text&quot;&gt;oslab_Lab2/linux-0.11/kernel/Makefile&lt;/code&gt; æ–‡ä»¶ï¼Œä¿®æ”¹å¦‚ä¸‹ï¼š&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;OBJS  = sched.o system_call.o traps.o asm.o fork.o \
    panic.o printk.o vsprintf.o sys.o exit.o \
    signal.o mktime.o who.o

### Dependencies:
who.s who.o:  who.c ../include/linux/kernel.h ../include/unistd.h&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;äº”ã€ç¼–å†™æµ‹è¯•å‡½æ•°&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;ç¼–å†™ä¸¤ä¸ªæµ‹è¯•å‡½æ•°ï¼Œæ¥æµ‹è¯•æˆ‘ä»¬ç¼–å†™çš„ç³»ç»Ÿè°ƒç”¨å‡½æ•° sys_iam() å’Œ sys_whoamiã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;iam.cï¼šå°†å­—ç¬¦ä¸²å‚æ•° name çš„å†…å®¹æ‹·è´åˆ°å†…æ ¸ä¸­ä¿å­˜ä¸‹æ¥&lt;/li&gt;
&lt;li&gt;whoami.cï¼šå°†å†…æ ¸ä¸­ç”± iam() ä¿å­˜çš„åå­—æ‹·è´åˆ° name æŒ‡å‘çš„ç”¨æˆ·åœ°å€ç©ºé—´ä¸­å¹¶æ˜¾ç¤ºã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å€¼å¾—è¯´æ˜çš„æ˜¯&lt;/strong&gt;ï¼Œæˆ‘ä»¬ç¼–å†™åçš„ä¸¤ä¸ªæµ‹è¯•å‡½æ•°éœ€è¦åœ¨ linux-v0.11 ç¯å¢ƒä¸‹è¿›è¡Œç¼–è¯‘ã€‚ç”±äº linux-v0.11 ä½œä¸ºä¸€ä¸ªå¾ˆå°çš„æ“ä½œç³»ç»Ÿï¼Œåªæœ‰ç¼–è¯‘å·¥å…· vi ï¼Œä½¿ç”¨èµ·æ¥éå¸¸ä¸æ–¹ä¾¿ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥åœ¨ ubuntu ç¯å¢ƒä¸‹è¿›è¡Œç¼–å†™ï¼Œå†é€šè¿‡æŒ‚è½½ &lt;code class=&quot;language-text&quot;&gt;hdc&lt;/code&gt; ç£ç›˜æ¥å°†è¿™ä¸¤ä¸ªæ–‡ä»¶æ‹·è´åˆ° linux-v0.11 ç³»ç»Ÿä¸‹ï¼Œç„¶åç¼–è¯‘ã€è¿è¡Œã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;1ã€åœ¨ &lt;code class=&quot;language-text&quot;&gt;oslab_Lab2/linux-0.11/kernel&lt;/code&gt; æ–‡ä»¶å¤¹ä¸‹åˆ›å»ºä¸¤ä¸ªæµ‹è¯•å‡½æ•°&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;iam.c&lt;/strong&gt;ï¼š&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;lt;errno.h&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;define&lt;/span&gt; &lt;span class=&quot;token macro-name&quot;&gt;__LIBRARY__&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;lt;unistd.h&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;lt;stdio.h&gt;&lt;/span&gt;&lt;/span&gt;

&lt;span class=&quot;token function&quot;&gt;_syscall1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; iam&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;char&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; name&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; argc&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; argv&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;iam&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;argv&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;whoami.c&lt;/strong&gt;ï¼š&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;define&lt;/span&gt; &lt;span class=&quot;token macro-name&quot;&gt;__LIBRARY__&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;lt;unistd.h&gt;&lt;/span&gt;&lt;/span&gt;

&lt;span class=&quot;token function&quot;&gt;_syscall2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; whoami&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;char&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; name&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;unsigned&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; size&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; argc&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;char&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; agrv&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;char&lt;/span&gt; s&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;whoami&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;printf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;%s\n&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; s&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;2ã€å°†ä¸¤ä¸ªæµ‹è¯•å‡½æ•°ç§»åŠ¨åˆ° linux-v0.11 ç³»ç»Ÿä¸‹&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;é€šè¿‡æŒ‚è½½ hdc ç£ç›˜ï¼Œå°†ç¼–å†™çš„ä¸¤ä¸ªæµ‹è¯•å‡½æ•°ç§»åŠ¨åˆ° linux-v0.11 ç³»ç»Ÿä¸‹ï¼Œä»¥ä¾¿ä¸‹ä¸€æ­¥è¿›è¡Œç¼–è¯‘ã€‚ç”±äºæˆ‘ä»¬æ¯åœ¨ ubuntu ç³»ç»Ÿä¸‹ä¿®æ”¹ä¸€æ¬¡æµ‹è¯•å‡½æ•°éƒ½è¦å°†å…¶ç§»åŠ¨åˆ° linux-v0.11 ç³»ç»Ÿä¸‹è¿›è¡Œç¼–è¯‘ï¼Œä¸ºäº†æ–¹ä¾¿ï¼Œæˆ‘ä»¬å¯ä»¥ç¼–å†™ä¸€ä¸ª &lt;strong&gt;bash&lt;/strong&gt; è„šæœ¬ï¼Œå­˜æ”¾å¦‚ä¸‹å‘½ä»¤ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;cd&lt;/span&gt; ~/my_space/OS_HIT/oslab_Lab2
&lt;span class=&quot;token function&quot;&gt;touch&lt;/span&gt; cp.sh                                     // åˆ›å»ºè„šæœ¬&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;è„šæœ¬å†…å®¹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;&lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; ./mount-hdc                                // æŒ‚è½½ç£ç›˜
&lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;cp&lt;/span&gt; ./linux-0.11/kernel/iam.c ./hdc/iam.c          // å°† iam.c ç§»åŠ¨åˆ° hdc ç£ç›˜
&lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;cp&lt;/span&gt; ./linux-0.11/kernel/whoami.c ./hdc/whoami.c    // å°† whoami.c ç§»åŠ¨åˆ° hdc ç£ç›˜
&lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;umount&lt;/span&gt; hdc                                 // å¸è½½
./run                                           // å¯åŠ¨ linux-v0.11&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;3ã€ç¼–è¯‘ä¸è¿è¡Œ&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;åœ¨ç¼–è¯‘ä¹‹å‰ï¼Œ&lt;strong&gt;å°¤å…¶æ³¨æ„&lt;/strong&gt;ï¼Œä¸Šè¿°åˆ›å»ºçš„ iam.c å’Œ whoami.c ä¸¤ä¸ªæ–‡ä»¶ä¸­ä¸èƒ½å«æœ‰ä»»ä½• &lt;code class=&quot;language-text&quot;&gt;//&lt;/code&gt; ä¹‹ç±»çš„æ³¨é‡Šï¼Œå¦åˆ™åœ¨ä½¿ç”¨ linux-v0.11 ç³»ç»Ÿè¿›è¡Œç¼–è¯‘æ—¶ä¼šæŠ¥é”™ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;åœ¨ linux-v0.11 ç³»ç»Ÿä¸‹ï¼Œæˆ‘ä»¬è¿è¡Œå¦‚ä¸‹å‘½ä»¤å›åˆ°æ ¹ç›®å½•ï¼Œå¯ä»¥çœ‹åˆ°ç§»åŠ¨è¿‡æ¥çš„ &lt;code class=&quot;language-text&quot;&gt;iam.c&lt;/code&gt; å’Œ &lt;code class=&quot;language-text&quot;&gt;whoami.c&lt;/code&gt; æ–‡ä»¶ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;cd&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;/&lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;ls&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 616px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/676dd1f01b0e56e8f07b4eaf2b4fe52f/40040/3.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 15.18987341772152%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAIAAAAcOLh5AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAi0lEQVR42iWMOw7EIAwFISQLAoogSEHLrWiAkB8i4v7tPu26sMZjP5MQgvd+2zbnHOf88ytK6TzPQohpmv4AuSwLGCswLhljBEnMWGitCSEAay1ASol3AKWUMQanMMjArOuKFF6QMcZxHPu+p5RijDnn8zyv66q1wpdS0O/7hnmep7WG3nt/33eM8QXmaRvoLfDlOQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;3&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/676dd1f01b0e56e8f07b4eaf2b4fe52f/40040/3.png&quot;
        srcset=&quot;/blog/static/676dd1f01b0e56e8f07b4eaf2b4fe52f/c26ae/3.png 158w,
/blog/static/676dd1f01b0e56e8f07b4eaf2b4fe52f/6bdcf/3.png 315w,
/blog/static/676dd1f01b0e56e8f07b4eaf2b4fe52f/40040/3.png 616w&quot;
        sizes=&quot;(max-width: 616px) 100vw, 616px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç¼–è¯‘ï¼Œè¿è¡Œå¦‚ä¸‹æŒ‡ä»¤ï¼Œå¯ä»¥ç”Ÿæˆ &lt;code class=&quot;language-text&quot;&gt;iam&lt;/code&gt; å’Œ &lt;code class=&quot;language-text&quot;&gt;whoami&lt;/code&gt; ä¸¤ä¸ªå¯æ‰§è¡Œæ–‡ä»¶ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;gcc -o iam iam.c -Wall           // ç¼–è¯‘ iam.c æ–‡ä»¶
gcc -o whoami whoami.c -Wall     // ç¼–è¯‘ whoami.c æ–‡ä»¶
// -Wall æ˜¯ GCC çš„ä¸€ä¸ªé€‰é¡¹ï¼Œç”¨æ¥å¼€å¯æ‰€æœ‰è­¦å‘Š&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;è¿è¡Œï¼Œåˆ†åˆ«è¿è¡Œä¸¤ä¸ªæ–‡ä»¶ï¼Œå¾—åˆ°å¦‚ä¸‹æ‰€ç¤ºç»“æœ&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;./iam Joker      // å°† Joker å­˜å…¥å†…æ ¸
./whoami         // ä»å†…æ ¸ä¸­å–å‡º ./iam å­˜å…¥çš„å­—ç¬¦å¹¶æ˜¾ç¤º&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 221px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/110c8223cc191096eea146af356c7d84/cccdc/4.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 37.34177215189873%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAIAAACHqfpvAAAACXBIWXMAAAsTAAALEwEAmpwYAAABAElEQVR42pWPQatEYBSGPxcTJTKbKSnFRZkp0vwJ2UgIJUsLK39WFooV3QhTdrO5J7Ob7r11n8XpPV/nPe/5kCRJ5/P5fr/jOE7T9OVy0TTter0yDKPrum3blmUJgoAQwjAMvSGKIs/zMARmiqLAfLvdFEWBpaqqsiwLGwmCQD8CZo7jIOp0OoEZWgiUZfnzgCRJ9AemaUIsnAoG7ODj4CUgE/zELyD4MBxmGAaMov9SFEWe51VVZVlWlmUURUmSxHH8qmmaggiCwPf9MAyjA8dxXNf1PA/Vdd00zfP53Lat7/t1XaF+HSzLMgxD27bwMs9z13UgxnF8PB7TNO37/g2pplnUfNTX5wAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/110c8223cc191096eea146af356c7d84/cccdc/4.png&quot;
        srcset=&quot;/blog/static/110c8223cc191096eea146af356c7d84/c26ae/4.png 158w,
/blog/static/110c8223cc191096eea146af356c7d84/cccdc/4.png 221w&quot;
        sizes=&quot;(max-width: 221px) 100vw, 221px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;è‡³æ­¤ï¼ŒLab3 å®éªŒä»‹ç»å®Œæ¯•ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;ä¹Ÿè®¸æœ‰äººè§‰å¾—æ¯”è¾ƒå®éªŒæ­¥éª¤æ¯”è¾ƒå¤šæ¯”è¾ƒå¤æ‚ï¼Œç‰¹æ­¤æ€»ç»“ä¸€ä¸‹æ¯ä¸ªæ­¥éª¤ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;åœ¨ &lt;code class=&quot;language-text&quot;&gt;hdc/usr/include/unistd.h&lt;/code&gt; ä¸­æ·»åŠ ç³»ç»Ÿè°ƒç”¨å· &lt;code class=&quot;language-text&quot;&gt;__NR_iam&lt;/code&gt; å’Œ &lt;code class=&quot;language-text&quot;&gt;__NR_whoami&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;åœ¨ &lt;code class=&quot;language-text&quot;&gt;kernel/system_call.s&lt;/code&gt; ä¿®æ”¹ç³»ç»Ÿè°ƒç”¨æ€»æ•°  nr_system_calls = 74&lt;/li&gt;
&lt;li&gt;åœ¨ &lt;code class=&quot;language-text&quot;&gt;include/linux/sys.h&lt;/code&gt; æ·»åŠ å‡½æ•°å£°æ˜ &lt;code class=&quot;language-text&quot;&gt;extern int sys_whoami();&lt;/code&gt; å’Œ &lt;code class=&quot;language-text&quot;&gt;extern int sys_iam();&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;åˆ›å»ºä¸¤ä¸ªå‡½æ•°çš„å®ç°ï¼š&lt;code class=&quot;language-text&quot;&gt;/kernel/who.c&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;åœ¨ &lt;code class=&quot;language-text&quot;&gt;kernel/Makefile&lt;/code&gt; ä¸­æ·»åŠ ç¼–è¯‘è§„åˆ™&lt;/li&gt;
&lt;li&gt;åœ¨ &lt;code class=&quot;language-text&quot;&gt;/kernel&lt;/code&gt; ä¸­åˆ›å»ºæµ‹è¯•å‡½æ•° iam.c å’Œ whoami.c&lt;/li&gt;
&lt;li&gt;ç¼–å†™ bash è„šæœ¬ï¼Œå°†æµ‹è¯•å‡½æ•°ç§»åˆ° linux-v0.11 ä¸‹&lt;/li&gt;
&lt;li&gt;åœ¨ Linux-v0.11 ä¸‹ç¼–è¯‘ iam.c å’Œ whoami.c&lt;/li&gt;
&lt;/ol&gt;</content:encoded></item><item><title><![CDATA[ã€å“ˆå·¥å¤§_æ“ä½œç³»ç»Ÿå®éªŒã€‘Lab2 æ“ä½œç³»ç»Ÿçš„å¼•å¯¼]]></title><description><![CDATA[Githubä»£ç ä»“åº“é“¾æ¥ æœ¬èŠ‚å°†æ›´æ–°å“ˆå·¥å¤§ã€Šæ“ä½œç³»ç»Ÿã€‹è¯¾ç¨‹ç¬¬äºŒä¸ª Lab å®éªŒ æ“ä½œç³»ç»Ÿçš„å¼•å¯¼ã€‚æŒ‰ç…§å®éªŒä¹¦è¦æ±‚ï¼Œä»‹ç»äº†éå¸¸è¯¦ç»†çš„å®éªŒæ“ä½œæµç¨‹ï¼Œå¹¶æä¾›äº†è¶…çº§æ— æ•Œè¯¦ç»†çš„ä»£ç æ³¨é‡Šã€‚æ–‡æœ«é™„å®Œæ•´  å’Œ  æ ‡å‡†ç­”æ¡ˆä»£ç ä»¥åŠè¶…è¯¦ç»†æ³¨é‡Šã€‚ å®éªŒç›®çš„ï¼š ç†Ÿæ‚‰ hit-oslabâ€¦]]></description><link>https://gatsbystarterblogsource.gatsbyjs.io/011_HIT_OS_Lab2/</link><guid isPermaLink="false">https://gatsbystarterblogsource.gatsbyjs.io/011_HIT_OS_Lab2/</guid><pubDate>Sun, 01 Sep 2024 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;a href=&quot;https://github.com/Joker001014/HIT-OSlab&quot;&gt;Githubä»£ç ä»“åº“é“¾æ¥&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æœ¬èŠ‚å°†æ›´æ–°å“ˆå·¥å¤§ã€Šæ“ä½œç³»ç»Ÿã€‹è¯¾ç¨‹ç¬¬äºŒä¸ª Lab å®éªŒ &lt;strong&gt;æ“ä½œç³»ç»Ÿçš„å¼•å¯¼&lt;/strong&gt;ã€‚æŒ‰ç…§å®éªŒä¹¦è¦æ±‚ï¼Œä»‹ç»äº†éå¸¸è¯¦ç»†çš„å®éªŒæ“ä½œæµç¨‹ï¼Œå¹¶æä¾›äº†è¶…çº§æ— æ•Œè¯¦ç»†çš„ä»£ç æ³¨é‡Šã€‚æ–‡æœ«é™„å®Œæ•´ &lt;code class=&quot;language-text&quot;&gt;bootsect.s&lt;/code&gt; å’Œ &lt;code class=&quot;language-text&quot;&gt;setup.s&lt;/code&gt; æ ‡å‡†ç­”æ¡ˆä»£ç ä»¥åŠè¶…è¯¦ç»†æ³¨é‡Šã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å®éªŒç›®çš„ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;ç†Ÿæ‚‰ hit-oslab å®éªŒç¯å¢ƒï¼›&lt;/li&gt;
&lt;li&gt;å»ºç«‹å¯¹æ“ä½œç³»ç»Ÿå¼•å¯¼è¿‡ç¨‹çš„æ·±å…¥è®¤è¯†ï¼›&lt;/li&gt;
&lt;li&gt;æŒæ¡æ“ä½œç³»ç»Ÿçš„åŸºæœ¬å¼€å‘è¿‡ç¨‹ï¼›&lt;/li&gt;
&lt;li&gt;èƒ½å¯¹æ“ä½œç³»ç»Ÿä»£ç è¿›è¡Œç®€å•çš„æ§åˆ¶ï¼Œæ­å¼€æ“ä½œç³»ç»Ÿçš„ç¥ç§˜é¢çº±ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;å®éªŒä»»åŠ¡ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;1ã€bootsect.s èƒ½åœ¨å±å¹•ä¸Šæ‰“å°ä¸€æ®µæç¤ºä¿¡æ¯â€œXXX is booting...â€ï¼Œå…¶ä¸­ XXX æ˜¯ä½ ç»™è‡ªå·±çš„æ“ä½œç³»ç»Ÿèµ·çš„åå­—ï¼Œä¾‹å¦‚ LZJosã€Sunix ç­‰
2ã€bootsect.s èƒ½å®Œæˆ setup.s çš„è½½å…¥ï¼Œå¹¶è·³è½¬åˆ° setup.s å¼€å§‹åœ°å€æ‰§è¡Œã€‚è€Œ setup.s å‘å±å¹•è¾“å‡ºä¸€è¡Œ&quot;Now we are in SETUP&quot;ã€‚
3ã€setup.s èƒ½è·å–è‡³å°‘ä¸€ä¸ªåŸºæœ¬çš„ç¡¬ä»¶å‚æ•°ï¼ˆå¦‚å†…å­˜å‚æ•°ã€æ˜¾å¡å‚æ•°ã€ç¡¬ç›˜å‚æ•°ç­‰ï¼‰ï¼Œå°†å…¶å­˜æ”¾åœ¨å†…å­˜çš„ç‰¹å®šåœ°å€ï¼Œå¹¶è¾“å‡ºåˆ°å±å¹•ä¸Šã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;å®éªŒå·¥å…·å‡†å¤‡ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;æ–‡ä»¶å&lt;/th&gt;
&lt;th&gt;ä»‹ç»&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;hit-æ“ä½œç³»ç»Ÿå®éªŒæŒ‡å¯¼ä¹¦.pdf&lt;/td&gt;
&lt;td&gt;å“ˆå·¥å¤§OSå®éªŒæŒ‡å¯¼ä¹¦&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Linuxå†…æ ¸å®Œå…¨æ³¨é‡Š(ä¿®æ­£ç‰ˆv3.0).pdf&lt;/td&gt;
&lt;td&gt;èµµåšå£«å¯¹Linux v0.11 OSè¿›è¡Œäº†è¯¦ç»†å…¨é¢çš„æ³¨é‡Šå’Œè¯´æ˜&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;file1615.pdf&lt;/td&gt;
&lt;td&gt;BIOS æ¶‰åŠçš„ä¸­æ–­æ•°æ®æ‰‹å†Œ&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;hit-oslab-linux-20110823.tar.gz&lt;/td&gt;
&lt;td&gt;hit-oslab å®éªŒç¯å¢ƒ&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;gcc-3.4-ubuntu.tar.gz&lt;/td&gt;
&lt;td&gt;Linux v0.11 æ‰€ä½¿ç”¨çš„ç¼–è¯‘å™¨&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&quot;https://joker001014.github.io/blog/019_HIT_OS_Bochs&quot;&gt;Bochs æ±‡ç¼–çº§è°ƒè¯•æŒ‡ä»¤&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;bochs åŸºæœ¬è°ƒè¯•æŒ‡ä»¤å¤§å…¨&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&quot;https://blog.csdn.net/yueyueniaolzp/article/details/82178954&quot;&gt;æœ€å…¨ASCIIç å¯¹ç…§è¡¨0-255&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;å±å¹•è¾“å‡ºå­—ç¬¦å¯¹ç…§çš„ ASCII ç &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&quot;https://blog.csdn.net/weixin_53159274/article/details/138074386?spm=1001.2014.3001.5501&quot;&gt;x86_64 å¸¸ç”¨å¯„å­˜å™¨å¤§å…¨&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;x86_64 å¸¸ç”¨å¯„å­˜å™¨å¤§å…¨&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3&gt;ä¸€ã€bootsect.s çš„å±å¹•è¾“å‡ºåŠŸèƒ½&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;éœ€è¦å®ç°ï¼šbootsect.s èƒ½åœ¨å±å¹•ä¸Šæ‰“å°ä¸€æ®µæç¤ºä¿¡æ¯â€œXXX is booting...â€ï¼Œå…¶ä¸­ XXX æ˜¯ä½ ç»™è‡ªå·±çš„æ“ä½œç³»ç»Ÿèµ·çš„åå­—ï¼Œä¾‹å¦‚ LZJosã€Sunix ç­‰&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;å‚è€ƒèµµåšå£«ã€ŠLinux å†…æ ¸ 0.11 å®Œå…¨æ³¨é‡Šï¼ˆä¿®æ­£ç‰ˆ V3.0ï¼‰ã€‹ç¬¬å…­ç« ï¼Œå…¶ä¸­éå¸¸è¯¦ç»†çš„è§£é‡Šäº† Linux_v0.11 çš„å¯åŠ¨å¼•å¯¼è¿‡ç¨‹ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å°±æ¯”å¦‚ä¸‹é¢è¿™å¼ å›¾ï¼Œå½¢è±¡ç”ŸåŠ¨åœ°æ¦‚æ‹¬äº†OSå¼•åŠ¨è¿‡ç¨‹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;é¦–å…ˆï¼Œ80x86 æ¶æ„CPUè¿›å…¥å®æ¨¡å¼ï¼ˆ16ä½ï¼‰ï¼Œä» &lt;code class=&quot;language-text&quot;&gt;0xfff0&lt;/code&gt; å¼€å§‹è‡ªåŠ¨æ‰§è¡Œä»£ç ï¼Œåœ¨åœ°å€0å¤„åˆå§‹åŒ–ä¸­æ–­å‘é‡ã€‚&lt;/li&gt;
&lt;li&gt;ä»ç³»ç»Ÿè½¯ç›˜ä¸Šå°†ç¬¬ä¸€æ‰‡åŒº &lt;code class=&quot;language-text&quot;&gt;bootsect.s&lt;/code&gt; ç¨‹åºè¯»å…¥ç‰©ç†åœ°å€ &lt;code class=&quot;language-text&quot;&gt;0x07c00&lt;/code&gt; å¤„ï¼ˆå…±512 bytesï¼‰ï¼Œå¹¶èµ‹ç»™ &lt;code class=&quot;language-text&quot;&gt;bootsect&lt;/code&gt; æ§åˆ¶æƒã€‚&lt;/li&gt;
&lt;li&gt;æ¥ä¸‹æ¥ &lt;code class=&quot;language-text&quot;&gt;bootsect.s&lt;/code&gt; å°†è‡ªèº«ç§»åŠ¨åˆ° &lt;code class=&quot;language-text&quot;&gt;0x90000&lt;/code&gt; å¤„ï¼Œä¸ºäº†è…¾å‡ºå†…å­˜ç©ºé—´ï¼Œä»¥ä¾¿ç»™æ“ä½œç³»ç»Ÿå†…æ ¸ä½¿ç”¨ã€‚&lt;/li&gt;
&lt;li&gt;å°† setup.s åŠ è½½åˆ°å†…å­˜ &lt;code class=&quot;language-text&quot;&gt;0x90200&lt;/code&gt; å¤„ï¼Œå³ &lt;code class=&quot;language-text&quot;&gt;bootsect.s&lt;/code&gt; 512 bytes ä¹‹åï¼Œå¹¶èµ‹ç»™ &lt;code class=&quot;language-text&quot;&gt;setup.s&lt;/code&gt; æ§åˆ¶æƒã€‚&lt;/li&gt;
&lt;li&gt;å°† &lt;code class=&quot;language-text&quot;&gt;system&lt;/code&gt; æ¨¡å—åŠ è½½åˆ° &lt;code class=&quot;language-text&quot;&gt;0x10000&lt;/code&gt; å¤„ã€‚ï¼ˆä¸èƒ½ç§»åŠ¨åˆ°0x00000å¤„åŸå› ï¼šå› ä¸ºåœ¨æ‰§è¡Œæ˜¯ setup.s æ¨¡å—æ—¶ï¼Œéœ€è¦åˆ©ç”¨ ROM BIOS çš„ä¸­æ–­è°ƒç”¨æ¥è·å–æœºå™¨çš„å‚æ•°ï¼Œä¸èƒ½æŠŠä¸­æ–­å‘é‡è¡¨ã€BIOSæ•°æ®åŒºç»™è¦†ç›–æ‰ï¼‰&lt;/li&gt;
&lt;li&gt;å°† &lt;code class=&quot;language-text&quot;&gt;system&lt;/code&gt; æ¨¡å—ç§»åŠ¨åˆ° &lt;code class=&quot;language-text&quot;&gt;0x00000&lt;/code&gt; å¤„ï¼Œè¿›å…¥ä¿æŠ¤æ¨¡å¼ï¼ˆ32ä½ï¼‰ï¼Œå¹¶èµ‹ç»™ &lt;code class=&quot;language-text&quot;&gt;system&lt;/code&gt; æ§åˆ¶æƒã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 588px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/578d2c9fa3c06d95956f4f0c339716c5/9bbaf/1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 60.12658227848101%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAACy0lEQVR42j2TWW/kVBCF/ef4B2geeeYf8AhIPCNEgjRIDAIhITKLRGbCTBZgRt3Z1yadzvSS7sTt9OK2HbfX6637o+xBXOnKde+Rq06dU1crioLlckmWJeR5VsVLoFjkVbxYFsSJJ1hKuRaLotrlKnEvVqg0+/+s+Z7Lq1+/4eJgS36G/Z2n/Ln+BD/0ON3dYPPFY4LQp98+482zVWamQb9zzh9rK0zGOmXqq4s9tp4/ZjYdo4VhwEFtk9teq2LWahzSOKlRMr++POaovlVVH+k96jvPiST5aNhnd+cFsRQt16BzydG7l/jeHC0IAtrdHlPTJE1TdONetkGSJozGE27vjOreclz6Q4soinBcr4pVklbtj00bfeISCqYppfB9jyDwSZKEskAUhdXXtEaMZ7dEasng4jfaG49wzD56a4PWy4/x7S65MOyf/kz/zSPmto5WVvR9nziOq4RlcqViwjDkanjDcNYXLGVws0fn8nvBLWn5jG5jVVo2KUSn8eAt0/crRIGFVmqVCMskUZVuWZaxKHImD3OCJKuwsos8z8ny0oKCv1oun/yo0zGj0lspqCqHlRDSZpaFZTvSYlgxHRht7h2doeWIixPRy60SmqKxO3fx5g61xoDvtnoMLJEnVayfGHz60yVj20MzjCGH9W3uBm2cB5v6u985O9lmKiNwerzLP2f7InZMr3PN+XEdxzYZ3rS4be4SB17F8ElN56OvmyKPJExUgufapKJhEC9wvEJYZXiRDHYyZ6FckUBkCRyccZ9Q2D6ogvsH/z8JwI1S7oVtedZSGQ8lF1fDY4zmlzJUX5F1P2fUXOXZmc3aic3rhsn6ucnagbj+aoV8/QvU9rf4b38gXPuMtLfPh6ey+GBKnokJ7hBvusN88BTz+hfmkzrndx6HXYu/T7vstQwa+hzveo+suYl6XyO5OUI1XhONu2TyzEoD/wWq22+8l5Q1AQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/578d2c9fa3c06d95956f4f0c339716c5/9bbaf/1.png&quot;
        srcset=&quot;/blog/static/578d2c9fa3c06d95956f4f0c339716c5/c26ae/1.png 158w,
/blog/static/578d2c9fa3c06d95956f4f0c339716c5/6bdcf/1.png 315w,
/blog/static/578d2c9fa3c06d95956f4f0c339716c5/9bbaf/1.png 588w&quot;
        sizes=&quot;(max-width: 588px) 100vw, 588px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;1ã€ç¼–å†™ bootsect.s&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæˆ‘ä»¬è¦ä»å¤´å¼€å§‹ç¼–å†™ bootsect.sï¼Œè€Œä¸æ˜¯åœ¨ Linux0.11 çš„æºç ä¸Šè¿›è¡Œä¿®æ”¹ï¼Œè¿™æ ·å­æ— æ³•æ·±åˆ»ç†è§£ bootsect å¼•å¯¼è¿‡ç¨‹ã€‚&lt;/p&gt;
&lt;p&gt;è§£å‹ &lt;code class=&quot;language-text&quot;&gt;hit-oslab-linux-20110823.tar.gz&lt;/code&gt; ï¼Œå¹¶å‘½åä¸º &lt;code class=&quot;language-text&quot;&gt;os_lab_Lab1&lt;/code&gt; ï¼Œåœ¨æ­¤æºç åŸºç¡€ä¸Šæˆ‘ä»¬è¿›ä¸€æ­¥å®Œæˆå®éªŒã€‚è¿›å…¥ &lt;code class=&quot;language-text&quot;&gt;os_lab_Lab1/linux-0.11/boot/&lt;/code&gt; æ–‡ä»¶å¤¹ä¸‹çš„ &lt;code class=&quot;language-text&quot;&gt;bootsect.s&lt;/code&gt; æ–‡ä»¶ï¼Œæˆ‘ä»¬æ¸…ç©ºæ–‡ä»¶å†…å®¹ï¼Œé‡å¤´å¼€å§‹ç¼–å†™ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è·å–å…‰æ ‡ä½ç½®&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;asm&quot;&gt;&lt;pre class=&quot;language-asm&quot;&gt;&lt;code class=&quot;language-asm&quot;&gt;entry _start
_start:
! è¾“å‡ºä¸€äº›ä¿¡æ¯
    ! è¯»å…¥å…‰æ ‡ä½ç½®
    mov ah, #0x03
    xor bh, bh             ! æ˜¾ç¤ºé¡µç è®¾ç½®
    int 0x10&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;å…¶ä¸­ï¼Œä¸­æ–­ &lt;code class=&quot;language-text&quot;&gt;int 10&lt;/code&gt;ã€ &lt;code class=&quot;language-text&quot;&gt;ah = 03H&lt;/code&gt; åŠŸèƒ½ä»¥åŠå‚æ•° &lt;code class=&quot;language-text&quot;&gt;bh&lt;/code&gt; å¯ä»¥åœ¨æ–‡ä»¶ file1615.pdf æŸ¥åˆ°ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/4428ba971be06666d9acb18963c972cc/fcda8/2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 61.39240506329114%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAACIElEQVR42lVTZ2/iUBD0//8f+ZiLEokLvQSCMYR+dIzpxRxNlFA9t/M4S+RJq32235udmV1ryWQS4WgURiQC/fkZqddX6C8vCD09Ifv+Dmw2uA0GwGwGZzqFA8BxHBW32w3usixLhbZarTAej1GtVlWUKxW0Ox0Y6TTqrRb+9vuw63VMJexmE7Ztq/MzKbBcLjGZTDCVQsRhAW0jDA6HA0ZyyJQLja8v1DIZmMUielLALJdh1Wr4UyqhJgXqAlySPXOv17uTkDPtdhvX6xVat9uFLdW4TgJu+P3IiA262DAwTVhSxJILznZ71+Y4/9Ndtru4V4Cky0pXofu926GVz6MnjAqfn8h+fKCcSiEfj6NFtmJFR4KM1uu1Ajifz7hcLioU4GKxUD6wwm6/R1IADJH82+uFPxhESJrlkf0vaZRf2AcCAUTkXaFQwOl0UkAEdYE150ECvWw0GsqXt7c3ddEwDEQJ6vEgHA4jl8v9kPwonVmjBB7aikekTDm6riugtHQ6kUioiMViiIt0fnfDFI/ZjJY0i4xpnbYT3yiblCmBl1yAUCgEzinfkW02m8V8PlcWcWweg+O0F8s0zo47pAQcDodoSmdZlRWZ+dyXeaQdHBcyY5ClOzYswqVRJsMFLMr8paQxlM3MIGPK5zvmvEwCs8ue+6A0sCI/xQ/A4/GIjHSYH30+n2qC21nmqMymVzrO76PRSLFmD/jLkT1Z/gNNUV68OHUxeAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/4428ba971be06666d9acb18963c972cc/fcda8/2.png&quot;
        srcset=&quot;/blog/static/4428ba971be06666d9acb18963c972cc/c26ae/2.png 158w,
/blog/static/4428ba971be06666d9acb18963c972cc/6bdcf/2.png 315w,
/blog/static/4428ba971be06666d9acb18963c972cc/fcda8/2.png 590w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è¾“å‡ºæ˜¾ç¤ºå­—ç¬¦ä¸²ã€‚åŒç†å¯ä»¥æŸ¥è¡¨å‘ç°ï¼Œ0x10ä¸­æ–­å¯¹åº”çš„ &lt;code class=&quot;language-text&quot;&gt;ah = 13&lt;/code&gt; åŠŸèƒ½ä¸ºå‘å±å¹•è¾“å‡ºæ˜¾ç¤ºå­—ç¬¦ä¸²ï¼Œå¹¶ä¸”å„ä¸ªå‚æ•°çš„åŠŸèƒ½ä¹Ÿéƒ½æœ‰è¯¦ç»†ä»‹ç»ï¼Œå…·ä½“å¯ä»¥å‚ç…§ä»£ç åŠæ³¨é‡Šã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 589px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/d60b8b0bb11dc462b8662670d1f8213d/b1665/3.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 65.18987341772153%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB+0lEQVR42n1TZ4siQRSc//8r/KSCqKyg6yoGPHM48xkwYc45YqjretyIeyfX8HgzPTPVVa9qtHarhR/hMHLJJH5+fCD3+YmYzYbC1xcyDgcusxkeAO73u9Tj8ZDONR6Pkc/n0ev10G630VJY2mKxQKVSQb1el4e/ymXEYzHpKXXIarXC8XjE8XDAQdVut8PpdMJ2u8V6vX7WfD6XPU0/rd/vIxAIIJPJIKYAU6kUUum0gEYiEcTjcSTVtd/vl2vuhUIhJBIJRKNReDweIaZdr1cBbDQa8qBYLAoYX5wpuWRDFbxeLpfChH2z2QgzsqIK7pG9NplM0Gw2n3MhcKFQQDabxX6/lxcJ+m5xnqzXe5F8u92eQycbHpJWcsk4GAwil8thOByi0+mIAewkQXUEYScGS9OB9MIfR6fTKdxuNywWC3w+H2zKeaPRKPdmsxkmk0lGQ9lcOqlvgDxtNBoJQzrucrlgtVrhdDrFKLKmEfqMvV6vROUtIDe46GStVhMQuh5WGaWrlN3tduVAXfpgMBBT8JLTfwAZGzKhLLJzqHBTut1uF5ZkRgXn81lMu1wu30b2NEUH5EdkZDAYRBIdZxwYbsaDcdHN+Hv+Aqg7pM+QciiLc6JMdu5Vq1UJ/6u8t4D8H8vqNyN1Ls6lVCpJfPRs/Q+AZCifxbz+BvgxvASYujfQAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/d60b8b0bb11dc462b8662670d1f8213d/b1665/3.png&quot;
        srcset=&quot;/blog/static/d60b8b0bb11dc462b8662670d1f8213d/c26ae/3.png 158w,
/blog/static/d60b8b0bb11dc462b8662670d1f8213d/6bdcf/3.png 315w,
/blog/static/d60b8b0bb11dc462b8662670d1f8213d/b1665/3.png 589w&quot;
        sizes=&quot;(max-width: 589px) 100vw, 589px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;asm&quot;&gt;&lt;pre class=&quot;language-asm&quot;&gt;&lt;code class=&quot;language-asm&quot;&gt;BOOTSEG = 0x07c0;    ! bootsect ç¨‹åºå¼€å§‹çš„åœ°å€

! è¾“å‡ºä¸€äº›ä¿¡æ¯
    ! è®¾ç½®å¼€æœºå¯åŠ¨å­—ç¬¦ä¸²
    mov cx, #26            ! å­—ç¬¦ä¸²é•¿åº¦ï¼ˆ20å­—ç¬¦+3ä¸ªå›è½¦+3ä¸ªæ¢è¡Œï¼‰
    mov bx, #0x0007        ! è®¾ç½® æ˜¾ç¤ºé¡µå· å’Œ å­—ç¬¦å±æ€§(BLè¡¨ç¤ºæ˜¾ç¤ºé¢œè‰² 01ï¼šè“è‰²ï¼Œ03ï¼šé’è‰²ï¼Œ07ï¼šæ™®é€šç™½è‰²)
    mov ax, #BOOTSEG       ! å­—ç¬¦ä¸² æ®µåœ°å€
    mov es, ax             ! ä¸èƒ½å°†ç«‹å³æ•°ç›´æ¥èµ‹ç»™æ®µå¯„å­˜å™¨ï¼Œax å……å½“ä¸´æ—¶å¯„å­˜å™¨
    mov bp, #msg1          ! å­—ç¬¦ä¸² åç§»åœ°å€
    mov ax, #0x1301        ! ah = 13H -&amp;gt; æ˜¾ç¤ºï¼Œ al = 01H -&amp;gt; è®¾ç½®æ–‡æœ¬æ¨¡å¼
    int 0x10               ! æ˜¾ç¤ºæœåŠ¡ä¸­æ–­

! æ— é™å¾ªç¯
inf_loop:
	jmp inf_loop

! æ˜¾ç¤ºå­—ç¬¦ä¸²
msg1:
    .byte    13,10         ! å›è½¦ + æ¢è¡Œ
    .ascii    &amp;quot;Joker is booting ...&amp;quot;
    .byte    13,10,13,10

.org 510                   ! å°†å½“å‰ä½ç½®è®¾ç½®ä¸ºå†…å­˜åœ°å€ 510
! è®¾ç½®å¼•å¯¼æ‰‡åŒºæ ‡è®°
    .word    0xAA55        ! æŒ‡å®šå¼•å¯¼æ‰‡åŒºçš„æœ€åä¸¤ä¸ªå­—èŠ‚ï¼Œbootsectå¿…é¡»ä»¥å®ƒç»“å°¾ï¼Œæ‰èƒ½å¼•å¯¼&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;éœ€è¦æ³¨æ„çš„æ˜¯ï¼šåœ¨ç»“å°¾å¤„æˆ‘ä»¬éœ€è¦ä½¿ç”¨ &lt;code class=&quot;language-text&quot;&gt;.org&lt;/code&gt; æŒ‡ä»¤ ï¼Œè®¾ç½®æœ€åä¸¤ä¸ªå­—èŠ‚ä¸º &lt;code class=&quot;language-text&quot;&gt;bootsect&lt;/code&gt; ç¨‹åºæ ‡è¯†ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å¯èƒ½æœ‰ä¸å°‘è¯»è€…ä¸å¤ªäº†è§£ &lt;code class=&quot;language-text&quot;&gt;org&lt;/code&gt; æŒ‡ä»¤ ï¼Œåœ¨æ­¤å¤„ç»™å‡ºUnixæ“ä½œç³»ç»ŸæŒ‡ä»¤å¤§å…¨ï¼š&lt;a href=&quot;https://zhuanlan.zhihu.com/p/420247468&quot;&gt;115ä¸ªæœ€å¸¸ç”¨çš„Linuxå‘½ä»¤è¡Œå¤§å…¨ - çŸ¥ä¹ (zhihu.com)&lt;/a&gt;ï¼Œå¤§å®¶é‡åˆ°ä¸æ‡‚çš„æŒ‡ä»¤å¯ä»¥åœ¨è¯¥æ–‡ä¸­æŸ¥åˆ°ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;2ã€ç¼–è¯‘å’Œè¿è¡Œ&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;cd&lt;/span&gt; ~/my_space/OS_HIT/oslab_Lab1/linux-0.11/boot
as86 &lt;span class=&quot;token parameter variable&quot;&gt;-0&lt;/span&gt; &lt;span class=&quot;token parameter variable&quot;&gt;-a&lt;/span&gt; &lt;span class=&quot;token parameter variable&quot;&gt;-o&lt;/span&gt; bootsect.o bootsect.s   // ç”¨as86ç¼–è¯‘å™¨ï¼Œç¼–è¯‘ç”Ÿæˆç›®æ ‡æ–‡ä»¶ bootsect.o
ld86 &lt;span class=&quot;token parameter variable&quot;&gt;-0&lt;/span&gt; &lt;span class=&quot;token parameter variable&quot;&gt;-s&lt;/span&gt; &lt;span class=&quot;token parameter variable&quot;&gt;-o&lt;/span&gt; bootsect bootsect.o     // ç”¨ld86é“¾æ¥å™¨ï¼Œå°†ç›®æ ‡æ–‡ä»¶è¿æ¥æˆå¯æ‰§è¡Œæ–‡ä»¶&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;ç›´æ¥åœ¨ &lt;code class=&quot;language-text&quot;&gt;linux-0.11&lt;/code&gt; æ–‡ä»¶å¤¹ä¸‹ç”¨ &lt;code class=&quot;language-text&quot;&gt;make all&lt;/code&gt; ä¹Ÿå¯ä»¥ï¼Œå› ä¸ºMakefileé‡Œé¢å®šä¹‰äº†è¿™ä¸¤æ¡è¯­å¥äº†&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ç¼–è¯‘åï¼Œé€šè¿‡ &lt;code class=&quot;language-text&quot;&gt;ls -l&lt;/code&gt; æŒ‡ä»¤å¯ä»¥æŸ¥çœ‹ç”Ÿæˆæ–‡ä»¶ä¿¡æ¯ã€‚&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 546px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/97af176316da22e2231fee72a849c1a0/76aed/4.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 16.455696202531648%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAnElEQVR42j2NyRLCMAxDU8jSOHHarAVOcOL/v1C4mQ6HN5ZleaRen4b394FyMOzK0GuC8ZuQLviv9anXk4S789COYMImfzKtgdYaKvGOmjsCBRhjkDgiBgLHKB7BOTu9UvLUIfh5o6RBWcHvC5abglIXaUsIEvDeSYPF6AOlNjShloIYWfaK3jvIE3IuqK1NxjHweB6okiUpZ2b8ANh1RFlJ02a/AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/97af176316da22e2231fee72a849c1a0/76aed/4.png&quot;
        srcset=&quot;/blog/static/97af176316da22e2231fee72a849c1a0/c26ae/4.png 158w,
/blog/static/97af176316da22e2231fee72a849c1a0/6bdcf/4.png 315w,
/blog/static/97af176316da22e2231fee72a849c1a0/76aed/4.png 546w&quot;
        sizes=&quot;(max-width: 546px) 100vw, 546px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;éœ€è¦ç•™æ„çš„æ–‡ä»¶æ˜¯ bootsect çš„æ–‡ä»¶å¤§å°æ˜¯ 544 å­—èŠ‚ï¼Œè€Œå¼•å¯¼ç¨‹åºå¿…é¡»è¦æ­£å¥½å ç”¨ä¸€ä¸ªç£ç›˜æ‰‡åŒºï¼Œå³ 512 ä¸ªå­—èŠ‚ã€‚é€ æˆå¤šäº† 32 ä¸ªå­—èŠ‚çš„åŸå› æ˜¯ ld86 äº§ç”Ÿçš„æ˜¯ Minix å¯æ‰§è¡Œæ–‡ä»¶æ ¼å¼ï¼Œè¿™æ ·çš„å¯æ‰§è¡Œæ–‡ä»¶å¤„ç†æ–‡æœ¬æ®µã€æ•°æ®æ®µç­‰éƒ¨åˆ†ä»¥å¤–ï¼Œè¿˜åŒ…æ‹¬ä¸€ä¸ª Minix å¯æ‰§è¡Œæ–‡ä»¶å¤´éƒ¨ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦å»æ‰è¿™ 32 ä¸ªå­—èŠ‚åï¼Œå°†ç”Ÿæˆçš„æ–‡ä»¶æ‹·è´åˆ° linux-0.11 ç›®å½•ä¸‹ï¼Œå¹¶ä¸€å®šè¦å‘½åä¸ºâ€œImageâ€ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;&lt;span class=&quot;token function&quot;&gt;dd&lt;/span&gt; &lt;span class=&quot;token assign-left variable&quot;&gt;bs&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token assign-left variable&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;bootsect &lt;span class=&quot;token assign-left variable&quot;&gt;of&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;Image &lt;span class=&quot;token assign-left variable&quot;&gt;skip&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;32&lt;/span&gt;   // å»æ‰å‰ &lt;span class=&quot;token number&quot;&gt;32&lt;/span&gt; ä¸ª bytes
&lt;span class=&quot;token function&quot;&gt;cp&lt;/span&gt; ./Image &lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;/Image                    // ç§»åŠ¨åˆ° linux-0.11 ç›®å½•ä¸‹
&lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;/&lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;/run                              // è¿è¡Œ&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;è‡³æ­¤ï¼Œ&lt;strong&gt;å®éªŒä»»åŠ¡ä¸€&lt;/strong&gt; å°±å®Œæˆäº†ï¼Œå®ç°æ•ˆæœå¦‚ä¸‹æ‰€ç¤ºã€‚&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 591px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/e7c7a1a5ef72693e707da31783e54e7f/e4c9a/5.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 50.632911392405056%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABoElEQVR42o2RO0/CYBSGSym9l1sLhNuCgOFngBKwkzFx1VAgJP4DSUxYHBid2EggTPwFNwdmSISE+GNez6lSL1Hj8OQ9/fp977kJrdNTMM1GA2fNJi4vLtD3PPQ6HQx6PT/ue10M+n30ul0fj/5dX13hrN3GSb0Ot9WC67q4OW9BuB2NcHd/j4fJBI9PT3h+ecF6u8V6t/N1wzHrfo/1ZoPVaoXpdIrlconxeIzhcIj5fI7FYoHZbAZBK5WgEkalAp1UzmQgZ7NQCoVAVcKs1SCn0xBEEYIg/I5eLEKnB1ouB8myIOk6IqRMWFW/Xg6FfEKs72eHODhTKKvBFZbLMKvVAOv42D8XI5EPs78qOxDN52GRqe440FMpGBSb1LaZTEKxbYiyHFQQ+o9p5egIeZqVQ4+zpEVqv0BJchRnKEGSjFOUxKGE6vcR/IRDj2LxOKLR6JvGYkgkEj5xgo0YwzB8OIGmaT+a+R3wBYsWYJrmmykZhsPhL4i0Wb7MsUwjYP21wjS1wyZszJXotOXvhowkSYH5529FURCnzhjbtvEKUEUXInQxcG4AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/e7c7a1a5ef72693e707da31783e54e7f/e4c9a/5.png&quot;
        srcset=&quot;/blog/static/e7c7a1a5ef72693e707da31783e54e7f/c26ae/5.png 158w,
/blog/static/e7c7a1a5ef72693e707da31783e54e7f/6bdcf/5.png 315w,
/blog/static/e7c7a1a5ef72693e707da31783e54e7f/e4c9a/5.png 591w&quot;
        sizes=&quot;(max-width: 591px) 100vw, 591px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h3&gt;äºŒã€bootsect.s å¯¼å…¥ setup.s&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;éœ€è¦å®ç°ï¼šbootsect.s èƒ½å®Œæˆ setup.s çš„è½½å…¥ï¼Œå¹¶è·³è½¬åˆ° setup.s å¼€å§‹åœ°å€æ‰§è¡Œã€‚è€Œ setup.s å‘å±å¹•è¾“å‡ºä¸€è¡Œ&quot;Now we are in SETUP&quot;ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;1ã€ç¼–å†™ setup.s å±å¹•è¾“å‡º&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬é¦–å…ˆæ¥ç¼–å†™ setup.s å‘å±å¹•è¾“å‡ºåŠŸèƒ½ï¼ŒåŒç†éœ€è¦é‡å¤´å¼€å§‹ç¼–å†™ setup.sï¼Œä¸ &lt;code class=&quot;language-text&quot;&gt;bootsect.s&lt;/code&gt; ç±»ä¼¼ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;asm&quot;&gt;&lt;pre class=&quot;language-asm&quot;&gt;&lt;code class=&quot;language-asm&quot;&gt;entry _start
_start:
    ! è¯»å…¥å…‰æ ‡ä½ç½®
    mov ah, #0x03
    xor bh, bh
    int 0x10

    ! è®¾ç½®å¼€æœºå¯åŠ¨å­—ç¬¦ä¸²
    mov cx, #25            ! å­—ç¬¦ä¸²é•¿åº¦ï¼ˆ19å­—ç¬¦+3ä¸ªå›è½¦+3ä¸ªæ¢è¡Œï¼‰
    mov bx, #0x0007        ! è®¾ç½® æ˜¾ç¤ºé¡µå· å’Œ å­—ç¬¦å±æ€§
    mov ax, cs             ! ä½¿ç”¨cså€¼è·å– æ®µåœ°å€
    mov es, ax             ! ax å……å½“ä¸´æ—¶å¯„å­˜å™¨
    mov bp, #msg2          ! å­—ç¬¦ä¸² åç§»åœ°å€
    mov ax, #0x1301        ! ah = 13H -&amp;gt; æ˜¾ç¤ºï¼Œ al = 01H -&amp;gt; è®¾ç½®æ–‡æœ¬æ¨¡å¼
    int 0x10

! æ— é™å¾ªç¯
inf_loop:
    jmp inf_loop

! æ˜¾ç¤ºå­—ç¬¦ä¸²
msg2:
    .byte    13,10         ! å›è½¦ + æ¢è¡Œ
    .ascii    &amp;quot;Now we are in SETUP&amp;quot;
    .byte    13,10,13,10&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;2ã€åœ¨ bootsect.s ä¸­è½½å…¥ setup.s&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;åœ¨ bootsects ä¸­è½½å…¥ setup.s ï¼Œéœ€è¦ç”¨åˆ°ä¸­æ–­ &lt;code class=&quot;language-text&quot;&gt;int 0x13&lt;/code&gt; çš„ &lt;code class=&quot;language-text&quot;&gt;02H&lt;/code&gt; å·åŠŸèƒ½â€”â€”ä»ç£ç›˜ä¸­è½½å…¥æ•°æ®åˆ°å†…å­˜ã€‚&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 588px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/d6b3b8374da4f6289292bd0b0f446349/9bbaf/6.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 55.06329113924051%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABl0lEQVR42oVTZ4vCUBDM//8V4mc/iAiKQuwNS9BgCRoL9oqi2M1cZo8nx3l6geHxNruzs+VpRqUCPR5HJZFA0e+HGYnAisXQTqdhuzZcLnDw/TmOg8fj8QLaTdPEcDiEtlgsMB6PYRgGisUibNvGer3GdDrFfD7HfDbDcrnEZDLBfr//SEpop9PJFXHBzA0cDAbo9/toNpuwLAuj0Uiykoz23W4nSv8iVNBIwkDl2Gg0UK1WpYTtdivqCRIrwvv9/p5QSeXleDwimUwil8vB4/HA6/UiHA4jxp622zgcDm9LfhIyG0HH8/mMQqEghIFAAD6fT3rLRFT3iehFIcF+lkol1Go1hEIhpFIpBINBsa1WKwn4t4ckYSm8XK9XmTKRz+eFkKBqKuTw6Puzh6pCZdM4QU6Ul9vtJsFUlc1mpXfRaBQJdx/ZAiZhL5lY7eXvU+POkZROJO12u6jX6+h0Ok/0ej0hUpPebDayZmo/1S7zn0YjSVgOv3K5LKqojsri7itKu6+GZyaTga7rctKHdvoQrVZL+vwFAIYvDho2GjEAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/d6b3b8374da4f6289292bd0b0f446349/9bbaf/6.png&quot;
        srcset=&quot;/blog/static/d6b3b8374da4f6289292bd0b0f446349/c26ae/6.png 158w,
/blog/static/d6b3b8374da4f6289292bd0b0f446349/6bdcf/6.png 315w,
/blog/static/d6b3b8374da4f6289292bd0b0f446349/9bbaf/6.png 588w&quot;
        sizes=&quot;(max-width: 588px) 100vw, 588px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;å…·ä½“ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼šï¼ˆé™¤äº†æ–°å¢ä»£ç ï¼Œæˆ‘ä»¬è¿˜éœ€è¦å»æ‰åœ¨ &lt;code class=&quot;language-text&quot;&gt;bootsect.s&lt;/code&gt; æ·»åŠ çš„æ— é™å¾ªç¯ï¼‰&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;asm&quot;&gt;&lt;pre class=&quot;language-asm&quot;&gt;&lt;code class=&quot;language-asm&quot;&gt;SETUPSEG = 0x07e0;               ! setup ç¨‹åºå¼€å§‹çš„åœ°å€ï¼ˆæ²¡æœ‰ç§»åŠ¨åˆ° 0x9000 å¤„ï¼‰
SETUPLEN = 4;                    ! setup å ç”¨æ‰‡åŒºæ•°é‡

! åŠ è½½ setup.s ç¨‹åº
load_setup:
    mov    dx,#0x0000            ! è®¾ç½®é©±åŠ¨å™¨å’Œç£å¤´(drive 0, head 0)
    mov    cx,#0x0002            ! è®¾ç½®æ‰‡åŒºå·å’Œç£é“(sector 2, track 0)
    mov    bx,#0x0200            ! åç§»åœ°å€ä¸º 512 bytes
    mov    ax,#0x0200+SETUPLEN   ! ah=02Hï¼šä»ç£ç›˜è¯»æ•°æ®åˆ°å†…å­˜ï¼›al=04Hï¼Œè¯»å…¥å››ä¸ªæ‰‡åŒº
    int    0x13                  ! ä½çº§ç£ç›˜æœåŠ¡ä¸­æ–­
    jnc    ok_load_setup         ! åŠ è½½æˆåŠŸï¼Œè·³è½¬(æ— è¿›ä½æ—¶è·³è½¬)
    ï¼åŠ è½½é”™è¯¯
    mov    dx,#0x0000
    mov    ax,#0x0000            ! å¤ä½è½¯é©±
    int    0x13
    jmp load_setup               ! å†æ¬¡å°è¯•

ok_load_setup:
    jmpi 0,SETUPSEG              ! èµ‹äºˆ setup.s æ§åˆ¶æƒ

! æ— é™å¾ªç¯
! inf_loop:
!    jmp inf_loop
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;3ã€ç¼–è¯‘å’Œè¿è¡Œ&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ä¸ºäº†åŠ å¿«ç¼–è¯‘é€Ÿåº¦ï¼Œé¿å…ä¸€ä¸ªä¸€ä¸ªæ‰‹åŠ¨ç¼–è¯‘ï¼Œæˆ‘ä»¬å°†å€ŸåŠ© &lt;code class=&quot;language-text&quot;&gt;makefile&lt;/code&gt; æ¥å®ç°ç¼–è¯‘ã€‚æˆ‘ä»¬å°†ç”¨åˆ° &lt;code class=&quot;language-text&quot;&gt;linux-0.11/tools/build.c&lt;/code&gt; æ–‡ä»¶æ¥å®ç°ã€‚æ³¨æ„ï¼šåœ¨ä½¿ç”¨ &lt;code class=&quot;language-text&quot;&gt;make BootImage&lt;/code&gt; ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦ä¿®æ”¹ä¸€ä¸‹ &lt;code class=&quot;language-text&quot;&gt;build.c&lt;/code&gt; ä»£ç ï¼Œå› ä¸ºæˆ‘ä»¬è¿˜æ²¡æœ‰ç¼–å†™å†…æ ¸æ–‡ä»¶ &lt;code class=&quot;language-text&quot;&gt;kernel&lt;/code&gt;ï¼Œæ‰€ä»¥ä¼šå‡ºç°æŠ¥é”™ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ³¨é‡Šæ‰ &lt;code class=&quot;language-text&quot;&gt;tool/build.c&lt;/code&gt; ä¸­çš„éƒ¨åˆ†ä»£ç ï¼š&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;//     if ((id=open(argv[3],O_RDONLY,0))&amp;lt;0)&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;//         die(&quot;Unable to open &apos;system&apos;&quot;);&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// //    if (read(id,buf,GCC_HEADER) != GCC_HEADER)&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// //        die(&quot;Unable to read header of &apos;system&apos;&quot;);&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// //    if (((long *) buf)[5] != 0)&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// //        die(&quot;Non-GCC header of &apos;system&apos;&quot;);&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;//     for (i=0 ; (c=read(id,buf,sizeof buf))&gt;0 ; i+=c )&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;//         if (write(1,buf,c)!=c)&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;//             die(&quot;Write call failed&quot;);&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;//     close(id);&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;//     fprintf(stderr,&quot;System is %d bytes.\n&quot;,i);&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;//     if (i &gt; SYS_SIZE*16)&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;//         die(&quot;System is too big&quot;);&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;å³å¯å®ç°ç¼–è¯‘å’Œè¿è¡Œ&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;cd linux-0.11
make BootImage
../run&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;è‡³æ­¤ï¼Œ&lt;strong&gt;å®éªŒä»»åŠ¡äºŒ&lt;/strong&gt; å°±å®Œæˆäº†ï¼Œå®ç°æ•ˆæœå¦‚ä¸‹æ‰€ç¤ºã€‚&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 591px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/4168d88fe5112b13437e1983dd0e028d/e4c9a/7.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 56.9620253164557%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABvElEQVR42oWSy0ojURCGT9/oTl+S2LmZGMHLAymJV5TRwZ0k0q40ickmi+AmvoIbXcs4Mowo6kLwrX7/Ok6L4GgWP4eqU/WduhzVXFrCRrOJtUYDPzY30d7fR7/TQe/oCINuF/3jjrYHVJ/2Sa+HwyRBcnCA9bVVNJaXsb21hb3dHSTbK1A/2220GHRyeorzqyv8fX7Gr7s73Dw94vr+Hr8fHrT+vLzg+vYWlxcXGA6HGJ+dISG41WphNBphPB6j0+1BOTMzsKan4dTrsEslqCCAQalcDkYYwshGMOMYVrn85lfqkwzD0KdlWVB+tYpwYQHB3Bx8wjOE+7Waljs19R6sE/8lm6apz4+Se9u2oexsFi6hnohAb3YWrsAosU3HeQN+AH8lXWFlfh4FJkbFIvKExgTFbD9mpQF9jufpQHldJ0wCLrLdMhNLVI2QOoFyVjizCmdaLBRQpa/Ie9d1JwOzbDmMIvi+j5BLCDh4n9J+2jkuRyQwuSvwgUwm8zWwzEry+bxOkuCYG5Why2WqdAlp62L/b8t6KRGrS1+XirRzwvC/bVkqkxY8Dl/gYqdfY5IkzuEvkPFIrnT4CmhNKN1TlY1wAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/4168d88fe5112b13437e1983dd0e028d/e4c9a/7.png&quot;
        srcset=&quot;/blog/static/4168d88fe5112b13437e1983dd0e028d/c26ae/7.png 158w,
/blog/static/4168d88fe5112b13437e1983dd0e028d/6bdcf/7.png 315w,
/blog/static/4168d88fe5112b13437e1983dd0e028d/e4c9a/7.png 591w&quot;
        sizes=&quot;(max-width: 591px) 100vw, 591px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h3&gt;ä¸‰ã€setup.s è·å–ç¡¬ä»¶å‚æ•°å¹¶è¾“å‡ºæ˜¾ç¤º&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;éœ€è¦å®ç°ï¼šsetup.s èƒ½è·å–è‡³å°‘ä¸€ä¸ªåŸºæœ¬çš„ç¡¬ä»¶å‚æ•°ï¼ˆå¦‚å†…å­˜å‚æ•°ã€æ˜¾å¡å‚æ•°ã€ç¡¬ç›˜å‚æ•°ç­‰ï¼‰ï¼Œå°†å…¶å­˜æ”¾åœ¨å†…å­˜çš„ç‰¹å®šåœ°å€ï¼Œå¹¶è¾“å‡ºåˆ°å±å¹•ä¸Šã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;1ã€è·å–ç¡¬ä»¶å‚æ•°&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;è·å–ç¡¬ä»¶å‚æ•°çš„ä»£ç å¤§è‡´éƒ½ä¸€æ ·ï¼Œæˆ‘ä»¬å°†ä¸»è¦ä»‹ç» &lt;strong&gt;è·å–å†…å­˜å¤§å°&lt;/strong&gt; å’Œ &lt;strong&gt;è·å–ç£ç›˜å‚æ•°è¡¨&lt;/strong&gt;ï¼Œå…¶ä»–å‚æ•°è·å–å‚è€ƒæ–‡æœ«ä»£ç ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è¦è·å–å†…å­˜å¤§å°ï¼Œæˆ‘ä»¬éœ€è¦ç”¨åˆ°ä¸­æ–­ &lt;code class=&quot;language-text&quot;&gt;int 0x15&lt;/code&gt;ï¼Œè°ƒç”¨ &lt;code class=&quot;language-text&quot;&gt;ah = 0x88&lt;/code&gt; åŠŸèƒ½å®ç°ã€‚å…·ä½“ä»£ç å¦‚ä¸‹ï¼š&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;asm&quot;&gt;&lt;pre class=&quot;language-asm&quot;&gt;&lt;code class=&quot;language-asm&quot;&gt;BOOTSEG = 0x07c0;         ! bootsect è¯»å…¥æ®µåœ°å€
INITSEG = 0x9000;         ! åˆå§‹æ•°æ®æ®µå­˜æ”¾çš„ä½ç½®
SETUPSEG = 0x07e0;        ! setup ç¨‹åºå¼€å§‹çš„åœ°å€ï¼ˆæ²¡æœ‰ç§»åŠ¨åˆ° 0x90200 å¤„ï¼‰

! è®¾ç½®æ®µåœ°å€ï¼Œå°†ç¡¬ä»¶å‚æ•°å–å‡ºæ¥æ”¾åœ¨å†…å­˜ 0x90000
    mov ax, #INITSEG
    mov ds, ax            ! æ•°æ®æ®µåœ°å€ ds = 0x9000

! è¯»å…‰æ ‡ä½ç½®ï¼Œå­˜å…¥ dx
    mov ah, #0x03         ! AH = 3 -&amp;gt; è¯»å…‰æ ‡ä½ç½®
    xor bh, bh            ! æ˜¾ç¤ºé¡µæ•° = 0
    int 0x10
    ! å°†å…‰æ ‡ä½ç½®å†™å…¥ 0x90000.
    mov [0], dx

! è¯»å…¥å†…å­˜å¤§å°ä½ç½®
    mov ah, #0x88         ! AH = 0x88 -&amp;gt; è¯»å…¥å†…å­˜å¤§å°
    int 0x15              ! å†…å­˜å¤§å­˜å…¥ AX
    mov [2], ax           ! å­˜å…¥ 9000 åé¢ä¸¤ä¸ªåç§»&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;è·å–ç£ç›˜å‚æ•°è¡¨ï¼Œã€‚åœ¨ PC æœºä¸­ BIOS è®¾å®šçš„ä¸­æ–­å‘é‡è¡¨ä¸­ int 0x41 çš„ä¸­æ–­å‘é‡ä½ç½® &lt;code class=&quot;language-text&quot;&gt;4*0x41 = 0x0000:0x0104&lt;/code&gt;å­˜æ”¾ç€ç¬¬ä¸€ä¸ªç¡¬ç›˜çš„åŸºæœ¬å‚æ•°è¡¨ã€‚ç¬¬äºŒä¸ªç¡¬ç›˜çš„åŸºæœ¬å‚æ•°è¡¨å…¥å£åœ°å€å­˜äº int 0x46 ä¸­æ–­å‘é‡ä½ç½®å¤„ã€‚æ¯ä¸ªç¡¬ç›˜å‚æ•°è¡¨æœ‰ 16 ä¸ªå­—èŠ‚å¤§å°ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;asm&quot;&gt;&lt;pre class=&quot;language-asm&quot;&gt;&lt;code class=&quot;language-asm&quot;&gt;! è·å–ç£ç›˜å‚æ•°è¡¨ï¼Œä» 0x41 å¤„æ‹·è´ 16 ä¸ªå­—èŠ‚
    mov ax, #0x0000       ! ä¸å…è®¸ç›´æ¥å°†ç«‹å³æ•°åŠ è½½åˆ°æ®µå¯„å­˜å™¨ï¼Œéœ€è¦ä½¿ç”¨é€šç”¨å¯„å­˜å™¨ax
    mov ds, ax            ! æ•°æ®æ®µåœ°å€ ds = 0x0000
    lds    si,[4*0x41]    ! å–ä¸­æ–­å‘é‡ 41 çš„å€¼ï¼Œå³ hd0 å‚æ•°è¡¨çš„åœ°å€ ds:si
    mov    ax,INITSEG
    mov    es,ax
    mov    di,#0x0080     ! ä¼ è¾“çš„ç›®çš„åœ°å€: es:di = 9000:0080
    mov    cx,#0x10       ! é‡å¤æ‰§è¡Œæ¬¡æ•° = 16
    rep                   ! é‡å¤æ‰§è¡Œmovsb, DS:SI -&amp;gt; ES:DI
    movsb                 ! æ¯æ‰§è¡Œä¸€æ¬¡ movsb æŒ‡ä»¤ï¼Œæºåœ°å€å’Œç›®çš„åœ°å€çš„åç§»éƒ½ä¼šè‡ªåŠ¨é€’å¢&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;2ã€æ˜¾ç¤ºè·å¾—çš„å‚æ•°&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ä¸ºäº†ä»¥ 16è¿›åˆ¶ çš„å½¢å¼æ˜¾ç¤ºè·å–çš„å‚æ•°ï¼Œæˆ‘ä»¬éœ€è¦ç¼–å†™æ˜¾ç¤ºå‡½æ•°ã€‚ï¼ˆASCIIç è¯·å‚è€ƒï¼š&lt;a href=&quot;https://blog.csdn.net/yueyueniaolzp/article/details/82178954&quot;&gt;æœ€å…¨ASCIIç å¯¹ç…§è¡¨0-255&lt;/a&gt;ï¼‰&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ä»¥åå…­è¿›åˆ¶æ–¹å¼æ˜¾ç¤ºæ¯”è¾ƒç®€å•ã€‚è¿™æ˜¯å› ä¸ºåå…­è¿›åˆ¶ä¸äºŒè¿›åˆ¶æœ‰å¾ˆå¥½çš„å¯¹åº”å…³ç³»ï¼ˆæ¯ 4 ä½äºŒè¿›åˆ¶æ•°å’Œ 1 ä½åå…­è¿›åˆ¶æ•°å­˜åœ¨ä¸€ä¸€å¯¹åº”å…³ç³»ï¼‰ï¼Œæ˜¾ç¤ºæ—¶åªéœ€å°†åŸäºŒè¿›åˆ¶æ•°æ¯ 4 ä½åˆ’æˆä¸€ç»„ï¼ŒæŒ‰ç»„æ±‚å¯¹åº”çš„ ASCII ç é€æ˜¾ç¤ºå™¨å³å¯ã€‚åˆ†ä¸ºä¸¤ç§æƒ…å†µ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ•°å­— 0&lt;del&gt;9 ï¼š å¯¹åº” ASCII ç ä¸º 0x30&lt;/del&gt;0x39ï¼Œæ•…æ˜¾ç¤ºæ—¶åŠ ä¸Š 0x30&lt;/li&gt;
&lt;li&gt;æ•°å­— a&lt;del&gt;f ï¼šå¯¹åº”ASCIIç ä¸º 0x41&lt;/del&gt;0x46ï¼Œæ•…æ˜¾ç¤ºæ—¶åœ¨åŸå…ˆåŠ  0x30 çš„åŸºç¡€ä¸Šï¼Œè¿˜è¦æ·»åŠ  0x07&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;ç›¸å…³æ˜¾ç¤ºå‡½æ•°å¦‚ä¸‹æ‰€ç¤ºã€‚å°†ä¸´æ—¶å¯„å­˜å™¨ &lt;code class=&quot;language-text&quot;&gt;ax&lt;/code&gt; ä¸­å­˜æ”¾çš„16ä½äºŒè¿›åˆ¶æ•°ï¼Œé€šè¿‡4ä½åå…­è¿›åˆ¶çš„ASCIIå­—ç¬¦è¿›è¡Œæ˜¾ç¤ºã€‚å…¶ä¸­ä½¿ç”¨å¾ªç¯å·¦ç§» &lt;code class=&quot;language-text&quot;&gt;rol&lt;/code&gt; ä¸æ–­è·å–é«˜ä½æ•°æ® -&gt; å¹¶é€šè¿‡ &lt;code class=&quot;language-text&quot;&gt;and&lt;/code&gt; æ“ä½œä¿ç•™ç¬¬å››ä½æ•°æ® -&gt; å†ç»Ÿä¸€åŠ ä¸Š 0x30 ä¹‹ååˆ¤æ–­æ˜¯å¦å¤§äºæ•°å­—9ï¼Œè‹¥å¤§äºå†åŠ ä¸Š 0x07ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;asm&quot;&gt;&lt;pre class=&quot;language-asm&quot;&gt;&lt;code class=&quot;language-asm&quot;&gt;! ä»¥ 16 è¿›åˆ¶ æ‰“å°å¯„å­˜å™¨ ax ä¸­çš„16ä½æ•°
print_hex:
    mov cx, #4        ! å¾ªç¯æ¬¡æ•°s
    mov dx,ax         ! å°†axæ‰€æŒ‡çš„å€¼æ”¾å…¥dxä¸­ï¼Œaxä½œä¸ºå‚æ•°ä¼ é€’å¯„å­˜å™¨
print_digit:
    rol dx,#4         ! å°† DX å¯„å­˜å™¨ä¸­çš„å€¼å‘å·¦å¾ªç¯ç§»ä½ 4 ä½ï¼Œç›¸å½“äºå°† æœ€é«˜çš„4ä½ ç§»åˆ° æœ€ä½çš„4ä½ã€‚åé¢å–å‡ºæœ€ä½å››ä½ï¼Œæ‰“å°çš„æ—¶å€™å®ç°é«˜ä½åœ¨å‰
    mov ax,#0x0e0f     ! ah = 0eh -&amp;gt; æ˜¾ç¤ºå­—ç¬¦, al = å­—ç¬¦ï¼šåŠå­—èŠ‚(4ä¸ªæ¯”ç‰¹)æ©ç ã€‚
    and al,dl         ! å– dl çš„ä½4æ¯”ç‰¹å€¼ã€‚
    add al,#0x30      ! ç»™alæ•°å­—åŠ ä¸Šåå…­è¿›åˆ¶ 0x30, 0~9 + 0x30 = &amp;quot;0~9&amp;quot;
    cmp al,#0x3a      ! åˆ¤æ–­ al æ˜¯å¦å¤§äº å­—ç¬¦ 9
    jl outp           ! al &amp;lt; æ•°å­—&amp;quot;9&amp;quot;åé¢çš„å­—ç¬¦ï¼Œè¯´æ˜æ˜¯ 0ï½9ï¼Œåˆ™è·³è½¬
    add al,#0x07      ! al &amp;gt; &amp;quot;9&amp;quot;, æ˜¯a~f,è¦å¤šåŠ 7h
outp:
    int 0x10          ! æ‰“å°å­—ç¬¦å­˜å‚¨åœ¨ al ä¸­
    loop print_digit  ! cx = 4,å¾ªç¯å››æ¬¡
    ret               ! å‡½æ•°è¿”å›æŒ‡ä»¤ï¼Œè¡¨ç¤ºå‡½æ•°æ‰§è¡Œç»“æŸï¼Œè¿”å›åˆ°è°ƒç”¨è¯¥å‡½æ•°çš„ä½ç½®

ï¼ æ‰“å°æ˜¾ç¤ºå›è½¦æ¢è¡Œ
print_nl:
    mov ax, #0x0e0d
    int 0x10
    mov al, #0x0a
    int 0x10
    ret&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;å›è½¦å’Œæ¢è¡Œçš„åŒºåˆ«
å›è½¦ï¼ˆ13ï¼‰ï¼šè¡¨ç¤ºå…‰æ ‡ç§»åŠ¨åˆ°&lt;strong&gt;å½“å‰è¡Œçš„å¼€å¤´&lt;/strong&gt;ï¼Œä½†ä¸æ”¹å˜è¡Œå·
æ¢è¡Œï¼ˆ10ï¼‰ï¼šè¡¨ç¤ºå…‰æ ‡&lt;strong&gt;ç§»åŠ¨åˆ°ä¸‹ä¸€è¡Œ&lt;/strong&gt;ï¼Œä½†ä¸ä¼šç§»åŠ¨åˆ°è¡Œé¦–&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;è°ƒç”¨æ˜¾ç¤ºå‡½æ•°æ¥å®ç°ç¡¬ä»¶å‚æ•°æ˜¾ç¤ºï¼š&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;asm&quot;&gt;&lt;pre class=&quot;language-asm&quot;&gt;&lt;code class=&quot;language-asm&quot;&gt;! å¼€å§‹æ˜¾ç¤ºå‚æ•°
! å‰é¢ä¿®æ”¹äº†dsæ•°æ®æ®µå¯„å­˜å™¨ï¼Œè¿™é‡Œå°†å…¶è®¾ç½®ä¸º0x9000
    mov ax,#INITSEG        ! è®¾ç½®æ•°æ®æ®µåœ°å€ï¼Œåç»­æ˜¾ç¤ºç¡¬ä»¶å‚æ•°ä½¿ç”¨
    mov ds,ax              ! 0x9000
    mov ax,#SETUPSEG       ! è®¾ç½®é™„åŠ æ®µåœ°å€ï¼Œåç»­æ˜¾ç¤ºå­—ç¬¦ä¸²ä½¿ç”¨
    mov    es,ax           ! 0x07e0

! æ˜¾ç¤º å…‰æ ‡ä½ç½®
    ! è·å–å…‰æ ‡ä½ç½®
    mov    ah,#0x03        
    xor    bh,bh
    int    0x10
    ! æ˜¾ç¤ºå­—ç¬¦ä¸²
    mov bp, #cur           ! ä¸² åç§»åœ°å€
    mov cx, #11            ! ä¸² é•¿åº¦
    mov bx, #0x0003        ! é¡µå· = 0 + é¢œè‰²è®¾ç½®ï¼ˆ03ï¼šé’è‰²ï¼Œ07ï¼šæ™®é€šç™½è‰²ï¼‰
    mov ax, #0x1301        ! æ˜¾ç¤ºå­—ç¬¦ä¸² + char...
    int 0x10
    ! æ˜¾ç¤ºæ•°å€¼
    mov ax, [0]            ! æ‰“å°å‡½æ•°å‚æ•°å­˜å…¥ ax
    call print_hex         ! è°ƒç”¨æ‰“å°å¯„å­˜å™¨å‡½æ•°
    call print_nl          ! æ‰“å°å›è½¦æ¢è¡Œ

! æ˜¾ç¤º å†…å­˜å¤§å°
    ! è·å–å…‰æ ‡ä½ç½®
    mov    ah,#0x03        
    xor    bh,bh
    int    0x10
    ! æ˜¾ç¤ºå­—ç¬¦ä¸²æç¤º
    mov bp, #mem
    mov cx, #12
    mov bx, #0x0007        
    mov ax, #0x1301        ! æ˜¾ç¤ºå­—ç¬¦ä¸² + char...
    int 0x10
    ! æ˜¾ç¤ºæ•°å€¼
    mov ax, [2]
    call print_hex
    ! æ˜¾ç¤º KB
    mov    ah,#0x03        ! read cursor pos
    xor    bh,bh
    int    0x10
    mov    cx,#6
    mov    bx,#0x0007      ! page 0, attribute c 
    mov    bp,#cyl
    mov    ax,#0x1301      ! write string, move cursor
    int    0x10

! æ— é™å¾ªç¯
inf_loop:
    jmp inf_loop

! æ˜¾ç¤ºå­—ç¬¦ä¸²
msg2:
    .byte    13,10         ! å›è½¦ + æ¢è¡Œ
    .ascii    &amp;quot;Now we are in SETUP&amp;quot;
    .byte    13,10,13,10

! å…‰æ ‡ä½ç½®
cur:
    .ascii    &amp;quot;Cursor POS:&amp;quot;

! å†…å­˜å¤§å°
mem:
    .ascii    &amp;quot;Memory SIZE:&amp;quot;

! æç¤ºä¿¡æ¯
cyl:
    .ascii &amp;quot;KB&amp;quot;
    .byte 13,10,13,10&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;è‡³æ­¤ï¼Œ&lt;strong&gt;å®éªŒä»»åŠ¡ä¸‰&lt;/strong&gt; å°±å®Œæˆäº†ï¼Œå®ç°æ•ˆæœå¦‚ä¸‹æ‰€ç¤ºã€‚&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 588px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/01bc8834332bf8b68ffe82970c938695/9bbaf/8.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 67.08860759493672%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB7ElEQVR42qVSTU8aURR98wEDM8NHYICJChp3/hCdgIktElO7wQ+6MY1QQtImQBeadiNoZ9Fta5OyMbHduPPPnZ47LcSaIE26ODn33Xlz7rn3XXV8cIDjZhOvDg/R63Tw8fwcV6MRri4u8Gk8Jo8Qji8RSo64ZG44GOD9cIjW0RFe7u+jfXqKTruND93XUC9OTtDs9fDm7Ayfb24wubvD19tbfPvD1z9+4pr8/f4eXyYThGGIbreLfr+PVquFJg1JPGCB3tt3UGapBMPzYBSL0ByHCRMqHodKJGas2UloqRSUZUEp9TTs5WWk1tfhEs7KCuylpYjdtTVYuRw0XtI0bca6rs8Q5R/kJFYmf7IomiyXYVcqSAgYJykoOT0W+11ZLgsWOSytrsLzfWQKhQg5xh4L5DkKO5uFybYNw0CMwsLaItEK2ytyhl4+jwLZp5CgxJn6RI4d+CxSZByXmS5ymE6nIXD4ICkO3rZtuORMJgPXdTH9nuDjyB2PRSWeKyiVs2xNnOTpUmIZsLT3+AEkZ3IL5DxXUFxIRWFx8OTlf4HLFh3C4o5NW1Q6V8TQ/nIqPA8PO1EGRWShLZmVLO//uBPU9/bwbHcXz+t1NBoN7NR2sBFsoByUsb21jc2tTQRBEKFaraJWq0U8xePzL29yYRvhcUYsAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/01bc8834332bf8b68ffe82970c938695/9bbaf/8.png&quot;
        srcset=&quot;/blog/static/01bc8834332bf8b68ffe82970c938695/c26ae/8.png 158w,
/blog/static/01bc8834332bf8b68ffe82970c938695/6bdcf/8.png 315w,
/blog/static/01bc8834332bf8b68ffe82970c938695/9bbaf/8.png 588w&quot;
        sizes=&quot;(max-width: 588px) 100vw, 588px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;è‡³æ­¤ï¼ŒLab2 å®éªŒä»‹ç»å®Œæ¯•ï¼Œæ–‡æœ«å°†é™„ä¸Š &lt;code class=&quot;language-text&quot;&gt;bootsect.s&lt;/code&gt; å’Œ &lt;code class=&quot;language-text&quot;&gt;setup.s&lt;/code&gt; å®Œæ•´ä»£ç åŠè¯¦ç»†æ³¨é‡Šã€‚&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;å®éªŒ Lab2 ä»£ç ä¸ Linux-0.11 ä»£ç çš„åŒºåˆ«åœ¨äº:&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Lab2 æ— éœ€å°† bootsect.s ä» 0x07c00 ç§»åŠ¨åˆ° 0x90000ï¼Œæ•…  setup.s å­˜æ”¾åœ¨å…¶å 0x07e00 æ®µä½ç½®å¤„ï¼Œä¹Ÿæ²¡æœ‰ç§»åŠ¨åˆ° 0x90200&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;å››ã€å®Œæ•´ä»£ç æ±‡æ€»&lt;/h3&gt;
&lt;p&gt;bootsect.s&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;asm&quot;&gt;&lt;pre class=&quot;language-asm&quot;&gt;&lt;code class=&quot;language-asm&quot;&gt;! å£°æ˜äº†å‡ ä¸ªå…¨å±€ç¬¦å·ï¼Œç”¨æ¥æ ‡è¯†ç¨‹åºçš„ä»£ç æ®µã€æ•°æ®æ®µå’Œæœªåˆå§‹åŒ–æ•°æ®æ®µçš„èµ·å§‹å’Œç»“æŸä½ç½®
.globl begtext, begdata, begbss, endtext, enddata, endbss
.text                 ! æ¥ä¸‹æ¥çš„æŒ‡ä»¤æ˜¯ ä»£ç æ®µ
begtext:              ! æ ‡è¯†ä»£ç æ®µçš„èµ·å§‹ä½ç½®
.data                 ! æ¥ä¸‹æ¥çš„æŒ‡ä»¤æ˜¯ æ•°æ®æ®µ
begdata:              ! æ ‡è¯†æ•°æ®æ®µçš„èµ·å§‹ä½ç½®
.bss                  ! æ¥ä¸‹æ¥çš„æŒ‡ä»¤æ˜¯ æœªåˆå§‹åŒ–æ•°æ®æ®µ
begbss:               ! æ ‡è¯†æœªåˆå§‹åŒ–æ•°æ®æ®µçš„èµ·å§‹ä½ç½®
.text                 ! æ¥ä¸‹æ¥çš„æŒ‡ä»¤æ˜¯ ä»£ç æ®µ


BOOTSEG = 0x07c0;     ! bootsect ç¨‹åºå¼€å§‹çš„åœ°å€
SETUPSEG = 0x07e0;    ! setup ç¨‹åºå¼€å§‹çš„åœ°å€ï¼ˆæ²¡æœ‰ç§»åŠ¨åˆ° 0x9000 å¤„ï¼‰
SETUPLEN = 4;         ! setup å ç”¨æ‰‡åŒºæ•°é‡

! æŒ‡å®šç¨‹åºçš„å…¥å£ç‚¹ ä¸º _start
entry _start
_start:

! ä»goæ ‡å·å¤„å¼€å§‹æ‰§è¡Œï¼Œå¹¶è®¾ç½®ä»£ç æ®µ cs = BOOTSEG
    jmpi    go,BOOTSEG
! è®¾ç½® ds=es=cs
go:    mov    ax,cs
    mov    ds,ax  
    mov    es,ax

! è¾“å‡ºä¸€äº›ä¿¡æ¯
    ! è¯»å…¥å…‰æ ‡ä½ç½®
    mov ah, #0x03
    xor bh, bh             ! æ˜¾ç¤ºé¡µç è®¾ç½®
    int 0x10

    ! è®¾ç½®å¼€æœºå¯åŠ¨å­—ç¬¦ä¸²
    mov cx, #26            ! å­—ç¬¦ä¸²é•¿åº¦ï¼ˆ20å­—ç¬¦+3ä¸ªå›è½¦+3ä¸ªæ¢è¡Œï¼‰
    mov bx, #0x0007        ! è®¾ç½® æ˜¾ç¤ºé¡µå· å’Œ å­—ç¬¦å±æ€§
    mov ax, #BOOTSEG       ! å­—ç¬¦ä¸² æ®µåœ°å€
    mov es, ax             ! ä¸èƒ½å°†ç«‹å³æ•°ç›´æ¥èµ‹ç»™æ®µå¯„å­˜å™¨ï¼Œax å……å½“ä¸´æ—¶å¯„å­˜å™¨
    mov bp, #msg1          ! å­—ç¬¦ä¸² åç§»åœ°å€
    mov ax, #0x1301        ! ah = 13H -&amp;gt; æ˜¾ç¤ºï¼Œ al = 01H -&amp;gt; è®¾ç½®æ–‡æœ¬æ¨¡å¼
    int 0x10               ! æ˜¾ç¤ºæœåŠ¡ä¸­æ–­

! åŠ è½½ setup.s ç¨‹åº
load_setup:
    mov    dx,#0x0000            ! è®¾ç½®é©±åŠ¨å™¨å’Œç£å¤´(drive 0, head 0)
    mov    cx,#0x0002            ! è®¾ç½®æ‰‡åŒºå·å’Œç£é“(sector 2, track 0)
    mov    bx,#0x0200            ! åç§»åœ°å€ä¸º 512 bytes
    mov    ax,#0x0200+SETUPLEN   ! ah=02Hï¼šä»ç£ç›˜è¯»æ•°æ®åˆ°å†…å­˜ï¼›al=04Hï¼Œè¯»å…¥å››ä¸ªæ‰‡åŒº
    int    0x13                  ! ä½çº§ç£ç›˜æœåŠ¡ä¸­æ–­
    jnc    ok_load_setup         ! åŠ è½½æˆåŠŸï¼Œè·³è½¬
    ï¼åŠ è½½é”™è¯¯
    mov    dx,#0x0000
    mov    ax,#0x0000            ! å¤ä½è½¯é©±
    int    0x13
    jmp load_setup               ! å†æ¬¡å°è¯•

! åŠ è½½æˆåŠŸåï¼Œå¼€å§‹æ‰§è¡Œsetupä»£ç 
ok_load_setup:
    jmpi 0,SETUPSEG


! æ˜¾ç¤ºå­—ç¬¦ä¸²
msg1:
    .byte    13,10               ! å›è½¦ + æ¢è¡Œ
    .ascii    &amp;quot;Joker is booting ...&amp;quot;
    .byte    13,10,13,10

! å°†å½“å‰ä½ç½®è®¾ç½®ä¸ºå†…å­˜åœ°å€ 510 å­—èŠ‚å¤„
.org 510                
! è®¾ç½®å¼•å¯¼æ‰‡åŒºæ ‡è®°
    .word    0xAA55               ! æŒ‡å®šå¼•å¯¼æ‰‡åŒºçš„æœ€åä¸¤ä¸ªå­—èŠ‚ï¼Œbootsectå¿…é¡»ä»¥å®ƒç»“å°¾ï¼Œæ‰èƒ½å¼•å¯¼

.text            
endtext:        ! æ ‡è¯†ä»£ç æ®µçš„ç»“æŸä½ç½®
.data
enddata:        ! æ ‡è¯†æ•°æ®æ®µçš„ç»“æŸä½ç½®
.bss
endbss:         ! æ ‡è¯†æœªåˆå§‹åŒ–æ•°æ®æ®µçš„ç»“æŸä½ç½®&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;setup.s&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;asm&quot;&gt;&lt;pre class=&quot;language-asm&quot;&gt;&lt;code class=&quot;language-asm&quot;&gt;BOOTSEG = 0x07c0;        ! bootsect è¯»å…¥æ®µåœ°å€
INITSEG = 0x9000;        ! åˆå§‹æ•°æ®æ®µå­˜æ”¾çš„ä½ç½®
SETUPSEG = 0x07e0;       ! setup ç¨‹åºå¼€å§‹çš„åœ°å€ï¼ˆæ²¡æœ‰ç§»åŠ¨åˆ° 0x9000 å¤„ï¼‰

! æŒ‡å®šç¨‹åºçš„å…¥å£ç‚¹ ä¸º _start
entry _start
_start:

! ä»goæ ‡å·å¤„å¼€å§‹æ‰§è¡Œï¼Œå¹¶è®¾ç½®ä»£ç æ®µ cs = SETUPSEG
    jmpi    go,SETUPSEG
! è®¾ç½® ds=es=cs
go:    mov    ax,cs
    mov    ds,ax  
    mov    es,ax

! è¾“å‡ºä¸€äº›ä¿¡æ¯
    ! è¯»å…¥å…‰æ ‡ä½ç½®
    mov ah, #0x03
    xor bh, bh
    int 0x10

    ! è®¾ç½®å¼€æœºå¯åŠ¨å­—ç¬¦ä¸²
    mov cx, #25            ! å­—ç¬¦ä¸²é•¿åº¦ï¼ˆ20å­—ç¬¦+3ä¸ªå›è½¦+3ä¸ªæ¢è¡Œï¼‰
    mov bx, #0x0007        ! è®¾ç½® æ˜¾ç¤ºé¡µå· å’Œ å­—ç¬¦å±æ€§
    mov ax, cs             ! ä½¿ç”¨cså€¼è·å– æ®µåœ°å€
    mov es, ax             ! ax å……å½“ä¸´æ—¶å¯„å­˜å™¨
    mov bp, #msg2          ! å­—ç¬¦ä¸² åç§»åœ°å€
    mov ax, #0x1301        ! ah = 13H -&amp;gt; æ˜¾ç¤ºï¼Œ al = 01H -&amp;gt; è®¾ç½®æ–‡æœ¬æ¨¡å¼
    int 0x10


! è®¾ç½®æ•°æ®æ®µdsï¼Œå°†ç¡¬ä»¶å‚æ•°å–å‡ºæ¥æ”¾åœ¨å†…å­˜ 0x90000
    mov ax, #INITSEG
    mov ds, ax             ! æ•°æ®æ®µåœ°å€ ds = 0x9000

! è¯»å…‰æ ‡ä½ç½®ï¼Œå­˜å…¥æ•°æ®æ®µ
    mov ah, #0x03          ! AH = 3 -&amp;gt; è¯»å…‰æ ‡ä½ç½®
    xor bh, bh             ! æ˜¾ç¤ºé¡µæ•° = 0
    int 0x10
    ! å°†å…‰æ ‡ä½ç½®å†™å…¥ 0x90000.
    mov [0], dx

! è¯»å…¥å†…å­˜å¤§å°ä½ç½®
    mov ah, #0x88          ! AH = 0x88 -&amp;gt; è¯»å…¥å†…å­˜å¤§å°
    int 0x15
    mov [2], ax            ! å­˜å…¥ 9000 åé¢ä¸¤ä¸ªåç§»

! è·å–ç£ç›˜å‚æ•°è¡¨ï¼Œä» 0x41 å¤„æ‹·è´ 16 ä¸ªå­—èŠ‚
    mov ax, #0x0000        ! ä¸å…è®¸ç›´æ¥å°†ç«‹å³æ•°åŠ è½½åˆ°æ®µå¯„å­˜å™¨ï¼Œéœ€è¦ä½¿ç”¨é€šç”¨å¯„å­˜å™¨ax
    mov ds, ax             ! æ•°æ®æ®µåœ°å€ ds = 0x0000
    lds    si,[4*0x41]     ! å–ä¸­æ–­å‘é‡ 41 çš„å€¼ï¼Œå³ hd0 å‚æ•°è¡¨çš„åœ°å€ ds:si
    mov    ax,INITSEG
    mov    es,ax
    mov    di,#0x0080      ! ä¼ è¾“çš„ç›®çš„åœ°å€: es:di = 9000:0080
    mov    cx,#0x10        ! é‡å¤æ‰§è¡Œæ¬¡æ•° = 16
    rep                    ! é‡å¤æ‰§è¡Œmovsb, DS:SI -&amp;gt; ES:DI
    movsb                  ! æ¯æ‰§è¡Œä¸€æ¬¡ movsb æŒ‡ä»¤ï¼Œæºåœ°å€å’Œç›®çš„åœ°å€çš„åç§»éƒ½ä¼šè‡ªåŠ¨é€’å¢


! å¼€å§‹æ˜¾ç¤ºå‚æ•°
! å‰é¢ä¿®æ”¹äº†dsæ•°æ®æ®µå¯„å­˜å™¨ï¼Œè¿™é‡Œå°†å…¶è®¾ç½®ä¸º0x9000
    mov ax,#INITSEG        ! è®¾ç½®æ•°æ®æ®µåœ°å€ï¼Œåç»­æ˜¾ç¤ºç¡¬ä»¶å‚æ•°ä½¿ç”¨
    mov ds,ax              ! 0x9000
    mov ax,#SETUPSEG       ! è®¾ç½®é™„åŠ æ®µåœ°å€ï¼Œåç»­æ˜¾ç¤ºå­—ç¬¦ä¸²ä½¿ç”¨
    mov    es,ax           ! 0x07e0

! æ˜¾ç¤º å…‰æ ‡ä½ç½®
    ! è·å–å…‰æ ‡ä½ç½®
    mov    ah,#0x03        
    xor    bh,bh
    int    0x10
    ! æ˜¾ç¤ºå­—ç¬¦ä¸²
    mov bp, #cur           ! ä¸² åç§»åœ°å€
    mov cx, #11            ! ä¸² é•¿åº¦
    mov bx, #0x0003        ! é¡µå· = 0 + é¢œè‰²è®¾ç½®ï¼ˆ03ï¼šé’è‰²ï¼Œ07ï¼šæ™®é€šç™½è‰²ï¼‰
    mov ax, #0x1301        ! æ˜¾ç¤ºå­—ç¬¦ä¸² + char...
    int 0x10
    ! æ˜¾ç¤ºæ•°å€¼
    mov ax, [0]            ! æ‰“å°å‡½æ•°å‚æ•°å­˜å…¥ ax
    call print_hex         ! è°ƒç”¨æ‰“å°å¯„å­˜å™¨å‡½æ•°
    call print_nl          ! æ‰“å°å›è½¦æ¢è¡Œ

! æ˜¾ç¤º å†…å­˜å¤§å°
    ! è·å–å…‰æ ‡ä½ç½®
    mov    ah,#0x03        
    xor    bh,bh
    int    0x10
    ! æ˜¾ç¤ºå­—ç¬¦ä¸²æç¤º
    mov bp, #mem
    mov cx, #12
    mov bx, #0x0007        
    mov ax, #0x1301        ! æ˜¾ç¤ºå­—ç¬¦ä¸² + char...
    int 0x10
    ! æ˜¾ç¤ºæ•°å€¼
    mov ax, [2]
    call print_hex
    ! æ˜¾ç¤º KB
    mov    ah,#0x03        ! read cursor pos
    xor    bh,bh
    int    0x10
    mov    cx,#6
    mov    bx,#0x0007      ! page 0, attribute c 
    mov    bp,#cyl
    mov    ax,#0x1301      ! write string, move cursor
    int    0x10


! æ— é™å¾ªç¯
inf_loop:
    jmp inf_loop

! ä»¥ 16 è¿›åˆ¶ æ‰“å°å¯„å­˜å™¨ ax ä¸­çš„16ä½æ•°
print_hex:
    mov cx, #4             ! å¾ªç¯æ¬¡æ•°s
    mov dx,ax              ! å°†axæ‰€æŒ‡çš„å€¼æ”¾å…¥dxä¸­ï¼Œaxä½œä¸ºå‚æ•°ä¼ é€’å¯„å­˜å™¨
print_digit:
    rol dx,#4              ! å°† DX å¯„å­˜å™¨ä¸­çš„å€¼å‘å·¦å¾ªç¯ç§»ä½ 4 ä½ï¼Œç›¸å½“äºå°† é«˜4ä½ ç§»åˆ° ä½4ä½
    mov ax,#0xe0f          ! ah = 0eh -&amp;gt; æ˜¾ç¤ºå­—ç¬¦, al = å­—ç¬¦ï¼šåŠå­—èŠ‚(4ä¸ªæ¯”ç‰¹)æ©ç ã€‚
    and al,dl              ! å– dl çš„ä½4æ¯”ç‰¹å€¼ã€‚
    add al,#0x30           ! ç»™alæ•°å­—åŠ ä¸Šåå…­è¿›åˆ¶ 0x30, 0~9 + 0x30 = &amp;quot;0~9&amp;quot;
    cmp al,#0x3a           ! åˆ¤æ–­ al æ˜¯å¦å¤§äº å­—ç¬¦ 9
    jl outp                ! al &amp;lt; æ•°å­—&amp;quot;9&amp;quot;åé¢çš„å­—ç¬¦ï¼Œè¯´æ˜æ˜¯ 0ï½9ï¼Œåˆ™è·³è½¬
    add al,#0x07           ! al &amp;gt; &amp;quot;9&amp;quot;, æ˜¯a~f,è¦å¤šåŠ 7h
outp:
    int 0x10               ! æ‰“å°å­—ç¬¦å­˜å‚¨åœ¨ al ä¸­
    loop print_digit       ! cx = 4,å¾ªç¯å››æ¬¡
    ret                    ! å‡½æ•°è¿”å›æŒ‡ä»¤ï¼Œè¡¨ç¤ºå‡½æ•°æ‰§è¡Œç»“æŸï¼Œè¿”å›åˆ°è°ƒç”¨è¯¥å‡½æ•°çš„ä½ç½®

! æ‰“å°å›è½¦æ¢è¡Œ
print_nl:
    mov ax, #0x0e0d
    int 0x10
    mov al, #0x0a
    int 0x10
    ret

! æ˜¾ç¤ºå­—ç¬¦ä¸²
msg2:
    .byte    13,10        ! å›è½¦ + æ¢è¡Œ
    .ascii    &amp;quot;Now we are in SETUP&amp;quot;
    .byte    13,10,13,10

! å…‰æ ‡ä½ç½®
cur:
    .ascii    &amp;quot;Cursor POS:&amp;quot;

! å†…å­˜å¤§å°
mem:
    .ascii    &amp;quot;Memory SIZE:&amp;quot;

! æç¤ºä¿¡æ¯
cyl:
    .ascii &amp;quot;KB&amp;quot;
    .byte 13,10,13,10&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[ã€å“ˆå·¥å¤§_æ“ä½œç³»ç»Ÿå®éªŒã€‘Lab1 ç†Ÿæ‚‰å®éªŒç¯å¢ƒ]]></title><description><![CDATA[Githubä»£ç ä»“åº“é“¾æ¥ æœ¬ç³»åˆ—æ–‡ç« ä¸»è¦æ›´æ–°å“ˆå·¥å¤§ã€Šæ“ä½œç³»ç»Ÿã€‹è¯¾ç¨‹å¯¹åº”çš„9ä¸ªLabå®éªŒï¼ˆåŒ…æ‹¬ç†Ÿæ‚‰å®éªŒç¯å¢ƒï¼‰ï¼Œæä¾›äº†éå¸¸è¯¦ç»†çš„ç¯å¢ƒé…ç½®æ–¹æ³•ä»¥åŠæŒ‰ç…§æŒ‡å¯¼ä¹¦å±•å¼€çš„è¯¦ç»†æ“ä½œæ­¥éª¤ï¼Œå¸Œæœ›å¯¹å¤§å®¶æœ‰æ‰€å¸®åŠ©ã€‚ å®éªŒçš„åŸºæœ¬æµç¨‹æ˜¯æ ¹æ®å®éªŒè¦æ±‚ç¼–å†™åº”ç”¨ç¨‹åºã€ä¿®æ”¹ Linux 0.1â€¦]]></description><link>https://gatsbystarterblogsource.gatsbyjs.io/010_HIT_OS_Lab1/</link><guid isPermaLink="false">https://gatsbystarterblogsource.gatsbyjs.io/010_HIT_OS_Lab1/</guid><pubDate>Wed, 21 Aug 2024 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;a href=&quot;https://github.com/Joker001014/HIT-OSlab&quot;&gt;Githubä»£ç ä»“åº“é“¾æ¥&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æœ¬ç³»åˆ—æ–‡ç« ä¸»è¦æ›´æ–°å“ˆå·¥å¤§ã€Šæ“ä½œç³»ç»Ÿã€‹è¯¾ç¨‹å¯¹åº”çš„9ä¸ªLabå®éªŒï¼ˆåŒ…æ‹¬ç†Ÿæ‚‰å®éªŒç¯å¢ƒï¼‰ï¼Œæä¾›äº†éå¸¸è¯¦ç»†çš„ç¯å¢ƒé…ç½®æ–¹æ³•ä»¥åŠæŒ‰ç…§æŒ‡å¯¼ä¹¦å±•å¼€çš„è¯¦ç»†æ“ä½œæ­¥éª¤ï¼Œå¸Œæœ›å¯¹å¤§å®¶æœ‰æ‰€å¸®åŠ©ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;å®éªŒçš„åŸºæœ¬æµç¨‹æ˜¯æ ¹æ®å®éªŒè¦æ±‚ç¼–å†™åº”ç”¨ç¨‹åºã€ä¿®æ”¹ &lt;strong&gt;Linux 0.11&lt;/strong&gt; çš„æºä»£ç ï¼Œç”¨ gcc ç¼–è¯‘åï¼Œåœ¨ Bochs çš„è™šæ‹Ÿç¯å¢ƒä¸­è¿è¡Œã€è°ƒè¯•ç›®æ ‡ä»£ç ã€‚æ³¨ï¼šç¬”è€…æ˜¯åœ¨ &lt;code class=&quot;language-text&quot;&gt;Ubuntu20.04&lt;/code&gt; å¹³å°ä¸Šè¿›è¡Œå®éªŒã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;ä¸€ã€å®éªŒå·¥å…·å‡†å¤‡ï¼š&lt;/h3&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;æ–‡ä»¶å&lt;/th&gt;
&lt;th&gt;ä»‹ç»&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;hit-æ“ä½œç³»ç»Ÿå®éªŒæŒ‡å¯¼ä¹¦.pdf&lt;/td&gt;
&lt;td&gt;å“ˆå·¥å¤§OSå®éªŒæŒ‡å¯¼ä¹¦&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Linuxå†…æ ¸å®Œå…¨æ³¨é‡Š(ä¿®æ­£ç‰ˆv3.0).pdf&lt;/td&gt;
&lt;td&gt;èµµåšå£«å¯¹Linux v0.11 OSè¿›è¡Œäº†è¯¦ç»†å…¨é¢çš„æ³¨é‡Šå’Œè¯´æ˜&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;file1615.pdf&lt;/td&gt;
&lt;td&gt;BIOS æ¶‰åŠçš„ä¸­æ–­æ•°æ®æ‰‹å†Œ&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;hit-oslab-linux-20110823.tar.gz&lt;/td&gt;
&lt;td&gt;hit-oslab å®éªŒç¯å¢ƒ&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;gcc-3.4-ubuntu.tar.gz&lt;/td&gt;
&lt;td&gt;Linux v0.11 æ‰€ä½¿ç”¨çš„ç¼–è¯‘å™¨&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&quot;https://joker001014.github.io/blog/019_HIT_OS_Bochs&quot;&gt;Bochs æ±‡ç¼–çº§è°ƒè¯•æŒ‡ä»¤&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;bochs åŸºæœ¬è°ƒè¯•æŒ‡ä»¤å¤§å…¨&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3&gt;äºŒã€å®éªŒç¯å¢ƒé…ç½®&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;1ã€æ–‡ä»¶ç»“æ„&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ä¸‹è½½ &lt;code class=&quot;language-text&quot;&gt;hit-oslab-linux-20110823.tar.gz&lt;/code&gt; å‹ç¼©åŒ…ï¼Œå¹¶å°†å…¶è§£å‹ï¼Œå°†å¾—åˆ°å¦‚ä¸‹æ–‡ä»¶ï¼š&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/d000a9524f70a05793eceb46cc7b88ac/748b0/1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 24.68354430379747%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA3ElEQVR42n2PS6vCMBCF8+e0plLqH5S7E3f3giv3rlyL4kpBwdY+Ytu09kXPzQxWXKiBjzOTM5mZCGck4Y7HsIdDTGzbqAVXSowGg69Iy4I0bzh/qOs4EMu/BdarFfabLX5nM4TXAPPpD/zLBVEUQSn1JEkSvkvTFJ7nsQZBwF4cx7j6PsTpfIJnAp3nOByPqOsa290OZVlyUVEUTG78pmmgtQadLMvQdR3CMMS9vHOubgqCitq2ZTg29HfUnHh6b/TVp1jQujfTmRKtMzZoalVVvEE/7BP9D2hD4h9TYFaS8Z7LXAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/d000a9524f70a05793eceb46cc7b88ac/f058b/1.png&quot;
        srcset=&quot;/blog/static/d000a9524f70a05793eceb46cc7b88ac/c26ae/1.png 158w,
/blog/static/d000a9524f70a05793eceb46cc7b88ac/6bdcf/1.png 315w,
/blog/static/d000a9524f70a05793eceb46cc7b88ac/f058b/1.png 630w,
/blog/static/d000a9524f70a05793eceb46cc7b88ac/748b0/1.png 868w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;â€¢ Image æ–‡ä»¶&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;oslab å·¥ä½œåœ¨ä¸€ä¸ªå®¿ä¸»æ“ä½œç³»ç»Ÿä¹‹ä¸Šï¼Œæˆ‘ä»¬ä½¿ç”¨çš„ Linuxï¼Œåœ¨å®¿ä¸»æ“ä½œç³»ç»Ÿä¹‹ä¸Šå®Œæˆå¯¹ Linux0.11 çš„å¼€å‘ã€ä¿®æ”¹å’Œç¼–è¯‘ä¹‹åï¼Œåœ¨ linux-0.11 ç›®å½•ä¸‹ä¼šç”Ÿäº§ä¸€ä¸ªåä¸º Image çš„æ–‡ä»¶ï¼Œå®ƒå°±æ˜¯ç¼–è¯‘ä¹‹åçš„ç›®æ ‡æ–‡ä»¶ã€‚
è¯¥æ–‡ä»¶å†…å·²ç»åŒ…å«å¼•å¯¼å’Œæ‰€æœ‰å†…æ ¸çš„äºŒè¿›åˆ¶ä»£ç ã€‚å¦‚æœæ‹¿æ¥ä¸€å¼ è½¯ç›˜ï¼Œä»å®ƒçš„ 0 æ‰‡åŒºå¼€å§‹ï¼Œé€å­—èŠ‚å†™å…¥ Image æ–‡ä»¶çš„å†…å®¹ï¼Œå°±å¯ä»¥ç”¨è¿™å¼ è½¯ç›˜å¯åŠ¨ä¸€å°çœŸæ­£çš„è®¡ç®—æœºï¼Œå¹¶è¿›å…¥ Linux0.11 å†…æ ¸ã€‚
oslab é‡‡ç”¨ bochs æ¨¡æ‹Ÿå™¨åŠ è½½è¿™ä¸ª Image æ–‡ä»¶ï¼Œæ¨¡æ‹Ÿæ‰§è¡Œ Linux 0.11ï¼Œè¿™æ ·çœå´äº†é‡æ–°å¯åŠ¨è®¡ç®—æœºçš„éº»çƒ¦ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;â€¢ bochs ç›®å½•&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;bochs ç›®å½•ä¸‹æ˜¯ä¸ bochs ç›¸å…³çš„æ‰§è¡Œæ–‡ä»¶ã€æ•°æ®æ–‡ä»¶å’Œé…ç½®æ–‡ä»¶ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;â€¢ run è„šæœ¬&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;bochs ç›®å½•ä¸‹æ˜¯ä¸ bochs ç›¸å…³çš„æ‰§è¡Œæ–‡ä»¶ã€æ•°æ®æ–‡ä»¶å’Œé…ç½®æ–‡ä»¶ã€‚run æ˜¯è¿è¡Œ bochs çš„è„šæœ¬å‘½ä»¤ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;è¿è¡Œå bochs ä¼šè‡ªåŠ¨åœ¨å®ƒçš„è™šæ‹Ÿè½¯é©± A å’Œè™šæ‹Ÿç¡¬ç›˜ä¸Šå„æŒ‚è½½ä¸€ä¸ªé•œåƒæ–‡ä»¶ï¼Œ&lt;strong&gt;è½¯é©±ä¸ŠæŒ‚è½½æ˜¯linux-0.11/Imageï¼Œç¡¬ç›˜ä¸ŠæŒ‚è½½çš„æ˜¯ hdc-0.11.img&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;â€¢ hdc-0.11.img æ–‡ä»¶&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;hdc-0.11.img æ–‡ä»¶çš„æ ¼å¼æ˜¯ Minix æ–‡ä»¶ç³»ç»Ÿçš„é•œåƒã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Linux æ‰€æœ‰ç‰ˆæœ¬éƒ½æ”¯æŒè¿™ç§æ ¼å¼çš„æ–‡ä»¶ç³»ç»Ÿï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥åœ¨å®¿ä¸» Linux ä¸Šé€šè¿‡ mount å‘½ä»¤è®¿é—®æ­¤æ–‡ä»¶å†…çš„æ–‡ä»¶ï¼Œè¾¾åˆ°å®¿ä¸»ç³»ç»Ÿå’Œ bochs å†…è¿è¡Œçš„ Linux 0.11 ä¹‹é—´äº¤æ¢æ–‡ä»¶çš„æ•ˆæœã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;2ã€ä½¿ç”¨æ–¹æ³•&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ï¼ˆ1ï¼‰è¿›å…¥ linux-0.11 ç›®å½•è¿›è¡Œç¼–è¯‘&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;cd&lt;/span&gt; ~/my_space/OS_HIT/oslab/linux-0.11
&lt;span class=&quot;token function&quot;&gt;make&lt;/span&gt; all&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ç»“å°¾å‡ºç° &lt;code class=&quot;language-text&quot;&gt;sync&lt;/code&gt; åˆ™è¡¨ç¤ºæˆåŠŸã€‚&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/f8a3085283b26156b8a89e6c7fa8ae39/2e195/2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 34.810126582278485%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAAA9ElEQVR42pWR2U7DMBBFnU1Zndiuk/JDXVxS3igJamv6/x9x8UxBCCkIeDjyMp6Ze8dinmb4q8flfIb3Hre3G17nGdvNBuM44ul4xMEd4JzDbrtjxscRbr/H6fmE6WX6hsiyDHmeoygKJg9UVQW6j6IIcRzzKoT4G0pp2NUK6/UDjDGo6xpt26IsCyRJgjRNGWrAfOwptoQYhgFGm1BMQ2sN2UhI2aJpGj53XQulFO+rsoTSKsQkK19UyAWDMkqildSJSNxtMveHn7Z/tW/7ngtZa6FDUZrfv2YmvhpyXtcptkfQrH5KWIrRZ5IYKSX6IIxcvgNAd6doIukpygAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/f8a3085283b26156b8a89e6c7fa8ae39/f058b/2.png&quot;
        srcset=&quot;/blog/static/f8a3085283b26156b8a89e6c7fa8ae39/c26ae/2.png 158w,
/blog/static/f8a3085283b26156b8a89e6c7fa8ae39/6bdcf/2.png 315w,
/blog/static/f8a3085283b26156b8a89e6c7fa8ae39/f058b/2.png 630w,
/blog/static/f8a3085283b26156b8a89e6c7fa8ae39/2e195/2.png 782w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;ï¼ˆ2ï¼‰è¿è¡Œ&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;/run&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;å¦‚æœå‡ºç° Bochs çš„çª—å£ï¼Œé‡Œé¢æ˜¾ç¤º linux çš„å¼•å¯¼è¿‡ç¨‹ï¼Œæœ€ååœæ­¢åœ¨ [/usr/root/]#ï¼Œè¡¨ç¤ºè¿è¡ŒæˆåŠŸ&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/a8b68b316a8910acdc6bacd87db2a7c0/01dae/3.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 66.45569620253164%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAACAklEQVR42pVUTW8SURQdBhg+huFrgAFpS0tJCJjuWBMIHyGwBBeEaU2a8BHdmdSiJkWkQ/0B7uzKWDVNion8wOO9ry2RqBUXJ2fey7vnnnvveyOZ3S6eHh7iyDTxbDTC6/EYF5aFuXWOi3OLcMvv53PiGazZDK9OT/Hy5ARmr4cnnQ4G/T5GgwHOnvchdY+PcUSLF5MJPlxe4tvNDT5dX+MzMeNqscDV9wW+LH/g63KJj3RmTEmn76YYDofok9jb6RQzSvzmbALJtb0Nu2FA2dqC7PVCcjho0wXJ7YbkdEKS5XVI0hpsNpvAai8Qj8ObSkHd2YG2vw8tk4Fvb++WaV8mEfkuiCHWd/h1vRIO7u7CGQ7DzS4jEcGuaBRKKAQlFoOsKL+5ehCPDw5gkMsIBccTCRiERDKJRwSdEqg+H/yaBo2gbCKeoTLD5EYnl1Fyxt9REtJ1XaxjnIgSBoNBeDweeKnPDu7z3wQT5MhHLtiB3+8XgezETUNx0XBYhJlFeC8QCDzsNEmlqaoqDrIwB61N7X+RTqcRpnINGgaXyW7kP1yPjVEoFJDP55HL5ZCia5LNZgXf9+ueuUwu+1+QOJj7x+VyD0M0FO6j3W4XB5gZG7ehR++x0WigXC6jVCqhWCyiWq2iXq+jUqmgVqut0Gw2BVqtluB2u40OvWWGSf8C5p99U2TUyw1WqQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/a8b68b316a8910acdc6bacd87db2a7c0/f058b/3.png&quot;
        srcset=&quot;/blog/static/a8b68b316a8910acdc6bacd87db2a7c0/c26ae/3.png 158w,
/blog/static/a8b68b316a8910acdc6bacd87db2a7c0/6bdcf/3.png 315w,
/blog/static/a8b68b316a8910acdc6bacd87db2a7c0/f058b/3.png 630w,
/blog/static/a8b68b316a8910acdc6bacd87db2a7c0/01dae/3.png 721w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;ï¼ˆ3ï¼‰è°ƒè¯•&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ±‡ç¼–çº§è°ƒè¯•ï¼šOSæ±‡ç¼–çº§è¯¦ç»†çš„è°ƒè¯•æ–¹æ³•è¯·å‚è€ƒæ–‡ç«  &lt;a href=&quot;https://joker001014.github.io/blog/019_HIT_OS_Bochs&quot;&gt;ã€å“ˆå·¥å¤§_æ“ä½œç³»ç»Ÿã€‘Bochs æ±‡ç¼–çº§è°ƒè¯•æ–¹æ³•åŠæŒ‡ä»¤&lt;/a&gt;ã€‚è¿™ç¯‡åšæ–‡è¯¦ç»†ä»‹ç»äº† Bochs æ±‡ç¼–çº§è°ƒè¯•çš„æ–¹æ³•ï¼ŒåŒæ—¶åç»­è®¾è®¡åˆ°çš„ Bochs å¸¸ç”¨æŒ‡ä»¤ä¹Ÿéƒ½å¯ä»¥åœ¨è¿™ç¯‡åšæ–‡ä¸­æŸ¥åˆ°ã€‚&lt;/li&gt;
&lt;li&gt;Cè¯­è¨€çº§è°ƒè¯•ï¼šå°†ä¼šåœ¨åç»­ä½¿ç”¨æ—¶æ›´æ–°ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ï¼ˆ4ï¼‰æ–‡ä»¶äº¤æ¢
æ¥ä¸‹æ¥è®²è§£ä¸€ä¸‹ Ubuntu å’Œ Linux 0.11 ä¹‹é—´çš„æ–‡ä»¶äº¤æ¢å¦‚ä½•å¯åŠ¨ã€‚
&lt;code class=&quot;language-text&quot;&gt;å¼€å§‹è®¾ç½®æ–‡ä»¶äº¤æ¢ä¹‹å‰ï¼ŒåŠ¡å¿…å…³é—­æ‰€æœ‰çš„ Bochs è¿›ç¨‹ã€‚&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;slab ä¸‹çš„ hdc-0.11-new.img æ˜¯ 0.11 å†…æ ¸å¯åŠ¨åçš„æ ¹æ–‡ä»¶ç³»ç»Ÿé•œåƒæ–‡ä»¶ï¼Œç›¸å½“äºåœ¨ bochs è™šæ‹Ÿæœºé‡Œè£…è½½çš„ç¡¬ç›˜ã€‚åœ¨å¯åŠ¨æŒ‚è½½ä¹‹å‰æ‰“å¼€ &lt;code class=&quot;language-text&quot;&gt;hdc&lt;/code&gt; æ–‡ä»¶å¤¹æ—¶æ˜¾ç¤ºå†…å®¹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 344px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/e043196b8ec8a4a8fe057874e21b54f5/75d93/4.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 36.708860759493675%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAABTklEQVR42p1P226CUBDkb0yf1Ug00Zq2AiLFGq0oNX6ggPAzbZ96URJbGhXUKDHg9OxJMe1rTzKZvczs7hHkRgNG7x7dTgdDw8Cw30dTkqAqCkamCaPbgzkYoHF1BV3TMB6NYDId5Xd6G+MHE1qziTbrlUURglgsQpFkaKoKXW3xZkUsoVwSocoKWoqMG2Yu5vOo12rQWxqrSygVCris1nDbVFCtlHFdr+Mil4PguS4c28Z06sCaTGBbFouncBl43XE4k47qFuvbP7nLPKQnLek8z4OAXy9JEpxOpzP/5wlkJqRpisPhgHC9RhzHSJMUWS9bQCBdxlmcgXTnC2M27GOxQBB8wZ/PEIbReSsZ9/s9drsdX0rx8XjkvGYHUH21WnGdkH0tCkO8vb7gfTbH89MjPoPgz8Dtdovlcsk5iiI+ZLPZYMGOoGG+7/MLvwHU8L8ASXnq5AAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/e043196b8ec8a4a8fe057874e21b54f5/75d93/4.png&quot;
        srcset=&quot;/blog/static/e043196b8ec8a4a8fe057874e21b54f5/c26ae/4.png 158w,
/blog/static/e043196b8ec8a4a8fe057874e21b54f5/6bdcf/4.png 315w,
/blog/static/e043196b8ec8a4a8fe057874e21b54f5/75d93/4.png 344w&quot;
        sizes=&quot;(max-width: 344px) 100vw, 344px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åœ¨ Ubuntu ä¸Šè®¿é—®å…¶å†…å®¹çš„æ–¹æ³•ï¼š&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;cd&lt;/span&gt; oslab
&lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; ./mount-hdc     // å¯åŠ¨æŒ‚è½½è„šæœ¬&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;æˆåŠŸæŒ‚è½½åï¼Œ&lt;code class=&quot;language-text&quot;&gt;hdc&lt;/code&gt; æ–‡ä»¶å¤¹æ˜¾ç¤ºå†…å®¹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/d84ff52f51efff3d71071a91ed5fafed/8bd7c/5.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 17.72151898734177%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAzklEQVR42nWPTWvCUBBF8//BIkILggt10ZXgogs/UIMuJBq0UEh0oehKDSnSNGl58b280yRQTCteGGY4M3eYMV6tKZ/ngFrpgUQrBu0Xxr0u4ltQL1eIwoDZaEKn1UJeJM3KI+/eibf5gnazQabnpyob18lrY7PdEscxQ9NEJxp3vcJxV6hE0e33iaIvdvsd9nKZG8zJmI8g4HA8MLPtnE0ti5PnoZTCyJZl0lpzlb5l+j77VZIeYfi+/2ewaCiy//08pyGlTL+IEEIQhiE/JxIrdpkGQfwAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/d84ff52f51efff3d71071a91ed5fafed/f058b/5.png&quot;
        srcset=&quot;/blog/static/d84ff52f51efff3d71071a91ed5fafed/c26ae/5.png 158w,
/blog/static/d84ff52f51efff3d71071a91ed5fafed/6bdcf/5.png 315w,
/blog/static/d84ff52f51efff3d71071a91ed5fafed/f058b/5.png 630w,
/blog/static/d84ff52f51efff3d71071a91ed5fafed/8bd7c/5.png 845w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;è¯»å†™å®Œæ¯•ï¼Œä¸è¦å¿˜äº†å¸è½½è¿™ä¸ªæ–‡ä»¶ç³»ç»Ÿï¼š&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;&lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;umount&lt;/span&gt; hdc&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ç»è¿‡ sudo ./mount-hdc è¿™æ ·å¤„ç†ä»¥åï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ Ubuntu çš„ hdc ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª xxx.cæ–‡ä»¶ï¼Œç„¶ååˆ©ç”¨ Ubuntu ä¸Šçš„ç¼–è¾‘å·¥å…·ï¼ˆå¦‚ gedit ç­‰ï¼‰å®ç°å¯¹ xxx.c æ–‡ä»¶çš„ç¼–è¾‘å·¥ä½œï¼Œåœ¨ç¼–è¾‘ä¿å­˜ä»¥åã€‚&lt;/p&gt;
&lt;p&gt;æ‰§è¡Œ sudo umount hdc åï¼Œå†è¿›å…¥ Linux 0.11ï¼ˆå³ run å¯åŠ¨ bochs ä»¥åï¼‰å°±ä¼šçœ‹åˆ°è¿™ä¸ªxxx.cï¼Œè¿™æ ·å°±é¿å…äº†åœ¨ Linux 0.11 ä¸Šè¿›è¡Œç¼–è¾‘ xxx.c çš„éº»çƒ¦ï¼Œå› ä¸ºLinux 0.11 ä½œä¸ºä¸€ä¸ªå¾ˆå°çš„æ“ä½œç³»ç»Ÿï¼Œå…¶ä¸Šçš„ç¼–è¾‘å·¥å…·åªæœ‰ viï¼Œä½¿ç”¨èµ·æ¥éå¸¸ä¸ä¾¿ã€‚&lt;/p&gt;</content:encoded></item><item><title><![CDATA[ã€å“ˆå·¥å¤§_æ“ä½œç³»ç»Ÿã€‘x86_64 å¸¸ç”¨å¯„å­˜å™¨å¤§å…¨]]></title><description><![CDATA[Githubä»£ç ä»“åº“é“¾æ¥ åœ¨å­¦ä¹ CPUåº•å±‚æŠ€æœ¯çš„æ—¶å€™ï¼Œéš¾å…ä¼šæ¥è§¦åˆ°å„å¼å„æ ·çš„å¯„å­˜å™¨ã€‚å°¤å…¶æ˜¯åœ¨ä½¿ç”¨æ±‡ç¼–è¯­è¨€ç¼–å†™æ“ä½œç³»ç»Ÿæ—¶ï¼Œå¯„å­˜å™¨æ›´æ˜¯å¿…ä¸å¯å°‘çš„ã€‚å› æ­¤ï¼Œè¿™ç¯‡æ–‡ç« å°†æ¥è¯¦ç»†èŠèŠ x86_64 æ¶æ„ä¸­çš„æ‰€æœ‰å¯„å­˜å™¨ï¼ŒæŒ‰ç…§ä»  çš„é¡ºåºæ¥è¿›è¡Œä»‹ç»ã€‚ é¦–å…ˆï¼Œä»€ä¹ˆæ˜¯å¯„å­˜å™¨ï¼Ÿ å¯„å­˜å™¨æ˜¯CPUâ€¦]]></description><link>https://gatsbystarterblogsource.gatsbyjs.io/020_HIT_OS_Register/</link><guid isPermaLink="false">https://gatsbystarterblogsource.gatsbyjs.io/020_HIT_OS_Register/</guid><pubDate>Sun, 11 Aug 2024 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;a href=&quot;https://github.com/Joker001014/HIT-OSlab&quot;&gt;Githubä»£ç ä»“åº“é“¾æ¥&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;åœ¨å­¦ä¹ CPUåº•å±‚æŠ€æœ¯çš„æ—¶å€™ï¼Œéš¾å…ä¼šæ¥è§¦åˆ°å„å¼å„æ ·çš„å¯„å­˜å™¨ã€‚å°¤å…¶æ˜¯åœ¨ä½¿ç”¨æ±‡ç¼–è¯­è¨€ç¼–å†™æ“ä½œç³»ç»Ÿæ—¶ï¼Œå¯„å­˜å™¨æ›´æ˜¯å¿…ä¸å¯å°‘çš„ã€‚å› æ­¤ï¼Œè¿™ç¯‡æ–‡ç« å°†æ¥è¯¦ç»†èŠèŠ x86_64 æ¶æ„ä¸­çš„æ‰€æœ‰å¯„å­˜å™¨ï¼ŒæŒ‰ç…§ä» &lt;code class=&quot;language-text&quot;&gt;å¸¸ç”¨-&gt;ä¸å¸¸ç”¨&lt;/code&gt; çš„é¡ºåºæ¥è¿›è¡Œä»‹ç»ã€‚&lt;/p&gt;
&lt;p&gt;é¦–å…ˆï¼Œ&lt;strong&gt;ä»€ä¹ˆæ˜¯å¯„å­˜å™¨ï¼Ÿ&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;å¯„å­˜å™¨æ˜¯CPUå†…éƒ¨ç”¨æ¥å­˜æ”¾æ•°æ®çš„ä¸€äº›å°å‹å­˜å‚¨åŒºåŸŸï¼Œç”¨æ¥æš‚æ—¶å­˜æ”¾å‚ä¸è¿ç®—çš„æ•°æ®å’Œè¿ç®—ç»“æœä»¥åŠä¸€äº›CPUè¿è¡Œéœ€è¦çš„ä¿¡æ¯ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ä»æ“ä½œç³»ç»Ÿä½¿ç”¨çš„è§’åº¦å‡ºå‘ï¼Œ æŒ‰ç…§å¯„å­˜å™¨ç±»å‹ï¼Œå¯ä»¥åˆ†æˆå¦‚ä¸‹å‡ ç±»ï¼š&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;16 _bits_ï¼š
	æ•°æ®å¯„å­˜å™¨ï¼ˆå¯æ‹†ä¸ºä¸¤ä¸ªç‹¬ç«‹çš„ 8 _bits_ å¯„å­˜å™¨ï¼‰
	æ®µå¯„å­˜å™¨
	å˜å€å¯„å­˜å™¨
	æŒ‡é’ˆå¯„å­˜å™¨
32 _bits_ï¼š
	é€šç”¨å¯„å­˜å™¨
	æ§åˆ¶å¯„å­˜å™¨
	...&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;ä¸€ã€16 &lt;em&gt;bits&lt;/em&gt;ï¼ˆå®æ¨¡å¼ï¼‰&lt;/h3&gt;
&lt;p&gt;8086 CPU ä¸­å¯„å­˜å™¨æ€»å…±ä¸º &lt;strong&gt;14&lt;/strong&gt; ä¸ª 16 &lt;em&gt;bits&lt;/em&gt; å¯„å­˜å™¨ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æ•°æ®å¯„å­˜å™¨&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th align=&quot;center&quot;&gt;å¯„å­˜å™¨&lt;/th&gt;
&lt;th align=&quot;center&quot;&gt;ç”¨é€”&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;AX&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;ç´¯åŠ å¯„å­˜å™¨ï¼ŒAH:ALï¼Œå¯åˆ†åˆ«è®¿é—®é«˜å…«ä½ã€ä½å…«ä½ã€‚&lt;br&gt;é€šå¸¸ä½œä¸ºä¸´æ—¶å¯„å­˜å™¨ï¼Œä¸ºæ®µå¯„å­˜å™¨èµ‹å€¼ï¼›æˆ–å¯ç”¨äºæ±‡ç¼–ä¹˜ï¼ˆMULï¼‰é™¤ï¼ˆDIVï¼‰æ³•ä¸´æ—¶å¯„å­˜å™¨ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;BX&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;åŸºåœ°å€å¯„å­˜å™¨ï¼ŒBH:BLï¼Œå¯åˆ†åˆ«è®¿é—®é«˜å…«ä½ã€ä½å…«ä½ã€‚&lt;br&gt;é€šå¸¸ä½œä¸ºå­˜å‚¨å™¨æŒ‡é’ˆã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;CX&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;è®¡æ•°å™¨å¯„å­˜å™¨ï¼ŒCH:CLï¼Œå¯åˆ†åˆ«è®¿é—®é«˜å…«ä½ã€ä½å…«ä½ã€‚&lt;br&gt;é€šå¸¸ä½œä¸ºä¸²æ“ä½œæˆ–å¾ªç¯æ§åˆ¶ä¸­çš„è®¡æ•°å™¨ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;DX&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;æ•°æ®å¯„å­˜å™¨ï¼ŒDH:DLï¼Œå¯åˆ†åˆ«è®¿é—®é«˜å…«ä½ã€ä½å…«ä½ã€‚&lt;br&gt;ä¸ AX é…åˆç”¨äºå­—ä¹˜/é™¤æ³•ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æ®µå¯„å­˜å™¨&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th align=&quot;center&quot;&gt;å¯„å­˜å™¨&lt;/th&gt;
&lt;th align=&quot;center&quot;&gt;ç”¨é€”&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;CS&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;ä»£ç æ®µæ®µåœ°å€å¯„å­˜å™¨&lt;br&gt;é€šå¸¸ä¸ä»£ç æ®µå¯„å­˜å™¨CSç»„åˆä¸ºCS:IPä½œä¸ºä»£ç æ®µåœ°å€ï¼ŒæŒ‡å‘ä¸‹ä¸€æ¡è¦æ‰§è¡Œçš„æŒ‡ä»¤&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;DS&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;æ•°æ®æ®µæ®µåœ°å€å¯„å­˜å™¨&lt;br&gt;é€šå¸¸ä¸å˜å€å¯„å­˜å™¨SIç»„åˆä¸ºDS:SIï¼Œä½œä¸ºä¸²æ“ä½œæºåœ°å€&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;SS&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;å †æ ˆæ®µæ®µåœ°å€å¯„å­˜å™¨&lt;br&gt;é€šå¸¸ä¸å †æ ˆæŒ‡é’ˆå¯„å­˜å™¨SPç»„åˆä¸ºSS:SPæ¥ä½¿ç”¨&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;ES&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;é™„åŠ æ®µæ®µåœ°å€å¯„å­˜å™¨&lt;br&gt;é€šå¸¸ä¸å˜å€å¯„å­˜å™¨DIç»„åˆä¸ºES:DIï¼Œä½œä¸ºä¸²æ“ä½œç›®çš„åœ°å€&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å˜å€å¯„å­˜å™¨&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th align=&quot;center&quot;&gt;å¯„å­˜å™¨&lt;/th&gt;
&lt;th align=&quot;center&quot;&gt;ç”¨é€”&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;SI&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;æºåœ°å€å¯„å­˜å™¨&lt;br&gt;é€šå¸¸ä½œä¸ºä¸²æ“ä½œä¸­çš„æºåœ°å€&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;DI&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;ç›®çš„åœ°å€å¯„å­˜å™¨&lt;br&gt;é€šå¸¸ä½œä¸ºä¸²æ“ä½œä¸­çš„ç›®çš„åœ°å€&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;SI ä¸ æ•°æ®æ®µå¯„å­˜å™¨ DS ç»„æˆ DS:SIï¼Œé€šå¸¸ç”¨æ¥è¡¨ç¤ºæ±‡ç¼–æŒ‡ä»¤çš„æºåœ°å€&lt;/li&gt;
&lt;li&gt;DI ä¸ é™„åŠ æ®µå¯„å­˜å™¨ ES ç»„æˆ ES:DSï¼Œé€šå¸¸ç”¨æ¥è¡¨ç¤ºæ±‡ç¼–æŒ‡ä»¤çš„ç›®çš„åœ°å€&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å¦‚ï¼šå½“è°ƒç”¨ &lt;code class=&quot;language-text&quot;&gt;movsb&lt;/code&gt; æŒ‡ä»¤ï¼Œå°±ä¼šä»&lt;code class=&quot;language-text&quot;&gt;æºåœ°å€&lt;/code&gt;å¤åˆ¶ä¸€ä¸ªå­—èŠ‚çš„æ•°æ®åˆ°&lt;code class=&quot;language-text&quot;&gt;ç›®çš„åœ°å€&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æŒ‡é’ˆå¯„å­˜å™¨&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th align=&quot;center&quot;&gt;å¯„å­˜å™¨&lt;/th&gt;
&lt;th align=&quot;center&quot;&gt;ç”¨é€”&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;SP&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;å †æ ˆæŒ‡é’ˆå¯„å­˜å™¨&lt;br&gt;é€šå¸¸ä¸å †æ ˆæ®µå¯„å­˜å™¨ç»„åˆä½¿ç”¨&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;BP&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;åŸºå€æŒ‡é’ˆå¯„å­˜å™¨&lt;br&gt;é€šå¸¸å­˜å–å †æ ˆçš„æŒ‡é’ˆ&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æ§åˆ¶å¯„å­˜å™¨&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th align=&quot;center&quot;&gt;å¯„å­˜å™¨&lt;/th&gt;
&lt;th align=&quot;center&quot;&gt;ç”¨é€”&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;IP&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;æŒ‡ä»¤æŒ‡é’ˆå¯„å­˜å™¨&lt;br&gt;é€šå¸¸ä¸ä»£ç æ®µå¯„å­˜å™¨CSç»„åˆä¸ºCS:IPä½œä¸ºä»£ç æ®µåœ°å€ï¼ŒæŒ‡å‘ä¸‹ä¸€æ¡è¦æ‰§è¡Œçš„æŒ‡ä»¤&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;FLAG&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;æ ‡å¿—å¯„å­˜å™¨ï¼Œè®°å½•CPUæ‰§è¡Œè¿‡ç¨‹ä¸­çš„ä¸€ç³»åˆ—çŠ¶æ€&lt;br&gt;&lt;strong&gt;OF&lt;/strong&gt;ï¼šæº¢å‡ºæ ‡å¿—&lt;br&gt;&lt;strong&gt;SF&lt;/strong&gt;ï¼šç¬¦å·æ ‡å¿—&lt;br&gt;&lt;strong&gt;ZF&lt;/strong&gt;ï¼šé›¶æ ‡å¿—&lt;br&gt;&lt;strong&gt;CF&lt;/strong&gt;ï¼šè¿›ä½æ ‡å¿—&lt;br&gt;&lt;strong&gt;AF&lt;/strong&gt;ï¼šè¾…åŠ©è¿›ä½æ ‡å¿—&lt;br&gt;&lt;strong&gt;DF&lt;/strong&gt;ï¼šæ–¹å‘æ ‡å¿—&lt;br&gt;&lt;strong&gt;IF&lt;/strong&gt;ï¼šä¸­æ–­æ ‡å¿—&lt;br&gt;&lt;strong&gt;TF&lt;/strong&gt;ï¼šé™·é˜±æ ‡å¿—&lt;br&gt;&lt;strong&gt;PF&lt;/strong&gt;ï¼šå¥‡å¶æ ‡å¿—&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;ä¸¾ä¸ªä¾‹å­ï¼š&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;asm&quot;&gt;&lt;pre class=&quot;language-asm&quot;&gt;&lt;code class=&quot;language-asm&quot;&gt;cmp AL, #0x3a
jl START&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;ä¸Šè¿°æŒ‡ä»¤å®ç°ï¼šå°†å¯„å­˜å™¨ AL çš„å€¼ä¸ç«‹å³æ•° &lt;code class=&quot;language-text&quot;&gt;#0x3a&lt;/code&gt; è¿›è¡Œæ¯”è¾ƒï¼Œè‹¥ AL &amp;#x3C; &lt;code class=&quot;language-text&quot;&gt;#0x3a&lt;/code&gt;ï¼Œåˆ™ç½®ä½é›¶æ ‡å¿—ä½ &lt;code class=&quot;language-text&quot;&gt;ZF&lt;/code&gt;ï¼Œjl æŒ‡ä»¤å†é€šè¿‡åˆ¤æ–­ ZF å¤§å°ï¼Œè·³è½¬åˆ° START å¤„ã€‚è‹¥ AL â‰¥ &lt;code class=&quot;language-text&quot;&gt;#0x3a&lt;/code&gt;ï¼Œåˆ™ä¸è·³è½¬ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;äºŒã€32 &lt;em&gt;bits&lt;/em&gt;ï¼ˆä¿æŠ¤æ¨¡å¼ï¼‰&lt;/h3&gt;
&lt;p&gt;32 &lt;em&gt;bits&lt;/em&gt; å¯„å­˜å™¨ä¸ 16 &lt;em&gt;bits&lt;/em&gt; å¯„å­˜å™¨ä¸€æ ·ï¼ŒåŒæ ·å¯ä»¥åˆ†ä¸ºæ•°æ®å¯„å­˜å™¨ã€å˜å€å¯„å­˜å™¨ã€æŒ‡é’ˆå¯„å­˜å™¨ã€æ§åˆ¶å¯„å­˜å™¨ï¼Œæˆ‘ä»¬ä¸å†ä¸€ä¸€åˆ†ç±»ï¼Œå°†å…¶å½’çº³å¦‚ä¸‹æ‰€ç¤ºã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;é€šç”¨å¯„å­˜å™¨&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th align=&quot;center&quot;&gt;å¯„å­˜å™¨&lt;/th&gt;
&lt;th align=&quot;center&quot;&gt;ç”¨é€”&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;EAX&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;ç´¯åŠ å¯„å­˜å™¨ï¼Œé€šå¸¸ä½œä¸ºç”¨æ¥æ‰§è¡ŒåŠ æ³•&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;EBX&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;åŸºåœ°å€å¯„å­˜å™¨ï¼Œé€šå¸¸ç”¨äºæ•°æ®å­˜å–&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;ECX&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;è®¡æ•°å™¨å¯„å­˜å™¨ï¼Œé€šå¸¸ç”¨ä½œè®¡æ•°å™¨&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;EDX&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;æ•°æ®å¯„å­˜å™¨ï¼Œé€šå¸¸ç”¨æ¥å­˜å‚¨ä¸´æ—¶æ•°æ®&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;ESP&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;æ ˆé¡¶æŒ‡é’ˆï¼ŒæŒ‡å‘æ ˆçš„é¡¶éƒ¨&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;EBP&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;æ ˆåº•æŒ‡é’ˆï¼ŒæŒ‡å‘æ ˆçš„åº•éƒ¨ï¼Œé€šå¸¸ç”¨&lt;code class=&quot;language-text&quot;&gt;ebp+åç§»é‡&lt;/code&gt;çš„å½¢å¼æ¥å®šä½å‡½æ•°å­˜æ”¾åœ¨æ ˆä¸­çš„å±€éƒ¨å˜é‡&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;ESI&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;æºåœ°å€å¯„å­˜å™¨ï¼Œé€šå¸¸ä½œä¸ºä¸²æ“ä½œä¸­çš„æºåœ°å€&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;EDI&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;ç›®çš„åœ°å€å¯„å­˜å™¨ï¼Œé€šå¸¸ä½œä¸ºä¸²æ“ä½œä¸­çš„ç›®çš„åœ°å€&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;EIP&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;æŒ‡ä»¤æŒ‡é’ˆå¯„å­˜å™¨&lt;br&gt;é€šå¸¸ä¸ä»£ç æ®µå¯„å­˜å™¨CSç»„åˆä¸ºCS:IPä½œä¸ºä»£ç æ®µåœ°å€ï¼ŒæŒ‡å‘ä¸‹ä¸€æ¡è¦æ‰§è¡Œçš„æŒ‡ä»¤åœ°å€&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;EFLAGS&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;æ ‡å¿—å¯„å­˜å™¨ï¼Œè®°å½•CPUæ‰§è¡Œè¿‡ç¨‹ä¸­çš„ä¸€ç³»åˆ—çŠ¶æ€ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤º&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/5c7b46abfe00e62558b8d2e534572277/c1c45/1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 43.0379746835443%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAACBUlEQVR42lWQW08aURSF/fl96FObtBrbNK0pgg4XLRjQSuqdCMwwg1ekyHWcGcC5wDCtaL+enhiTPnxn7b323uvhLKxpUxR9hmJEkvXajFgtIK5PiBkBMTUkVp0Kb0q8ErGmRiTUGfHqjFRtIghIC9a1CXrbZWGxOOBrvsJKQRfU+PJdJ/PphNXPB+SWyuQ282zlC+ysHZIuZUkUi8R3t1EOiyyfTvigwsfqHxarUOlGLCT2bsikFJTUBoqSIp3LUnqTZuftKvqrLJqyiJF7z/nyCvul1+TzSxS231HcWyJRviN5AcmzJ+IG1PsicOtyzqbmkTx1SJWHZKr3JKsjMppLWndJqR7x4ztWjwekKx5ZI2RD88Wey1Y95FvNF3hs30DDEoGn7QcOrz1ypRa7ui1qX3LUCDhpTik1Q/bOR/yoD2Vfvv3FkZgfXLpS8+UuhUoXdQC9kQhs2L+pi89UGxb7apOzjsd5N5B60Qu4MkNqzSFa0xGeL71/+0ZrLHdO6h1xayNKHE8E2v4jbcundnnLxU9T1IHsW6Yr9aptYVx3pG/eRwzGs2cNMccRXXsid0chuIEIDOfghQ84bog/mwseRT+XBNGT9Fs9i4HjYg79F/rWGGsccNu3uWkPEKdMQhEYiMefhEidhs/MXvDE7N4LJGPX/w9nNKbT69M37zAtG8t2+Aulu3uJkUnwqQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/5c7b46abfe00e62558b8d2e534572277/f058b/1.png&quot;
        srcset=&quot;/blog/static/5c7b46abfe00e62558b8d2e534572277/c26ae/1.png 158w,
/blog/static/5c7b46abfe00e62558b8d2e534572277/6bdcf/1.png 315w,
/blog/static/5c7b46abfe00e62558b8d2e534572277/f058b/1.png 630w,
/blog/static/5c7b46abfe00e62558b8d2e534572277/c1c45/1.png 824w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æ§åˆ¶å¯„å­˜å™¨&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/a9754d3709a140db3b8b1ede4bf0d055/c1c45/2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 45.56962025316456%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAACF0lEQVR42j2Re2/SUBiH+fTGxBiNybYPoNGNcSlQoJR7y+HSljuFjstQ57aM28YYLEaTx7Nq/ONJ3/c8v/NL2gbM0YJYd0V6uJZs/uJuSA3WPtro/v95vHVDsiOzfel7K8nGR20vifefcOZbAonuji+zPsUnk9y2RnpZJjzXCI5VgpMkmU2F3EOV3L5KtJchquhEkzofTyOcRZLEU1lOFY23hQ2ly98Eit6eYHNMumeR6reIOXUi9SqKVSMmUeSe6DioPYdEwyaet1Bydc5TBiFNkChYhDJVPjkHrO+yUEz3jEyV5+I7tqVjduVjnowTOR+xzn9gHn/DOPyKWfQ1i+x7Hs0jdhWZESfsJM/iiFnmmJC1on8rC90fB4QzwBYl7LrArlV8GlUTo1REmGUqRsnnZW8IU3qB5ecEjrxjlMrUZs/M17Lw62JPod6X30JHzRRISlQt78/pbBE1neNzMEJU1fzd9/9ISpeS2VA8hT1ecPcoC+/u97RdF0PUsNt9anaLutPGanYxqha6IUjny4iGQ8PpSN+m0exg1m2Ml2erK9/C5mp54OEgC9fbHYORQlpTyeg5QuEwSiyOrmdJ5fOcGSZKuUw2m5N/OCZ9BD2jE5Pu3B0SmUwRIYOb6zW7n78ILDcPXN1+Y3QxxruYMhiOcEeeP3sy7E5mDKczvPFEOs/3L7MnzweXc5reBW7P4/p2wWK15g+vf1vqx58DCAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/a9754d3709a140db3b8b1ede4bf0d055/f058b/2.png&quot;
        srcset=&quot;/blog/static/a9754d3709a140db3b8b1ede4bf0d055/c26ae/2.png 158w,
/blog/static/a9754d3709a140db3b8b1ede4bf0d055/6bdcf/2.png 315w,
/blog/static/a9754d3709a140db3b8b1ede4bf0d055/f058b/2.png 630w,
/blog/static/a9754d3709a140db3b8b1ede4bf0d055/c1c45/2.png 824w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
æœ¬æ–‡ç›®å‰åªæ›´æ–°äº†ææ²»å†›è€å¸ˆã€æ“ä½œç³»ç»Ÿã€‘è¯¾ç¨‹ä¸­å¸¸ç”¨çš„å¯„å­˜å™¨ï¼ŒåŒ…æ‹¬16ä½çš„å’Œ32ä½çš„ï¼Œä¸€äº›å°šæœªä½¿ç”¨åˆ°çš„è¿˜æœªæ›´æ–°ï¼Œå…·ä½“å¯ä»¥å‚è€ƒ&lt;code class=&quot;language-text&quot;&gt;ã€ŠLinuxå†…æ ¸å®Œå…¨æ³¨é‡Š(ä¿®æ­£ç‰ˆv3.0).pdfã€‹ç¬¬å››ç« &lt;/code&gt;ï¼Œè¿™ä¸€ç« è¯¦ç»†ä»‹ç»äº† 80x86 ç³»ç»Ÿå¯„å­˜å™¨å¤§å…¨ã€‚&lt;/p&gt;</content:encoded></item><item><title><![CDATA[ã€å“ˆå·¥å¤§_æ“ä½œç³»ç»Ÿã€‘Bochs æ±‡ç¼–çº§è°ƒè¯•æ–¹æ³•åŠæŒ‡ä»¤]]></title><description><![CDATA[Githubä»£ç ä»“åº“é“¾æ¥ æœ¬æ–‡å°†ä»‹ç»ä¸€ä¸‹å“ˆå·¥å¤§ææ²»å†›è€å¸ˆã€Šæ“ä½œç³»ç»Ÿã€‹è¯¾ç¨‹åœ¨å®ŒæˆLabæ—¶æ‰€ä½¿ç”¨åˆ°çš„ Bochs è°ƒè¯•å·¥å…·çš„ä½¿ç”¨æ–¹æ³•ã€‚è¿™æ˜¯ä¸€æ¬¾æ±‡ç¼–çº§è°ƒè¯•å·¥å…·ï¼Œæ‰“å¼€è°ƒè¯•æ¨¡å¼éå¸¸ç®€å•ï¼Œåªéœ€åœ¨ç»ˆç«¯ä¸‹è¾“å…¥å¦‚ä¸‹æŒ‡ä»¤ï¼š 1ã€bochs è°ƒè¯•åŸºæœ¬æŒ‡ä»¤å¤§å…¨ åŠŸèƒ½ æŒ‡ä»¤ ä¸¾ä¾‹ åœ¨æŸç‰©ç†åœ°å€è®¾ç½®æ–­ç‚¹ bâ€¦]]></description><link>https://gatsbystarterblogsource.gatsbyjs.io/019_HIT_OS_Bochs/</link><guid isPermaLink="false">https://gatsbystarterblogsource.gatsbyjs.io/019_HIT_OS_Bochs/</guid><pubDate>Thu, 01 Aug 2024 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;a href=&quot;https://github.com/Joker001014/HIT-OSlab&quot;&gt;Githubä»£ç ä»“åº“é“¾æ¥&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æœ¬æ–‡å°†ä»‹ç»ä¸€ä¸‹å“ˆå·¥å¤§ææ²»å†›è€å¸ˆã€Šæ“ä½œç³»ç»Ÿã€‹è¯¾ç¨‹åœ¨å®ŒæˆLabæ—¶æ‰€ä½¿ç”¨åˆ°çš„ Bochs è°ƒè¯•å·¥å…·çš„ä½¿ç”¨æ–¹æ³•ã€‚è¿™æ˜¯ä¸€æ¬¾æ±‡ç¼–çº§è°ƒè¯•å·¥å…·ï¼Œæ‰“å¼€è°ƒè¯•æ¨¡å¼éå¸¸ç®€å•ï¼Œåªéœ€åœ¨ç»ˆç«¯ä¸‹è¾“å…¥å¦‚ä¸‹æŒ‡ä»¤ï¼š&lt;/p&gt;
&lt;h3&gt;1ã€&lt;em&gt;bochs è°ƒè¯•åŸºæœ¬æŒ‡ä»¤å¤§å…¨&lt;/em&gt;&lt;/h3&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;strong&gt;åŠŸèƒ½&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;æŒ‡ä»¤&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;ä¸¾ä¾‹&lt;/strong&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;åœ¨æŸç‰©ç†åœ°å€è®¾ç½®æ–­ç‚¹&lt;/td&gt;
&lt;td&gt;b addr&lt;/td&gt;
&lt;td&gt;b 0x90000&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;è¿è¡Œåˆ°æ–­ç‚¹ä½ç½®&lt;/td&gt;
&lt;td&gt;c&lt;/td&gt;
&lt;td&gt;c&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;å•æ­¥è¿è¡Œï¼ˆé‡åˆ°å‡½æ•°åˆ™è¿›å…¥ï¼‰&lt;/td&gt;
&lt;td&gt;s&lt;/td&gt;
&lt;td&gt;s&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;å•æ­¥è¿è¡Œï¼ˆé‡åˆ°å‡½æ•°åˆ™è·³è¿‡ï¼‰&lt;/td&gt;
&lt;td&gt;n&lt;/td&gt;
&lt;td&gt;n&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ç»§ç»­è¿è¡Œä¸Šè°ƒæŒ‡ä»¤&lt;/td&gt;
&lt;td&gt;å›è½¦&lt;/td&gt;
&lt;td&gt;å›è½¦&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;æ˜¾ç¤ºå½“å‰æ‰€æœ‰æ–­ç‚¹ä¿¡æ¯&lt;/td&gt;
&lt;td&gt;info break&lt;/td&gt;
&lt;td&gt;info break&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;æ˜¾ç¤ºæ‰€æœ‰ä½¿ç”¨çš„å¯„å­˜å™¨å€¼&lt;/td&gt;
&lt;td&gt;r&lt;/td&gt;
&lt;td&gt;r&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;æ˜¾ç¤ºæ®µå¯„å­˜å™¨å€¼&lt;/td&gt;
&lt;td&gt;sreg&lt;/td&gt;
&lt;td&gt;sreg&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;æ˜¾ç¤ºæ§åˆ¶å¯„å­˜å™¨å€¼&lt;/td&gt;
&lt;td&gt;creg&lt;/td&gt;
&lt;td&gt;creg&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;æ˜¾ç¤º CPU çŠ¶æ€ä¿¡æ¯&lt;/td&gt;
&lt;td&gt;info cpu&lt;/td&gt;
&lt;td&gt;info cpu&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;æ˜¾ç¤ºæµ®ç‚¹å¯„å­˜å™¨å€¼&lt;/td&gt;
&lt;td&gt;fp&lt;/td&gt;
&lt;td&gt;fp&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;é€€å‡ºè°ƒè¯•æ¨¡å¼&lt;/td&gt;
&lt;td&gt;q&lt;/td&gt;
&lt;td&gt;q&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;æŸ¥çœ‹å †æ ˆ&lt;/td&gt;
&lt;td&gt;print-stack&lt;/td&gt;
&lt;td&gt;print-stack&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;æ¯æ‰§è¡Œä¸€æ¡æŒ‡ä»¤å°±æ‰“å°CPUä¿¡æ¯&lt;/td&gt;
&lt;td&gt;trace-reg&lt;/td&gt;
&lt;td&gt;trace-reg on&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;æŸ¥çœ‹å†…å­˜ç‰©ç†åœ°å€å†…å®¹&lt;/td&gt;
&lt;td&gt;xp /nuf addr&lt;/td&gt;
&lt;td&gt;xp /40bx 0x9013e&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;æŸ¥çœ‹çº¿æ€§åœ°å€å†…å®¹&lt;/td&gt;
&lt;td&gt;x /nuf addr&lt;/td&gt;
&lt;td&gt;x /40bx 0x13e&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;åæ±‡ç¼–ä¸€æ®µå†…å­˜&lt;/td&gt;
&lt;td&gt;u start end&lt;/td&gt;
&lt;td&gt;u 0x30400 0x3040D&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;åæ±‡ç¼–æ‰§è¡Œçš„æ¯ä¸€æ¡æŒ‡ä»¤&lt;/td&gt;
&lt;td&gt;trace-on&lt;/td&gt;
&lt;td&gt;trace-on&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;æŸ¥çœ‹ bochs åŸºæœ¬å‘½ä»¤&lt;/td&gt;
&lt;td&gt;help&lt;/td&gt;
&lt;td&gt;help&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3&gt;2ã€ ä½¿ç”¨æ–¹æ³•&lt;/h3&gt;
&lt;p&gt;ï¼ˆ1ï¼‰è¿›å…¥è°ƒè¯•æ¨¡å¼&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;cd&lt;/span&gt; oslab      // è¿›å…¥ oslab æ–‡ä»¶å¤¹ä¸‹
./dbg-asm     // å¯åŠ¨ bochs è°ƒè¯•æ¨¡å¼&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;å‡ºç°å¦‚ä¸‹ç•Œé¢ï¼Œå³è¡¨ç¤ºæˆåŠŸè¿›å…¥bochè°ƒè¯•æ¨¡å¼ã€‚&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/429a2cdf0baedf3ac5ecd3617aa4cf95/a1792/1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 26.58227848101266%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA00lEQVR42lWQ7Y6EIAxFEYHlGxxl1I0ms+//kHdK13UzP04aAve0VPii4YuB9QkuFK4hT4hlRswFtVbknGCthdb6xmgDYwyUUhBC/COlwkhIOcA5C0/USqJSsCwLHtOEECNJM0IISCmyRCnNVUr5KTzPE6+fF773nTv24LZtJGtoreH5bHjMM8uZtpA0IVIT59wtHIaBETuJVhL08DiO/KgHEom994jXVL8Cy005eEm6sOfuCQt9LRPp2lMX9tAX8bEzOvM9Nfmbqq/gOA6s68r0Qd6ovG+N4/9W1QAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/429a2cdf0baedf3ac5ecd3617aa4cf95/f058b/1.png&quot;
        srcset=&quot;/blog/static/429a2cdf0baedf3ac5ecd3617aa4cf95/c26ae/1.png 158w,
/blog/static/429a2cdf0baedf3ac5ecd3617aa4cf95/6bdcf/1.png 315w,
/blog/static/429a2cdf0baedf3ac5ecd3617aa4cf95/f058b/1.png 630w,
/blog/static/429a2cdf0baedf3ac5ecd3617aa4cf95/a1792/1.png 780w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;ï¼ˆ2ï¼‰è°ƒè¯•æ–¹æ³•&lt;/p&gt;
&lt;p&gt;åœ¨ 0x7e00 å¤„æ‰“ä¸Šæ–­ç‚¹ï¼ˆå³setupçš„å¯åŠ¨ä½ç½®ï¼‰ï¼Œå¹¶è¿è¡Œåˆ°æ–­ç‚¹å¤„ï¼Œå‡ºç°å¦‚ä¸‹ç•Œé¢ã€‚æ­¤æ—¶ bootsect.s å·²ç»è¿è¡Œè‡³å¯¼å…¥ setup.s å¤„ï¼Œä½† setup.s è¿˜æœªè¿è¡Œã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;b 0x7e00       // åœ¨ 0x7e00 å¤„åŠ è½½æ–­ç‚¹
c              // è¿è¡Œåˆ°æ–­ç‚¹ä¸ºæ­¢&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/7d58fdd745314b3abff1297381270fb6/a8a6f/2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 31.645569620253163%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsTAAALEwEAmpwYAAABWUlEQVR42l2QzWvCQBDFN4n5skabaNW0xBilGCsWQy14UGtuzcWbHr2qFSNaCxYKRejFv/p1sq1Qenj82J3Z92aWjadTzOMYn19fXMfTCR/HI5bzOaaTCWazGZaLBd72e+y2W7zudng/HDiT83azwXq1QrxeI169gGmuiwvPg+44UG0bkq5DVFUwJkAQRCJDhWpPwyEG/T5nOBohDEOMiMndcDBAr9fDOHoGM8tlZAoFcJomFFmGJEnc6Cw9nYZxaUIlWvk8LMtCLpdD1jCgaRoUReF99Xod7IrM8tRg8oYMjGyWDHTIZCyKNKEg4IYe3pLRNT3O0PSyqkAhpshIoLok/mzi0abs7yT/JfzSIcP7cgkN2sCiQE3TUSLzJEBLpfiUSXitVgOrVCpwHRdFtwi7asOrejwpKZ7lt1p4pD8Kul202234vo+g2cQD6a7RQBAECDodRFGEb+vAq281bZoUAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/7d58fdd745314b3abff1297381270fb6/f058b/2.png&quot;
        srcset=&quot;/blog/static/7d58fdd745314b3abff1297381270fb6/c26ae/2.png 158w,
/blog/static/7d58fdd745314b3abff1297381270fb6/6bdcf/2.png 315w,
/blog/static/7d58fdd745314b3abff1297381270fb6/f058b/2.png 630w,
/blog/static/7d58fdd745314b3abff1297381270fb6/40601/2.png 945w,
/blog/static/7d58fdd745314b3abff1297381270fb6/78612/2.png 1260w,
/blog/static/7d58fdd745314b3abff1297381270fb6/a8a6f/2.png 1516w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;éœ€è¦æ³¨æ„çš„æ˜¯ï¼šç»ˆç«¯ä¸Šæ˜¾ç¤ºçš„ä»£ç æ˜¯ä¸‹ä¸€è¡Œå°†è¦æ‰§è¡Œçš„ï¼Œæ˜¯è¿˜æœªæ‰§è¡Œçš„ä»£ç ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;æ­¤å¤–ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡å•æ­¥è¿è¡Œæ¥ä¸€è¡Œä¸€è¡Œè¿è¡Œä»£ç ï¼Œæˆ–è€…æŸ¥çœ‹å¯„å­˜å™¨ä¿¡æ¯ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;n              // å•æ­¥è¿è¡Œ
å›è½¦            // ç»§ç»­ä¸Šæ¬¡çš„å‘½ä»¤
r              // æŸ¥çœ‹å¸¸ç”¨å¯„å­˜å™¨ä¿¡æ¯
sreg           // æŸ¥çœ‹æ®µå¯„å­˜å™¨ä¿¡æ¯
q              // é€€å‡º debug&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;æ˜¾ç¤ºæ®µå¯„å­˜å™¨ä¿¡æ¯ï¼š&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 492px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/b46961c0c4c2af63fa5ea8daf290c085/5c6e9/3.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 41.139240506329116%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAABXklEQVR42kWS25aDIAxFXb14QQWhctGKtu/TP5j+/2edSUJn5iFLQLLPSUKljcHtNlPcYCcLZx3GcUTd1FB9j65TqOsal8sFbdvSvoNSCh0Fn12vVzRNg/P5jKqqUAnIWqzriuPYYT4CvH88n7jf7yRi5ZzXOe9074G87yLsnMO6LBhI/A84TRMSHW45S6IllzFGSs5IKdF/A62NrFeCbtsm8HEcJDeGIM4F6AjIEAYyQGsN6wpwJxcpLZiMkfOY4j9wvWMYBmpTAapfoPdBHLD6tmVR5D7y/tehtVMRZYfUCgYyWBtdHJJ4rz4lz96Lg3meBRBIjd342cs+71kGxm4CiXOp7Jz7zTl8l3MYfDqdUH29XnS5R4qJHES5FELEsiT5cvnceCd9LYmeTHDwpIdhlLUhME+9+n6/0dOEWIVjIwdlmmVAikrxwZNQibZtwFWxOL8Ojie9huM4xO0PqtDDOOeZ6VMAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/b46961c0c4c2af63fa5ea8daf290c085/5c6e9/3.png&quot;
        srcset=&quot;/blog/static/b46961c0c4c2af63fa5ea8daf290c085/c26ae/3.png 158w,
/blog/static/b46961c0c4c2af63fa5ea8daf290c085/6bdcf/3.png 315w,
/blog/static/b46961c0c4c2af63fa5ea8daf290c085/5c6e9/3.png 492w&quot;
        sizes=&quot;(max-width: 492px) 100vw, 492px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;è‡³æ­¤ï¼Œå…³äºææ²»å†›è€å¸ˆçš„æ“ä½œç³»ç»Ÿè¯¾ç¨‹ bochs ä½¿ç”¨æ–¹æ³•å·²ä»‹ç»å®Œæ¯•ï¼Œæ›´åŠ å…·ä½“çš„ä½¿ç”¨æ–¹æ³•å¯ä»¥å‚è€ƒ Bochsä½¿ç”¨æ‰‹å†Œ &lt;a href=&quot;https://bochs.sourceforge.io/doc/docbook/user/index.html&quot;&gt;Bochs User Manual (sourceforge.io)&lt;/a&gt;ã€‚&lt;/p&gt;</content:encoded></item><item><title><![CDATA[ã€å­¦ä¹ éšè®°ã€‘æ±‡ç¼–è¯­è¨€_ä¼ªæŒ‡ä»¤å¤§å…¨]]></title><description><![CDATA[ä¼ªæŒ‡ä»¤å‰é€šå¸¸åŠ ä¸€ä¸ª  æ¥åŒºåˆ†å®ƒä»¬ä¸æ™®é€šçš„æœºå™¨æŒ‡ä»¤ã€‚
 ä¸»è¦èµ·åˆ°åŒºåˆ†ä¼ªæŒ‡ä»¤å’Œæœºå™¨æŒ‡ä»¤çš„ä½œç”¨ã€‚ä¼ªæŒ‡ä»¤ä¸ä¼šç”Ÿæˆæœºå™¨ç ï¼Œè€Œæ˜¯å‘Šè¯‰æ±‡ç¼–å™¨å¦‚ä½•ç»„ç»‡å’Œå¸ƒå±€ç¨‹åºï¼Œè€Œæœºå™¨æŒ‡ä»¤æ˜¯ç›´æ¥ç”± CPU æ‰§è¡Œçš„ã€‚ .text å’Œ .dataâ€¦]]></description><link>https://gatsbystarterblogsource.gatsbyjs.io/024_record_asm/</link><guid isPermaLink="false">https://gatsbystarterblogsource.gatsbyjs.io/024_record_asm/</guid><pubDate>Wed, 04 Jan 2023 00:00:00 GMT</pubDate><content:encoded>&lt;blockquote&gt;
&lt;p&gt;ä¼ªæŒ‡ä»¤å‰é€šå¸¸åŠ ä¸€ä¸ª &lt;code class=&quot;language-text&quot;&gt;.&lt;/code&gt; æ¥åŒºåˆ†å®ƒä»¬ä¸æ™®é€šçš„æœºå™¨æŒ‡ä»¤ã€‚
&lt;code class=&quot;language-text&quot;&gt;.&lt;/code&gt; ä¸»è¦èµ·åˆ°&lt;strong&gt;åŒºåˆ†ä¼ªæŒ‡ä»¤å’Œæœºå™¨æŒ‡ä»¤&lt;/strong&gt;çš„ä½œç”¨ã€‚ä¼ªæŒ‡ä»¤ä¸ä¼šç”Ÿæˆæœºå™¨ç ï¼Œè€Œæ˜¯å‘Šè¯‰æ±‡ç¼–å™¨å¦‚ä½•ç»„ç»‡å’Œå¸ƒå±€ç¨‹åºï¼Œè€Œæœºå™¨æŒ‡ä»¤æ˜¯ç›´æ¥ç”± CPU æ‰§è¡Œçš„ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;.text å’Œ .data æ”¾åœ¨ä¸€èµ·ï¼Œè¡¨ç¤ºä¸åŒºåˆ†ä»£ç æ®µã€æ•°æ®æ®µ&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;ä»¥ &lt;code class=&quot;language-text&quot;&gt;.&lt;/code&gt; å¼€å¤´çš„ä¼ªæŒ‡ä»¤æ˜¯æ±‡ç¼–å™¨ï¼ˆAssemblerï¼‰æä¾›çš„ &lt;strong&gt;æ±‡ç¼–å™¨æŒ‡ä»¤&lt;/strong&gt;ï¼ˆAssembler Directivesï¼‰ï¼Œç”¨äºæ§åˆ¶æ±‡ç¼–è¿‡ç¨‹ã€å®šä¹‰æ•°æ®ã€å¸ƒå±€å†…å­˜ç­‰ã€‚ä»¥ä¸‹æ˜¯å¸¸è§çš„ RISC-V æ±‡ç¼–å™¨æŒ‡ä»¤åŠå…¶ä½œç”¨çš„åˆ†ç±»è¡¨æ ¼ï¼š&lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;h3&gt;&lt;strong&gt;1. æ•°æ®å®šä¹‰ä¼ªæŒ‡ä»¤&lt;/strong&gt;&lt;/h3&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;strong&gt;ä¼ªæŒ‡ä»¤&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;æ ¼å¼&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;ä½œç”¨&lt;/strong&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;.data&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;.data&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;åˆ‡æ¢åˆ°æ•°æ®æ®µï¼Œåç»­å®šä¹‰çš„æ•°æ®å°†å­˜å‚¨åœ¨æ•°æ®æ®µä¸­ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;.rodata&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;.rodata&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;åˆ‡æ¢åˆ°åªè¯»æ•°æ®æ®µï¼Œåç»­å®šä¹‰çš„æ•°æ®å°†å­˜å‚¨åœ¨åªè¯»æ•°æ®æ®µä¸­ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;.bss&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;.bss&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;åˆ‡æ¢åˆ°æœªåˆå§‹åŒ–æ•°æ®æ®µï¼ˆBSS æ®µï¼‰ï¼Œåç»­å®šä¹‰çš„æ•°æ®å°†å­˜å‚¨åœ¨ BSS æ®µä¸­ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;.byte&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;.byte value1, value2, ...&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;å®šä¹‰ä¸€ä¸ªæˆ–å¤šä¸ªå­—èŠ‚æ•°æ®ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;.half&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;.half value1, value2, ...&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;å®šä¹‰ä¸€ä¸ªæˆ–å¤šä¸ªåŠå­—ï¼ˆ2 å­—èŠ‚ï¼‰æ•°æ®ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;.word&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;.word value1, value2, ...&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;å®šä¹‰ä¸€ä¸ªæˆ–å¤šä¸ªå­—ï¼ˆ4 å­—èŠ‚ï¼‰æ•°æ®ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;.dword&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;.dword value1, value2, ...&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;å®šä¹‰ä¸€ä¸ªæˆ–å¤šä¸ªåŒå­—ï¼ˆ8 å­—èŠ‚ï¼‰æ•°æ®ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;.asciz&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;.asciz &quot;string&quot;&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;å®šä¹‰ä¸€ä¸ªä»¥ç©ºå­—ç¬¦ï¼ˆ&lt;code class=&quot;language-text&quot;&gt;\0&lt;/code&gt;ï¼‰ç»“å°¾çš„å­—ç¬¦ä¸²ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;.string&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;.string &quot;string&quot;&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;å®šä¹‰ä¸€ä¸ªå­—ç¬¦ä¸²ï¼ˆä¸ &lt;code class=&quot;language-text&quot;&gt;.asciz&lt;/code&gt; ç±»ä¼¼ï¼‰ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;.space&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;.space size&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;åˆ†é…æŒ‡å®šå¤§å°çš„æœªåˆå§‹åŒ–ç©ºé—´ï¼ˆä»¥å­—èŠ‚ä¸ºå•ä½ï¼‰ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;hr&gt;
&lt;h3&gt;&lt;strong&gt;2. å†…å­˜å¸ƒå±€ä¼ªæŒ‡ä»¤&lt;/strong&gt;&lt;/h3&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;strong&gt;ä¼ªæŒ‡ä»¤&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;æ ¼å¼&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;ä½œç”¨&lt;/strong&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;.org&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;.org address&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;è®¾ç½®å½“å‰æ®µçš„ä½ç½®è®¡æ•°å™¨ä¸ºæŒ‡å®šåœ°å€ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;.align&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;.align n&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;å°†å½“å‰ä½ç½®å¯¹é½åˆ° &lt;code class=&quot;language-text&quot;&gt;2^n&lt;/code&gt; çš„è¾¹ç•Œã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;.skip&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;.skip size&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;è·³è¿‡æŒ‡å®šå¤§å°çš„å­—èŠ‚ï¼ˆä¸ &lt;code class=&quot;language-text&quot;&gt;.space&lt;/code&gt; ç±»ä¼¼ï¼‰ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;hr&gt;
&lt;h3&gt;&lt;strong&gt;3. ç¬¦å·å®šä¹‰ä¼ªæŒ‡ä»¤&lt;/strong&gt;&lt;/h3&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;strong&gt;ä¼ªæŒ‡ä»¤&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;æ ¼å¼&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;ä½œç”¨&lt;/strong&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;.globl&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;.globl symbol&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;å£°æ˜ä¸€ä¸ªå…¨å±€ç¬¦å·ï¼Œä½¿å…¶å¯¹å…¶ä»–æ–‡ä»¶å¯è§ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;.local&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;.local symbol&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;å£°æ˜ä¸€ä¸ªå±€éƒ¨ç¬¦å·ï¼Œä½¿å…¶ä»…åœ¨å½“å‰æ–‡ä»¶ä¸­å¯è§ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;.weak&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;.weak symbol&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;å£°æ˜ä¸€ä¸ªå¼±ç¬¦å·ï¼Œå¦‚æœæœªå®šä¹‰åˆ™ä¸ä¼šæŠ¥é”™ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;.equ&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;.equ name, value&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;å®šä¹‰ä¸€ä¸ªç¬¦å·å¸¸é‡ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;.set&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;.set name, value&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;å®šä¹‰ä¸€ä¸ªç¬¦å·å¸¸é‡ï¼ˆä¸ &lt;code class=&quot;language-text&quot;&gt;.equ&lt;/code&gt; ç±»ä¼¼ï¼‰ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;hr&gt;
&lt;h3&gt;&lt;strong&gt;4. æ®µæ§åˆ¶ä¼ªæŒ‡ä»¤&lt;/strong&gt;&lt;/h3&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;strong&gt;ä¼ªæŒ‡ä»¤&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;æ ¼å¼&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;ä½œç”¨&lt;/strong&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;.text&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;.text&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;åˆ‡æ¢åˆ°ä»£ç æ®µï¼Œåç»­å®šä¹‰çš„æŒ‡ä»¤å°†å­˜å‚¨åœ¨ä»£ç æ®µä¸­ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;.section&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;.section name&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;åˆ‡æ¢åˆ°æŒ‡å®šåç§°çš„æ®µã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;.previous&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;.previous&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;åˆ‡æ¢å›ä¸Šä¸€ä¸ªæ®µã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;hr&gt;
&lt;h3&gt;&lt;strong&gt;5. æ¡ä»¶ä¼ªæŒ‡ä»¤&lt;/strong&gt;&lt;/h3&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;strong&gt;ä¼ªæŒ‡ä»¤&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;æ ¼å¼&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;ä½œç”¨&lt;/strong&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;.if&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;.if condition&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;å¦‚æœæ¡ä»¶ä¸ºçœŸï¼Œåˆ™æ±‡ç¼–åç»­ä»£ç ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;.else&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;.else&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;ä¸ &lt;code class=&quot;language-text&quot;&gt;.if&lt;/code&gt; é…åˆä½¿ç”¨ï¼Œè¡¨ç¤ºæ¡ä»¶ä¸ºå‡æ—¶çš„ä»£ç å—ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;.endif&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;.endif&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;ç»“æŸæ¡ä»¶æ±‡ç¼–å—ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;.ifdef&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;.ifdef symbol&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;å¦‚æœç¬¦å·å·²å®šä¹‰ï¼Œåˆ™æ±‡ç¼–åç»­ä»£ç ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;.ifndef&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;.ifndef symbol&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;å¦‚æœç¬¦å·æœªå®šä¹‰ï¼Œåˆ™æ±‡ç¼–åç»­ä»£ç ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;hr&gt;
&lt;h3&gt;&lt;strong&gt;6. ç¨‹åºå…¥å£ä¸ç»“æŸä¼ªæŒ‡ä»¤&lt;/strong&gt;&lt;/h3&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;strong&gt;ä¼ªæŒ‡ä»¤&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;æ ¼å¼&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;ä½œç”¨&lt;/strong&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;.entry&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;.entry&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;å®šä¹‰ç¨‹åºå…¥å£ç‚¹ï¼ˆé€šå¸¸ç”±é“¾æ¥å™¨ä½¿ç”¨ï¼‰ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;.end&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;.end&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;æ ‡è®°æ±‡ç¼–æ–‡ä»¶çš„ç»“æŸã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;hr&gt;
&lt;h3&gt;&lt;strong&gt;7. å…¶ä»–ä¼ªæŒ‡ä»¤&lt;/strong&gt;&lt;/h3&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;strong&gt;ä¼ªæŒ‡ä»¤&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;æ ¼å¼&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;ä½œç”¨&lt;/strong&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;.include&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;.include &quot;filename&quot;&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;åŒ…å«å¦ä¸€ä¸ªæ±‡ç¼–æ–‡ä»¶ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;.macro&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;.macro name arg1, arg2, ...&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;å®šä¹‰ä¸€ä¸ªå®ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;.endm&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;.endm&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;ç»“æŸå®å®šä¹‰ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;.rept&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;.rept count&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;é‡å¤æ±‡ç¼–ä»£ç å—æŒ‡å®šæ¬¡æ•°ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;.endr&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;.endr&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;ç»“æŸé‡å¤å—ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;hr&gt;
&lt;h3&gt;&lt;strong&gt;ç¤ºä¾‹ä»£ç &lt;/strong&gt;&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;assembly&quot;&gt;&lt;pre class=&quot;language-assembly&quot;&gt;&lt;code class=&quot;language-assembly&quot;&gt;.data                    # åˆ‡æ¢åˆ°æ•°æ®æ®µ
    my_var: .word 42     # å®šä¹‰ä¸€ä¸ª 32 ä½æ•´æ•°
    msg: .asciz &amp;quot;Hello&amp;quot;  # å®šä¹‰ä¸€ä¸ªå­—ç¬¦ä¸²

.text                    # åˆ‡æ¢åˆ°ä»£ç æ®µ
.globl main              # å£°æ˜ main ä¸ºå…¨å±€ç¬¦å·
main:
    la a0, msg           # åŠ è½½ msg çš„åœ°å€åˆ° a0
    li a7, 4             # è®¾ç½®ç³»ç»Ÿè°ƒç”¨å·ä¸º 4ï¼ˆæ‰“å°å­—ç¬¦ä¸²ï¼‰
    ecall                # è§¦å‘ç³»ç»Ÿè°ƒç”¨
    li a7, 10            # è®¾ç½®ç³»ç»Ÿè°ƒç”¨å·ä¸º 10ï¼ˆé€€å‡ºç¨‹åºï¼‰
    ecall                # è§¦å‘ç³»ç»Ÿè°ƒç”¨
.end                    # ç»“æŸæ±‡ç¼–æ–‡ä»¶&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[ã€å­¦ä¹ éšè®°ã€‘ç¼–è¯‘ç¥å™¨_Makefile]]></title><description><![CDATA[ä¸€ç§å¸¸ç”¨äºç¼–è¯‘çš„è„šæœ¬è¯­è¨€ï¼Œå¯ä»¥æ›´å¥½æ›´æ–¹ä¾¿åœ°ç®¡ç†é¡¹ç›®çš„ä»£ç ç¼–è¯‘ã€‚åœ¨æ–‡ä»¶ä¸­å®šä¹‰ä¸€ç³»åˆ—çš„è§„åˆ™æ¥æŒ‡å®šå“ªäº›æ–‡ä»¶å…ˆç¼–è¯‘ï¼Œä¸€æ—¦å†™å¥½åï¼Œåªéœ€è¦ä¸€ä¸ª make å‘½ä»¤å°±å¯ä»¥ç¼–è¯‘ ä¸€ã€Makefile ä¸‰è¦ç´  ä¸€èˆ¬åœ¨ makefile æ–‡ä»¶ä¸­ä¼šä½¿ç”¨  å‘½ä»¤å¯¹æºä»£ç è¿›è¡Œç¼–è¯‘ makefileâ€¦]]></description><link>https://gatsbystarterblogsource.gatsbyjs.io/023_record_Makefile/</link><guid isPermaLink="false">https://gatsbystarterblogsource.gatsbyjs.io/023_record_Makefile/</guid><pubDate>Tue, 03 Jan 2023 00:00:00 GMT</pubDate><content:encoded>&lt;blockquote&gt;
&lt;p&gt;ä¸€ç§å¸¸ç”¨äºç¼–è¯‘çš„è„šæœ¬è¯­è¨€ï¼Œå¯ä»¥æ›´å¥½æ›´æ–¹ä¾¿åœ°ç®¡ç†é¡¹ç›®çš„ä»£ç ç¼–è¯‘ã€‚åœ¨æ–‡ä»¶ä¸­å®šä¹‰ä¸€ç³»åˆ—çš„è§„åˆ™æ¥æŒ‡å®šå“ªäº›æ–‡ä»¶å…ˆç¼–è¯‘ï¼Œä¸€æ—¦å†™å¥½åï¼Œåªéœ€è¦ä¸€ä¸ª make å‘½ä»¤å°±å¯ä»¥ç¼–è¯‘&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;ä¸€ã€Makefile ä¸‰è¦ç´ &lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;ä¸€èˆ¬åœ¨ makefile æ–‡ä»¶ä¸­ä¼šä½¿ç”¨ &lt;code class=&quot;language-text&quot;&gt;gcc&lt;/code&gt; å‘½ä»¤å¯¹æºä»£ç è¿›è¡Œç¼–è¯‘&lt;/li&gt;
&lt;li&gt;makefile çš„ç¼–å†™è§„åˆ™ï¼š&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;makefile&quot;&gt;&lt;pre class=&quot;language-makefile&quot;&gt;&lt;code class=&quot;language-makefile&quot;&gt;&lt;span class=&quot;token target symbol&quot;&gt;ç›®æ ‡&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;ä¾èµ–
	å‘½ä»¤
// ç›®æ ‡ï¼šè¦ç”Ÿæˆçš„ç›®æ ‡æ–‡ä»¶
// ä¾èµ–ï¼šç›®æ ‡æ–‡ä»¶ç”±å“ªäº›æ–‡ä»¶ç”Ÿæˆ
// å‘½ä»¤ï¼šæ‰§è¡Œè¯¥å‘½ä»¤ç”±ä¾èµ–æ–‡ä»¶ç”Ÿæˆç›®æ ‡&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;äºŒã€Makefile å·¥ä½œåŸç†&lt;/h3&gt;
&lt;p&gt;Makefile çš„ å·¥ä½œåŸç† å¯ä»¥æ¦‚æ‹¬ä¸ºä¸¤æ­¥ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æ£€æŸ¥ä¾èµ–æ˜¯å¦ &lt;strong&gt;å­˜åœ¨&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;æ£€æŸ¥æ˜¯å¦éœ€è¦ &lt;strong&gt;æ›´æ–°&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;å¯ä»¥ç”¨ä»¥ä¸‹ä¼ªä»£ç æ¥è¿›è¡Œè¡¨è¿°&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;// æ£€æŸ¥ä¾èµ–æ˜¯å¦å­˜åœ¨
if(ä¾èµ–å­˜åœ¨)
	//æ‰§è¡Œè§„åˆ™ä¸­çš„å‘½ä»¤ç”Ÿæˆä¾èµ–æ–‡ä»¶çš„ç›®æ ‡æ–‡ä»¶
	if(ç›®æ ‡çš„ä¿®æ”¹æ—¶é—´ &gt; ä¾èµ–çš„ä¿®æ”¹æ—¶é—´)
		ä¸æ›´æ–°ç›®æ ‡æ–‡ä»¶
	else
		æ›´æ–°ç›®æ ‡æ–‡ä»¶
else
	å‘ä¸‹æœç´¢ï¼ŒæŸ¥æ‰¾æ˜¯å¦æœ‰ç”Ÿæˆè¯¥ä¾èµ–æ–‡ä»¶çš„è§„åˆ™
	if(æ²¡æœ‰è§„åˆ™èƒ½ç”Ÿæˆè¯¥ä¾èµ–æ–‡ä»¶)
		ERROR!&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;ä¸‰ã€Makefile åŸºæœ¬ä½¿ç”¨æ–¹æ³•&lt;/h3&gt;
&lt;p&gt;æˆ‘ä»¬ä»¥ç»å…¸çš„ TCP é€šè®¯ä¸ºä¾‹æ¥è¯´æ˜ï¼Œå½“æˆ‘ä»¬ç¼–å†™äº† TCP çš„æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯ä¸¤ä¸ªç¨‹åºåï¼Œè¦è¿›è¡Œç¼–è¯‘çš„è¯éœ€è¦è¿è¡Œä¸¤æ¬¡ &lt;code class=&quot;language-text&quot;&gt;gcc&lt;/code&gt; æŒ‡ä»¤ï¼Œæ¯”è¾ƒç¹çï¼Œå°¤å…¶æ˜¯å½“æˆ‘ä»¬é¡¹ç›®å·¥ç¨‹å…·æœ‰æ›´å¤šçš„æºæ–‡ä»¶æ—¶ï¼Œä½¿ç”¨ makefile å®ç°ä¸€é”®ç¼–è¯‘ï¼Œå°†éå¸¸çš„æ–¹ä¾¿ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;makefileç¼–å†™&lt;/strong&gt;ï¼Œç”Ÿæˆ TCP_Serverã€TCP_Client ä¸¤ä¸ªå¯æ‰§è¡Œæ–‡ä»¶ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;makefile&quot;&gt;&lt;pre class=&quot;language-makefile&quot;&gt;&lt;code class=&quot;language-makefile&quot;&gt;&lt;span class=&quot;token target symbol&quot;&gt;all&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;TCP_Server TCP_Client
&lt;span class=&quot;token target symbol&quot;&gt;TCP_Server&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;tcp_server.c
	gcc tcp_server.c -o TCP_Server
&lt;span class=&quot;token target symbol&quot;&gt;TCP_Client&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;tcp_client.c
	gcc tcp_client.c -o TCP_Client&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;ç¼–å†™å®Œæˆåï¼Œæˆ‘ä»¬åªéœ€åœ¨å½“å‰ç›®å½•ä¸‹è¿è¡Œ &lt;code class=&quot;language-text&quot;&gt;make all&lt;/code&gt; å³å¯åŒæ—¶ç¼–è¯‘ç”Ÿæˆ TCP_Serverã€TCP_Client ä¸¤ä¸ªç›®æ ‡æ–‡ä»¶ã€‚å…·ä½“çš„ Makefile å˜é‡ã€æŒ‡ä»¤ã€å‚æ•°å°†åœ¨ä¸‹æ–‡å±•å¼€ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;è¿è¡Œå¯æ‰§è¡Œæ–‡ä»¶&lt;/strong&gt;ï¼ˆä»¥ TCP ç¨‹åºä¸ºä¾‹ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;linux&quot;&gt;&lt;pre class=&quot;language-linux&quot;&gt;&lt;code class=&quot;language-linux&quot;&gt;./TCP_Server 192.168.0.109 1234
./TCP_Client 192.168.0.109 1234&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;å››ã€Makefile å˜é‡&lt;/h3&gt;
&lt;h4&gt;1ã€å˜é‡ç±»å‹&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;è‡ªå®šä¹‰å˜é‡&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;var = abc     // å˜é‡å®šä¹‰&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ol start=&quot;2&quot;&gt;
&lt;li&gt;ç³»ç»Ÿå˜é‡&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;makefile&quot;&gt;&lt;pre class=&quot;language-makefile&quot;&gt;&lt;code class=&quot;language-makefile&quot;&gt;CC &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; gcc-3.4                     // æŒ‡å®šç¼–è¯‘å™¨çš„ç±»å‹
CPPFLAGS &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; -I./                  // æŒ‡å®šé¢„å¤„ç†çš„é€‰é¡¹ 
CFLAGS &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; -Wall -O2               // æŒ‡å®šç¼–è¯‘å™¨é€‰é¡¹ï¼ˆä¾‹å¦‚è°ƒè¯•ä¿¡æ¯ã€ä¼˜åŒ–ç­‰ï¼‰
LDFLAGS &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; -L                     // æŒ‡å®šé“¾æ¥å™¨é€‰é¡¹
SRC_FILES &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; main.c foo.c bar.c   // æŒ‡å®šæºæ–‡ä»¶åˆ—è¡¨&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;æ³¨æ„ï¼šå˜é‡å¼•ç”¨æ—¶ä½¿ç”¨&lt;code class=&quot;language-text&quot;&gt;$&lt;/code&gt;ï¼Œä¾‹ï¼š&lt;code class=&quot;language-text&quot;&gt;$(CC)&lt;/code&gt;ã€‚
3. è‡ªåŠ¨å˜é‡&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;makefile&quot;&gt;&lt;pre class=&quot;language-makefile&quot;&gt;&lt;code class=&quot;language-makefile&quot;&gt;&lt;span class=&quot;token variable&quot;&gt;$@&lt;/span&gt; è¡¨ç¤ºå½“å‰è§„åˆ™çš„ç›®æ ‡æ–‡ä»¶
&lt;span class=&quot;token variable&quot;&gt;$^&lt;/span&gt; è¡¨ç¤ºè§„åˆ™ä¸­çš„æ‰€æœ‰æ¡ä»¶, ç»„æˆä¸€ä¸ªåˆ—è¡¨, ä»¥ç©ºæ ¼éš”å¼€, å¦‚æœè¿™ä¸ªåˆ—è¡¨ä¸­æœ‰é‡å¤çš„é¡¹åˆ™æ¶ˆé™¤é‡å¤é¡¹ 
&lt;span class=&quot;token variable&quot;&gt;$&amp;lt;&lt;/span&gt; è¡¨ç¤ºå½“å‰è§„åˆ™çš„ç¬¬ä¸€ä¸ªä¾èµ–æ–‡ä»¶å
&lt;span class=&quot;token variable&quot;&gt;$?&lt;/span&gt; ç¬¬ä¸€å˜åŒ–çš„ä¾èµ–&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ol start=&quot;4&quot;&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;$&lt;/code&gt;ä½¿ç”¨æ‹“å±•ï¼šç”¨äºæ‰§è¡Œ Shell å‘½ä»¤ï¼Œå¦‚&lt;code class=&quot;language-text&quot;&gt;NAME := $(shell uname)&lt;/code&gt;ï¼Œä¼šæ‰§è¡ŒÂ &lt;code class=&quot;language-text&quot;&gt;uname&lt;/code&gt;Â å‘½ä»¤ï¼Œè¿”å›å½“å‰æ“ä½œç³»ç»Ÿçš„åç§°&lt;/li&gt;
&lt;/ol&gt;
&lt;h4&gt;2ã€èµ‹å€¼æ–¹å¼&lt;/h4&gt;
&lt;p&gt;makefile çš„èµ‹å€¼æ–¹å¼æœ‰ç®€å•èµ‹å€¼ã€é€’å½’èµ‹å€¼ã€æ¡ä»¶èµ‹å€¼ã€è¿½åŠ èµ‹å€¼ã€‚æœ¬æ–‡åªä»‹ç»æœ€ä¸ºå¸¸ç”¨çš„èµ‹å€¼æ–¹å¼ï¼Œå³ç®€å•èµ‹å€¼ &lt;code class=&quot;language-text&quot;&gt;=&lt;/code&gt;ã€‚ï¼ˆå…¶ä½™èµ‹å€¼æ–¹å¼å¯å‚è€ƒæ–‡ç« ï¼š&lt;a href=&quot;https://blog.csdn.net/m0_49476241/article/details/130556354&quot;&gt;MakefileåŸºç¡€æ•™ç¨‹ï¼ˆå˜é‡çš„ä»‹ç»å’Œä½¿ç”¨ï¼‰_makefile ä½¿ç”¨å˜é‡ ç¼–è¯‘-CSDNåšå®¢&lt;/a&gt;ï¼‰&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;x = abc         // å®šä¹‰å˜é‡å¹¶èµ‹å€¼ 
bar = $(x)      // ä½¿ç”¨å˜é‡, $(å˜é‡å)&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ol&gt;
&lt;li&gt;ç®€å•èµ‹å€¼&lt;code class=&quot;language-text&quot;&gt;:=&lt;/code&gt;ï¼Œåœ¨èµ‹å€¼æ—¶ç«‹å³æ±‚å€¼&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;makefile&quot;&gt;&lt;pre class=&quot;language-makefile&quot;&gt;&lt;code class=&quot;language-makefile&quot;&gt;A &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; foo
B &lt;span class=&quot;token operator&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;A&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
A &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; bar

&lt;span class=&quot;token target symbol&quot;&gt;all&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    echo &lt;span class=&quot;token variable&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;B&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;token comment&quot;&gt;# è¾“å‡º foo&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ol start=&quot;2&quot;&gt;
&lt;li&gt;é€’å½’èµ‹å€¼&lt;code class=&quot;language-text&quot;&gt;=&lt;/code&gt;ï¼Œåœ¨ä½¿ç”¨å˜é‡æ—¶æ‰ä¼šæ±‚å€¼ï¼ˆå³å»¶è¿Ÿæ±‚å€¼ï¼‰&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;makefile&quot;&gt;&lt;pre class=&quot;language-makefile&quot;&gt;&lt;code class=&quot;language-makefile&quot;&gt;A &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; foo
B &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;A&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
A &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; bar

&lt;span class=&quot;token target symbol&quot;&gt;all&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    echo &lt;span class=&quot;token variable&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;B&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;token comment&quot;&gt;# è¾“å‡º barï¼ŒAç”±Bä¸‹ä¸€è¡Œä»£ç ä¿®æ”¹ä¸º bar&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;äº”ã€Makefile å·¥ç¨‹åº”ç”¨&lt;/h3&gt;
&lt;h4&gt;1ã€ç¼–è¯‘æ“ä½œ&lt;/h4&gt;
&lt;p&gt;makefile åœ¨å·¥ç¨‹ä¸Šçš„åº”ç”¨ç¤ºä¾‹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ç¼–è¯‘ main.c ã€ fun1.c ã€ func2.c ç”Ÿæˆå¯¹åº”çš„ç›®æ ‡æ–‡ä»¶ &lt;code class=&quot;language-text&quot;&gt;main.oã€func1.oã€func2.0&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;é“¾æ¥æ‰€æœ‰çš„ç›®æ ‡æ–‡ä»¶ï¼Œç”Ÿæˆæœ€åçš„å¯æ‰§è¡Œæ–‡ä»¶&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;åŸºç¡€å†™æ³•&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;makefile&quot;&gt;&lt;pre class=&quot;language-makefile&quot;&gt;&lt;code class=&quot;language-makefile&quot;&gt;CC &lt;span class=&quot;token operator&quot;&gt;:=&lt;/span&gt; gcc
TARGET &lt;span class=&quot;token operator&quot;&gt;:=&lt;/span&gt; hello

&lt;span class=&quot;token comment&quot;&gt;# ç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶&lt;/span&gt;
&lt;span class=&quot;token target symbol&quot;&gt;TARGET&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; hello.o func.o
	&lt;span class=&quot;token variable&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;CC&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; -o TARGET hello.o func.o

&lt;span class=&quot;token comment&quot;&gt;# ç”Ÿæˆç›®æ ‡æ–‡ä»¶&lt;/span&gt;
&lt;span class=&quot;token target symbol&quot;&gt;hello.o&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; hello.c
	&lt;span class=&quot;token variable&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;CC&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; -c -o hello.o hello.c
&lt;span class=&quot;token target symbol&quot;&gt;func.o&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; func.c
	&lt;span class=&quot;token variable&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;CC&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; -c -o func.o func.c

&lt;span class=&quot;token target symbol&quot;&gt;all&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; TARGET&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;gcc ç¼–è¯‘å™¨å‚æ•°å¤§å…¨å¯å‚è€ƒï¼š&lt;a href=&quot;http://static.kancloud.cn/machh03/server/2141855&quot;&gt;20ä¸ªæœ€å¸¸ç”¨çš„GCCç¼–è¯‘å™¨å‚æ•°&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å¸¸ç”¨å‚æ•°ï¼š&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;-o    æŒ‡å®šè¾“å‡ºæ–‡ä»¶å
-c    åªç¼–è¯‘æºä»£ç ï¼Œç”Ÿæˆç›®æ ‡æ–‡ä»¶ï¼Œä½†ä¸ä¼šç”Ÿæˆæœ€ç»ˆå¯æ‰§è¡Œæ–‡ä»¶&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;è¿›é˜¶å†™æ³•&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;makefile&quot;&gt;&lt;pre class=&quot;language-makefile&quot;&gt;&lt;code class=&quot;language-makefile&quot;&gt;TARGET &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; hello
object &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; hello.o func1.o func2.o
CC &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; gcc
CFLAGS &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; -Wall -O2

&lt;span class=&quot;token target symbol&quot;&gt;TARGET&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;object&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
	&lt;span class=&quot;token variable&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;CC&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; -o &lt;span class=&quot;token variable&quot;&gt;$@&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;$^&lt;/span&gt;     &lt;span class=&quot;token comment&quot;&gt;# è§„åˆ™ä¸­çš„ç›®æ ‡ è§„åˆ™ä¸­çš„ä¾èµ–&lt;/span&gt;
	
&lt;span class=&quot;token target symbol&quot;&gt;%.o&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; %.c 
	&lt;span class=&quot;token variable&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;CC&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; -o &lt;span class=&quot;token variable&quot;&gt;$@&lt;/span&gt; -c &lt;span class=&quot;token variable&quot;&gt;$&amp;lt;&lt;/span&gt;  &lt;span class=&quot;token comment&quot;&gt;# è§„åˆ™ä¸­çš„ç›®æ ‡ è§„åˆ™ä¸­çš„ç¬¬ä¸€ä¸ªæ¡ä»¶&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;2ã€æ¸…ç†æ“ä½œ&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;æ¸…é™¤ç›®æ ‡æ–‡ä»¶&lt;/strong&gt;ï¼Œåœ¨ makefile ä¸­ä½¿ç”¨ rm æŒ‡ä»¤åˆ é™¤æ–‡ä»¶ï¼Œç„¶ååœ¨ç»ˆç«¯ä¸­è¾“å…¥ make clean= æ¸…é™¤ç”Ÿæˆçš„ç›®æ ‡æ–‡ä»¶&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;åŸºç¡€å†™æ³•&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;makefile&quot;&gt;&lt;pre class=&quot;language-makefile&quot;&gt;&lt;code class=&quot;language-makefile&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# æ¸…é™¤æ‰€æœ‰ .o åç¼€æ–‡ä»¶åŠå¯æ‰§è¡Œæ–‡ä»¶&lt;/span&gt;
&lt;span class=&quot;token target symbol&quot;&gt;clean&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
	rm *.o TARGET&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;å‚æ•°ï¼š &lt;code class=&quot;language-text&quot;&gt;rm -f&lt;/code&gt; å¼ºåˆ¶æ‰§è¡Œåˆ é™¤æ“ä½œã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;è¿›é˜¶å†™æ³•&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;makefile&quot;&gt;&lt;pre class=&quot;language-makefile&quot;&gt;&lt;code class=&quot;language-makefile&quot;&gt;&lt;span class=&quot;token target symbol&quot;&gt;clean&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; -rm -f &lt;span class=&quot;token variable&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;target&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;object&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[ã€å­¦ä¹ éšè®°ã€‘ç§‘ç ”ç¥å™¨_WebPlotDigitizer]]></title><description><![CDATA[å‰è¨€ï¼šObsidian æ˜¯ä¸€æ¬¾å¾ˆå¤šå¤§ç¥éƒ½åœ¨ç”¨çš„ç¬”è®°è½¯ä»¶ï¼Œå…·æœ‰å¼ºå¤§çš„åŠŸèƒ½ï¼Œèƒ½å¤Ÿæ»¡è¶³æ—¥å¸¸å„ç§ç¬”è®°çš„éœ€æ±‚ã€‚å¼ºå¤§ä¹‹å¤„åœ¨äºï¼šObsidian èƒ½å¤Ÿå®‰è£…å„ç§å¼ºå¤§çš„æ’ä»¶ï¼Œå®ç°å„ç§åŠŸèƒ½ã€‚
åºŸè¯ä¸å¤šè¯´ï¼Œç©è½¬ Obsidian ä»…éœ€è¿™ç¯‡æ–‡ç« è¶³çŸ£ï¼Œæˆ‘ä»¬ç›´æ¥è¿›å…¥æ­£é¢˜ã€‚ ä¸€ã€Obsidianâ€¦]]></description><link>https://gatsbystarterblogsource.gatsbyjs.io/022_record_Obsidian/</link><guid isPermaLink="false">https://gatsbystarterblogsource.gatsbyjs.io/022_record_Obsidian/</guid><pubDate>Mon, 02 Jan 2023 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;strong&gt;å‰è¨€&lt;/strong&gt;ï¼šObsidian æ˜¯ä¸€æ¬¾å¾ˆå¤šå¤§ç¥éƒ½åœ¨ç”¨çš„ç¬”è®°è½¯ä»¶ï¼Œå…·æœ‰å¼ºå¤§çš„åŠŸèƒ½ï¼Œèƒ½å¤Ÿæ»¡è¶³æ—¥å¸¸å„ç§ç¬”è®°çš„éœ€æ±‚ã€‚å¼ºå¤§ä¹‹å¤„åœ¨äºï¼šObsidian èƒ½å¤Ÿå®‰è£…å„ç§å¼ºå¤§çš„æ’ä»¶ï¼Œå®ç°å„ç§åŠŸèƒ½ã€‚
åºŸè¯ä¸å¤šè¯´ï¼Œç©è½¬ Obsidian ä»…éœ€è¿™ç¯‡æ–‡ç« è¶³çŸ£ï¼Œæˆ‘ä»¬ç›´æ¥è¿›å…¥æ­£é¢˜ã€‚&lt;/p&gt;
&lt;h2&gt;ä¸€ã€Obsidian å®‰è£…&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;å®‰è£…çš„æ–¹æ³•å¾ˆç®€å•ï¼Œç›´æ¥è¿›å…¥å®˜ç½‘ï¼š&lt;a href=&quot;https://automeris.io/WebPlotDigitizer.html&quot;&gt;automeris.io&lt;/a&gt;ï¼Œç‚¹å‡» &lt;code class=&quot;language-text&quot;&gt;Get Obsidian for &gt; windows&lt;/code&gt;  -  &lt;code class=&quot;language-text&quot;&gt;Download for Windows&lt;/code&gt;ã€‚ä¸‹è½½å®Œ &lt;code class=&quot;language-text&quot;&gt;exe&lt;/code&gt; ç¨‹åºç›´æ¥åŒå‡»å³å¯å®‰è£…æˆåŠŸã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/f3313cb2d6b7c45742dff9374ea6735d/d073d/1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 41.77215189873418%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAACAUlEQVR42k2QS08TURSA+xuazqMzpZ1ph7bQwpQp0KFTSnEobUwpE5CgBEHiI2GhBHVhXNAEDYkxbGThY8HChWFpTIwujSsXJm5MdGXCxkTjSn/A58wQH4sv59x7z/lOzo1IksxAfgjTNNFSGqlUKiSZTKLrOoqiEI/HQ2RZDpEk6S99fYmwJkAQBCLBZVCcSCRQVTUkyP8/nzT8Ef6TSWIQZURBQvRzQRBPhKIoEo1GQ2KxWEgwTZLE8E0SZYRYHEXWSSo5NKWIrlpkVBtDdehX6z4Nsuo0kWBqp9PB87wQ13VptVo0m7PMNtusrqxzdmmdM94FyoU2uUSTYW2BEX2VsfQV7PQWTuYWk8YOdWOXSLBuZdxmqj4dMmFXqTlT2BWHWtXlVL2L6yzhtTZpWBextA2c/ps0sneYzT/g9MAh84UjFovPWRp66a/s/0kmr2AMKmhZiXROJlfUKZkV7PIM1mCLEcPDzm9Qy2+HovbAI7ziEcvDr1grveVS+QObo5+5On7sC8U4c6Uea7XHrNgHnHcesmjtk9UqFDMuZno+XK9qbOPm7jNXeMqy+YIN6w2bY++5YX/idvWY3cnv7NV/+UJBZqZwjYXRu3Stnh/36Jg9cqkaw5kOZWOVif4t3Pw+3eIzzpVec3n0Hdftj+xMfuFe4ysH7W886fzgsPuT3xpRD/VZEXj5AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/f3313cb2d6b7c45742dff9374ea6735d/f058b/1.png&quot;
        srcset=&quot;/blog/static/f3313cb2d6b7c45742dff9374ea6735d/c26ae/1.png 158w,
/blog/static/f3313cb2d6b7c45742dff9374ea6735d/6bdcf/1.png 315w,
/blog/static/f3313cb2d6b7c45742dff9374ea6735d/f058b/1.png 630w,
/blog/static/f3313cb2d6b7c45742dff9374ea6735d/40601/1.png 945w,
/blog/static/f3313cb2d6b7c45742dff9374ea6735d/78612/1.png 1260w,
/blog/static/f3313cb2d6b7c45742dff9374ea6735d/d073d/1.png 1297w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 403px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/67d8d86d5a88134c57e13e1311bffb1d/045fd/2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 135.44303797468356%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAbCAYAAAB836/YAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEmklEQVR42o2UbUxbVRjH+1Up9OW2vbftbe/tvbftbYHSxRcQ5oZDyzoUx+bCXqDA3CYvGhaitCDTichgGTjjFtyLM0HNYmaWZfJNiVGjMX41i5pFvygu8WUJi9koZv4955RbCwOzD/885/V3nnOe5zkmj8cDKq/XC6N9h9xuCG4BbmINCYIAnueZNUT7pkIgXej3+6Fp2pKCUFUFfllEQPGTdoCN0TlFUdieNYEU5vP5EA6HmfSwjmBQJRAZB1tOIdN2gfSDCIWDZF6HrusMXAikWgYMBAIMFgqFyWaNbcx0nMfM5G1MP38b2x44hoDmRThE14SYqJeFV18GlGU5D1SIZ/1t0/ho4h98MPY7jjRfw6HEn3js/gNQNHKTkH53wNxVVJSVxnBm6AfMnPgLF8avYzDxM0abbqBny0WompT3shB4xxsaQFWTEY/UYPrla5idJsCj1zFU/wsm9swjs2OWzYf+D2ikAQOGI+Sd3NgQ6sULdVcx++48vvzwFsaaf8Nk+x84+dyvqFxXBzngY29sAA2ZCvMqIAfIqSSKWhT7Hr6EjvJvMNn1Pc5PXsXwziuY2DuH9w/dwuFnLpO0kZd5uDowoEBWRGx6sAVjrT+iZ+NXSMU/we74RbRXzeDZR2cxPTSPV3suEw+luwGSxCXpEtVj6N91CZnkFeyv+RgHk5+i/8mv0Zv4Auntn+G+ivXwSyILDH2yNYGSJLGElkhlBNUIUjXvIZ38FkdafsLx/XM4lppDU+UIPKKD5GmIJToFulyu1YGiKC4lbJhAfVBlHdXlzUhW9aCz8Swy2z9HdWwbJMXLAkIrpdC7PJDCDEvLT1VpyWnsndwiB8FjJ9bJsoCO0Xlayyuvy4Ara9HIKXoA+zQ8IkSvj7S9+THj8MKrrgmki+12O4qLi1FSUsJkNpthsVhQVGRmbTrGcVzeAUP0ANNqsGQyiYGBAbS2tiKRSCCVSqGxsRG9vb1oampi87SiHA7HMuiawIaGBgwODiKdTmN4eBjj4+Po6+vDyMgIpqam0N3djerqalitVraHggzlgW6BvI3gZXI6eHB2B+w2DlaLHZYSG2k78m1q6Rq6VuBJYFzCf0DDXc5VDLuziFgzON4Mu6uIWQdf2M+NcUKub3MUweq4F5zTSmC8AXSxUzZoXajXX8QmLY2NUhqPyBnUUhtYkpJmfSo6XyunURfsR334JZT5EwzKE6jJxTvhEfzoq/wOh6sWcfypmzi9N4sTuxbwVjuxu4ltW8AbOxZwrnMRpzqyrP/mzgUM197A6Hrg8cgY85R3uZcDX3nob0xsvYl3uhdx+uksznUt4sy+LKZSWZzcs8DGzh7I4u3O3PjIplWA7MokIHWhfjwRPYpkaBQJZRSb1VHUE1uv5rRZW7IF41v017C19HWskxvz72gyosM5LSQoJGFdRPwKuySb0wwrRwORC4jNQZLfdg9sdrLXzrG8zAMF3s3kcYvw+2RSbn7IkgLJL7M+laoEEY2UIaKXojRaDp8oEVtGPhMdkWiEfS6mwqRcrTYNOZ1O9inE43FEIhH2K9HPoqKiArFYjFn6sfwLNwtsbcC1T90AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/67d8d86d5a88134c57e13e1311bffb1d/045fd/2.png&quot;
        srcset=&quot;/blog/static/67d8d86d5a88134c57e13e1311bffb1d/c26ae/2.png 158w,
/blog/static/67d8d86d5a88134c57e13e1311bffb1d/6bdcf/2.png 315w,
/blog/static/67d8d86d5a88134c57e13e1311bffb1d/045fd/2.png 403w&quot;
        sizes=&quot;(max-width: 403px) 100vw, 403px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h2&gt;äºŒã€æ‰“é€ å±äºè‡ªå·±çš„ä¸‡èƒ½å·¥ä½œå°&lt;/h2&gt;
&lt;p&gt;å·¥ä½œå°å¸ƒå±€å¦‚ä¸‹æ‰€ç¤ºï¼Œç”± &lt;strong&gt;ä¸ƒä¸ªéƒ¨åˆ†&lt;/strong&gt; ç»„æˆï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;ol&gt;
&lt;li&gt;==æ–‡ä»¶åŒº==&lt;/li&gt;
&lt;li&gt;==å†å²æµè§ˆåŒº==&lt;/li&gt;
&lt;li&gt;==ä¸»ç¬”è®°åŒº==&lt;/li&gt;
&lt;li&gt;==å…³ç³»å›¾è°±åŒº==&lt;/li&gt;
&lt;li&gt;==æ—¥å†æ—¶é—´åŒº==&lt;/li&gt;
&lt;li&gt;==å¤‡å¿˜å½•ï¼ˆæ¯æ—¥å¾…åŠï¼‰åŒº==&lt;/li&gt;
&lt;li&gt;==æ€»è§ˆå¤§çº²åŒº==&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/bc0676546e006d49fa2132041f79be51/29114/3.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 54.43037974683544%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAACP0lEQVR42l2SW2/TQBCF/StoGt/iu+Pc7fU6tuNcnKRNUNoqKC3wAkJIPPFQif+vw7EhFeLhaHfHnm9mzq6yS1PshMB2MsExTVBNEiypahy3axaOUAxHmEcRquEQdb8PEQTIuV8wZzcYIAv6WIzHWDGmFAwkiUARhiiYZLsD+M4EgTtBFAhEYYpez0FXVeEaBkrbhm6a7d6kln4A34vQY3zoOFCaSjLL2upzVk9SAc9zoGkqNP2PDEOHxmSvAXgePBbvGSbjBraE5K4D4fuoGVcyQmQSo+Q6Y5VVXSOJYwJ1Jph/ZbRAn50t+E9X16CzkE/IaTTCHf+X3K9c9wpMMGfrwnOx3GwwoA0qR7QIaMa6AgOec6sH1XIQRQm6Whcr+henErploc/viiQwlRIL+idpdr3bYUyDG6D7H9Dj+Z4dCo65imiVbeEURDjGbIi568bDBpgQmHMdM0HIDGVRwGaipust7Ap0eX7iiCn/HfEcEzCjfzG7nlp266+yZGcrerCmB4KBar2GlClM03yDvXVIbQjzeIE+L6C9HDuA2/PRUTWE9Fs5TKd4z3d4om/NLdf7PQSfkUVP/pVJBdSBHRZVhe2mRlWWWJZr5POKTfD9TiMoM84eENbc8JSSHHfGIqqm4abTQef2ttW72w6Mmxvs+yHSeYaMT01wEiESSiDmKgcEfjwc8Hw+4zMrvswLfLk848N2h32W4z4v33RXLHAqF/ha3+Hy8IRPj494OT3gfH/E98sFv36+4vXbD/wGjVxQnoPcKKgAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/bc0676546e006d49fa2132041f79be51/f058b/3.png&quot;
        srcset=&quot;/blog/static/bc0676546e006d49fa2132041f79be51/c26ae/3.png 158w,
/blog/static/bc0676546e006d49fa2132041f79be51/6bdcf/3.png 315w,
/blog/static/bc0676546e006d49fa2132041f79be51/f058b/3.png 630w,
/blog/static/bc0676546e006d49fa2132041f79be51/40601/3.png 945w,
/blog/static/bc0676546e006d49fa2132041f79be51/78612/3.png 1260w,
/blog/static/bc0676546e006d49fa2132041f79be51/29114/3.png 1920w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h3&gt;1ã€æ–‡ä»¶åŒº&lt;/h3&gt;
&lt;p&gt;åªè¦ä»»æ„åˆ›å»ºä¸€ä¸ªç¬”è®°ï¼Œå·¦è¾¹å°±å¯ä»¥æ˜¾ç¤ºå‡ºæ–‡ä»¶åŒºï¼Œè¿™æ˜¯æœ€åŸºæœ¬çš„ï¼Œå°±ä¸å†èµ˜è¿°ã€‚å”¯ä¸€éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¯èƒ½æœ‰åŒå­¦è¯¯å…³é—­äº†æ–‡ä»¶åŒºï¼Œä¸çŸ¥ä»ä½•å¤„æ‰“å¼€ï¼Œåªè¦ç‚¹å‡»å·¦ä¸Šè§’çš„æ–‡ä»¶å¤¹å›¾æ ‡ã€‚
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 272px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/1c7ba373ef6fad51680f714bb8b42418/2aae8/4.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 31.0126582278481%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsTAAALEwEAmpwYAAABFElEQVR42n2Ry2qDYBCFfZK2IF5DE+9G0VaFFNEYdFGwgjRp6C67vj+nZ6RZFNIuPmbmMJd/5le22y1edjvESYJTFOGrbfHZNLhQr7MMIW1MvSgKxHGMiP5/KHmeYxxHPLNgCkO8n88YLxe8csBbXSOjntDvug5pmi5F0vgvFM/zIDjkxIYdxSfywcKK2qPr4prj+/4vewvFMIwlQTdNFJaFnhxIy9h3HGw2G6xWq8Xqur74mqbBYo5t25B68U3mi65IUHM1KXigcP/DHekOB0zThIY3necZVVVhGAZkvK2c4Hg8oixL7Pd79H0PVVWhyFRpKpNMYjC+IkOCIIDHDdbr9RK7PIHDl4uVD5XtJCfkueSF35snxYivE8rcAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/1c7ba373ef6fad51680f714bb8b42418/2aae8/4.png&quot;
        srcset=&quot;/blog/static/1c7ba373ef6fad51680f714bb8b42418/c26ae/4.png 158w,
/blog/static/1c7ba373ef6fad51680f714bb8b42418/2aae8/4.png 272w&quot;
        sizes=&quot;(max-width: 272px) 100vw, 272px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h3&gt;2ã€å†å²æµè§ˆåŒº&lt;/h3&gt;
&lt;p&gt;å†å²æµè§ˆåŒºå¯ä»¥æ˜¾ç¤ºæœ€è¿‘å…³é—­çš„ç¬”è®°ï¼Œç±»ä¼¼äºWindowsçš„å¿«é€Ÿè®¿é—®åŒºã€‚å½“ç¬”è®°éå¸¸å¤šçš„æ—¶å€™ï¼Œä½¿ç”¨&lt;strong&gt;å†å²æµè§ˆåŒº&lt;/strong&gt;æ¥åŠå…¬å°±å¯ä»¥å®ç°äº‹åŠåŠŸå€ã€‚
ä½¿ç”¨å†å²æµè§ˆåŒºéœ€è¦å®‰è£…ä¸€ä¸ªæ’ä»¶ Recent Filesã€‚å®‰è£…æ­¥éª¤å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ç‚¹å‡»å·¦ä¸‹è§’ &lt;code class=&quot;language-text&quot;&gt;è®¾ç½®&lt;/code&gt; å›¾æ ‡ - &lt;code class=&quot;language-text&quot;&gt;ç¬¬ä¸‰æ–¹æ’ä»¶&lt;/code&gt; - &lt;code class=&quot;language-text&quot;&gt;ç¤¾åŒºæ’ä»¶å¸‚åœº&lt;/code&gt; - åœ¨æœç´¢æ è¾“å…¥ &lt;code class=&quot;language-text&quot;&gt;Recent Files&lt;/code&gt; - ç‚¹å‡»å®‰è£…å³å¯ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/104fa5efbcd9a4dbb897727562dbe07d/07a6a/5.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 42.405063291139236%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAABVElEQVR42n1Sy0rDQBTNd2iTmSTNPJvETlKTYm0rFroQURFBUHChn+BG3frfx7kjkUKLi8PcgTvnce9ExhgURQEhBKSUSNMUWmtYa8E5R57nyLIMSZLsIY7j0F9WNbRVYClDNO/ncNMGolDQyiD3j4nQORdOAgkeIkyS2It6AzLDVXcHJ6aImtZhUhmkeYK84EFFKU/YOH+q4JCcMsb2wBlH7EnHLMfb5hu9XiC6Wd/ienGPVbXFpbvGVNRQWmI2m/3jbADDKD6CHNd42H5AiRNET8tXvGw+8Xj2juflFy7sGsYIdF0f4g6zHea765DuYb5sBGUzX3NEVW1RCO4jH/vII/A0CVGbpkFZln+xDy2EFko9EzuB0TYIRIvFObrTHuO8gJIaWZoFEloKPSInA8Eu9rf92xf1fY+2bYOLIRZ9GSKk+hAoJgkREdVKSXTtCnXl8ANIM+oRxssSdwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/104fa5efbcd9a4dbb897727562dbe07d/f058b/5.png&quot;
        srcset=&quot;/blog/static/104fa5efbcd9a4dbb897727562dbe07d/c26ae/5.png 158w,
/blog/static/104fa5efbcd9a4dbb897727562dbe07d/6bdcf/5.png 315w,
/blog/static/104fa5efbcd9a4dbb897727562dbe07d/f058b/5.png 630w,
/blog/static/104fa5efbcd9a4dbb897727562dbe07d/40601/5.png 945w,
/blog/static/104fa5efbcd9a4dbb897727562dbe07d/07a6a/5.png 1095w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/3ea7942be31e73f3946cb9daf12a64f7/76a99/6.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 27.21518987341772%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA4UlEQVR42nVQy26EMBDjP1oEFAJ5D9kEpH10e6i0l5V66P//izsJSi9VD9YkE9uy0xhrcbneEE4nSKXKtLzTWoOIynmaJgghMM9zmf8h8xoyBvfzjkQrFC/3EKCWBeM4FtLC54wqyKYV9S1DSnkYfkaH70fC8/IF2U8wbYuoDdK+l3Qvry26roNzHiFE9H2PljnDMPwxL4aJRRQjky2EnDndGzbvkLYNSkl4dyRbV8LHeyrifM/G1axWzq2ayAvLhM0IRCOxs+mZNNZAMPyP3h51rdW4X+nXJItrstzEe1/mDw/6lHg49BFUAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/3ea7942be31e73f3946cb9daf12a64f7/f058b/6.png&quot;
        srcset=&quot;/blog/static/3ea7942be31e73f3946cb9daf12a64f7/c26ae/6.png 158w,
/blog/static/3ea7942be31e73f3946cb9daf12a64f7/6bdcf/6.png 315w,
/blog/static/3ea7942be31e73f3946cb9daf12a64f7/f058b/6.png 630w,
/blog/static/3ea7942be31e73f3946cb9daf12a64f7/40601/6.png 945w,
/blog/static/3ea7942be31e73f3946cb9daf12a64f7/76a99/6.png 1117w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
åœ¨å·¦ä¸Šè§’èœå•æ æ‰¾åˆ° &lt;code class=&quot;language-text&quot;&gt;æ—¶é’Ÿ&lt;/code&gt; å›¾æ ‡å³å¯æ‰“å¼€ï¼Œå¸ƒå±€å¯å‚è€ƒä¸Šå›¾ï¼Œå°†å…¶æ”¾åœ¨ &lt;code class=&quot;language-text&quot;&gt;æ–‡ä»¶åŒº&lt;/code&gt; ä¸‹æ–¹ã€‚&lt;/p&gt;
&lt;h3&gt;3ã€ä¸»ç¬”è®°åŒº&lt;/h3&gt;
&lt;p&gt;ä¸»ç¬”è®°åŒºæ˜¯è®°å½•ç¬”è®°çš„ä¸»è¦åŒºåŸŸï¼Œåœ¨æ­¤åŒºåŸŸè¯»è€…å¯ä»¥è®°å½• è®ºæ–‡é˜…è¯»ç¬”è®° or è¯¾ç¨‹å­¦ä¹ ç¬”è®°ç­‰ç­‰ã€‚æ³¨æ„ï¼Œç¬”è®°æ‰€ä½¿ç”¨çš„æ˜¯ &lt;code class=&quot;language-text&quot;&gt;Markdown&lt;/code&gt; è¯­æ³•ï¼Œå¤§å®¶å¯ä»¥æŸ¥é˜…å®˜ç½‘çš„è¯­æ³•è¯´æ˜ï¼ˆ&lt;a href=&quot;https://markdown.com.cn/basic-syntax/&quot;&gt;Markdown åŸºæœ¬è¯­æ³• | Markdown å®˜æ–¹æ•™ç¨‹&lt;/a&gt;ï¼‰ï¼Œå…¶å®æ˜¯éå¸¸å®¹æ˜“ä¸Šæ‰‹çš„ã€&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/559c9fc7afdfedcb3bc6b7efa3d483c4/b7877/7.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 74.68354430379746%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsTAAALEwEAmpwYAAACBUlEQVR42o1U2XLaQBDUTyQmBqFrdSKJ1UkQxAgVFFXmyfn/f+nMjIIcp4LJQzOrZdU7PdMjw7IsLBZzzOdziospMkzThO8HCIMAcRwjzzPw+eVyKfEGfnYcB57nweCDZVFCrzXSVYqyLGi9pnWCjAh2u51gTXt8Cb/8L/Dltm3DyLIc59MZp9MJXdfheBxw6M/48TIQ0R6XywXX6xVt2zwk5CwN13WRJIlIWq0ytFWES+/gdVAIfRNfvj5hNnvC8/PzXbIPhPyjPAXP9aReWRqgLjxU2oVSNh3+WKuHhGma4nA4oO97kvaKt7ef2O8PmH2jpnxCcJdQeaE0xVc+dUnJJhfXNBdTt//EZ6SswlBuDJ03JPMFOtsgjmIoXyEgqyRU1ygKCZHsB77/MFPDsb3RMiQ9DENqzErIGGm6koaltJdlmTTuIaFyIhz7AU1TkXFzyYaJlVKTuRk3w/9Hhkqyq6oShS5QFAXquibfbaALTYbWdFlNTvAmcsb9DN0QxbqYbMENGcfIpehKVMqTfcuy5ZlH7O8xvWUvktumJdQiuSpLyrairBoavZymZyu2ajctttsOwzCIAh7FNEsFPG1xMtbXcG2fmjLKbIiY57j73olMXjM2m41cwmXg8dRaY/97xrlZXHNuohBa1ugfljTKsqbIEqevyvL9K/P+vzU1kd3B+AXt7LEuhd8pzwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/559c9fc7afdfedcb3bc6b7efa3d483c4/f058b/7.png&quot;
        srcset=&quot;/blog/static/559c9fc7afdfedcb3bc6b7efa3d483c4/c26ae/7.png 158w,
/blog/static/559c9fc7afdfedcb3bc6b7efa3d483c4/6bdcf/7.png 315w,
/blog/static/559c9fc7afdfedcb3bc6b7efa3d483c4/f058b/7.png 630w,
/blog/static/559c9fc7afdfedcb3bc6b7efa3d483c4/b7877/7.png 891w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h3&gt;4ã€å…³ç³»å›¾è°±åŒº&lt;/h3&gt;
&lt;p&gt;å…³ç³»å›¾è°±åŒºåªéœ€è¦ç‚¹å‡»ç¬”è®°å³ä¸Šè§’çš„ &lt;code class=&quot;language-text&quot;&gt;ä¸‰ä¸ªç‚¹&lt;/code&gt; - &lt;code class=&quot;language-text&quot;&gt;æ‰“å¼€é“¾æ¥è§†å›¾&lt;/code&gt; - &lt;code class=&quot;language-text&quot;&gt;æ‰“å¼€å±€éƒ¨å…³ç³»å›¾&lt;/code&gt;ï¼Œå³å¯æ‰“å¼€å…³ç³»å›¾è°±ã€‚å…·ä½“çš„å…³ç³»å›¾è°±ä½¿ç”¨ä¹Ÿå¾ˆç®€å•ï¼Œåªéœ€è¦ä½¿ç”¨ &lt;code class=&quot;language-text&quot;&gt;[[x]]&lt;/code&gt; ä¸¤ä¸ªæ–¹æ‹¬å·ï¼Œå°†è¦é“¾æ¥çš„ç¬”è®°è¾“å…¥å…¶ä¸­å³å¯ã€‚Obsidian è¿™ä¸ªå¼ºå¤§çš„å…³ç³»å›¾è°±åŠŸèƒ½ï¼Œèƒ½å¤Ÿå¯è§†åŒ–ç¬”è®°ä¹‹é—´çš„è”ç³»ï¼Œåœ¨å¤§è„‘ä¸­æ¸…æ™°åœ°å»ºç«‹å‡ºçŸ¥è¯†æ¡†æ¶ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;markdown&quot;&gt;&lt;pre class=&quot;language-markdown&quot;&gt;&lt;code class=&quot;language-markdown&quot;&gt;	[[ç¬”è®°2]]&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 448px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/63b8dc023620391f09c225efee62a984/33b38/8.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 144.30379746835442%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAdCAYAAACqhkzFAAAACXBIWXMAAAsTAAALEwEAmpwYAAADi0lEQVR42pVWyXLaUBDUFySX2IDZsc0iAUZiNfsOhgQHO4mr7LicQ0455Htyy6dOugceIYpdZQ5TT0h6/Xp6ekZYp6en4o+zszNdbduWQqGgazKZlHg8LvFEQqLRqD7P5XKSTqclk8lINpuVNFaLL/FlEwls4D2ufImAXGOxmN5LbAF56MVFUfL5vBTyBVxf6AEWb1SrVen3+zIYDHQdjUYyn8+l1+vpRjIwQARm8DoSiexFWFerVCpJq9WS6XQqi8VCPM/Tk5gmw6REQANmIr67jm8jJhY3kSHByIqMqc/5+bmGAaQMfsDnwuIGx3GkXC5LpVJRdgbIxEGABHBdV9rtturHIuyDHQLId3aAZMeiMOVUKnUwIJ+Hw+ENIEs+Ho81WCDGIYB8FgwGtaAWXzbWIVP1lS/t1wDSRsTQKjcaDZnNZloY+u7QovAZZeI+q1gsSrPZ3Bma9uEBh2poTK+dQmYsiEmVJ5HpoUWh+S3jweFwKN1uV6vNtV6v7wBp9P22+x+MPb4ZHsrw8vJSK8z2W61WKoEZCgSkPi8BxtFyoXBAwpGAXlvcSM2oX61WU8vQSmRl0n0ZEN6LnIhXRGaloV7vGJIdgUjbX2U/IK8ZTPXo+K38uP8lPx9/y7ujN3+rTNvQRzQ5Wb0EyJVScB/1dxxbPLcibqmi9zVlFoJgTN140aT7XMqsJu+Zgbw/oHXaEJTDgakbYDPGngM0Kf+ja3RzX1uPrJgydeR6dXWlMrAVqWsKJ79mdG3Gl00NXBnAe2NUejaZyAKDljaiNykHP0wxFsEfZOsHrOATcId07wHwCIZPYPeA6084gO3YxDMXVR8hkzaiB+G727WHtQW9k5CE8qiGLYycp05H1mD27fpavt/eynv8voauVUjhwZs9ZPEZuk6h8R0OfUC/f10uZQlZltvPJ6XT4WBDoz5AFzD0GJsniDk2jhDa1wgbL05QrAnacQXWXyDJDbK4gUQfQeQDumuCVW2TLxYk73rSACuyKWNTFWANnJ7efqhSSKsItmU873AqgWUP+vYBOoNEpiloN6sGc/ZzNjTJSSOTVTY6ExE8kanwdwWAdQC2kckcTlBGHM7Yn8lmtr7EtEmn8JcC4dBzFNf3L8KYmOOdVuK8XK/X6ll2CjuGTqjVquLYjlihkxMJhIJyjG9CIBSSkC/4raBhTRvS9AQmEBvC88p6r91qy7izlj+B0GHMuw/VdgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/63b8dc023620391f09c225efee62a984/33b38/8.png&quot;
        srcset=&quot;/blog/static/63b8dc023620391f09c225efee62a984/c26ae/8.png 158w,
/blog/static/63b8dc023620391f09c225efee62a984/6bdcf/8.png 315w,
/blog/static/63b8dc023620391f09c225efee62a984/33b38/8.png 448w&quot;
        sizes=&quot;(max-width: 448px) 100vw, 448px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h3&gt;5ã€æ—¥å†æ—¶é—´åŒº&lt;/h3&gt;
&lt;p&gt;æ—¥å†æ—¶é—´åŒºå¯ä»¥æ˜¾ç¤ºæ—¥å†ï¼Œå¹¶å¯ä»¥åœ¨æ—¥å†ä¸Šå»ºç«‹æ¯æ—¥å¾…åŠã€æ¯æ—¥æ—¥è®°ã€å‘¨å¤ç›˜æ€»ç»“ç­‰ç­‰ã€‚ä½¿ç”¨æ—¥å†æ—¶é—´å»éœ€è¦å®‰è£…æ’ä»¶ Calendarï¼Œå®‰è£…æ­¥éª¤å¯ä»¥å‚è€ƒ &lt;code class=&quot;language-text&quot;&gt;2ã€å†å²æµè§ˆåŒº&lt;/code&gt; çš„å®‰è£…æ­¥éª¤ã€‚
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 338px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/bb81bef868027463c194783414499330/2b41d/9.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 70.25316455696203%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAACTUlEQVR42lVUyXabQBDUX1hiG2DYQQjQYskysaM4jp5zcN7LJdf8/0dUuppgJYd+oxl6qequ1iIMQ/xrQRDABAahCRHHFlEUoWka9MMg1qPIM32z1qrFcayWpqneF0xijIHjOJrM9ZZw/Ts57+D7HjzPR7NucX4cMX4akUtC+rquq+Z5np4swjwLPuR5jqfnJ2y3A9bZM4byO9r8gsgk8ANPgxxnheVyqYFZlqGsarRtOyFLxM/3FdCC1TZdh/cf79jv9zjUP3Fuf+PU/IINc0XJyjQGJBJcFIWAKFBVlYJhUhbltwWdmH2m7AcuAuPK6UiSYOqrnDMl3unP3753KzYzVcpFWaIsC2x3OyQ2Qd8P2Agd0jre30vlFF8uFySCZBxHoZzieDwJsgT7wwE7iVutVlNCVuM0CTuOI7UomqbGynRi0bIoZfqBUg0khu9JYtU3kel+IFSZCA1SCkOjNGdq/MZ3nlaKTvdYT0plVohS/ltEEVI/rJZnuRqdS2k8HYe+QySBlWiRQWuRkH6XO5FlIqP1eq0zuCE0k6hZnYI2gjSKJoQsxsRMMiPjPYonX8ZZG98oTwgTQZaI7mpYU8GmFm23keka2ZJaE+y2W713Xa/I2k2nW5MLk7Ks/u/hvHa6RtrLUMU6I/T9CRlpsafTIIl4EjP9OWWeH1O27IvIhFUpE+5vKC3o+16FfL1e8XB+wOvrN5yOR5HYXiT0iLe3N3x9ecFnkRWLKcJZ3JkMhIn5gbLh24ymqWttfiWanTeE90H+NLiC1CJ3+Q+zApAW5ldYSAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/bb81bef868027463c194783414499330/2b41d/9.png&quot;
        srcset=&quot;/blog/static/bb81bef868027463c194783414499330/c26ae/9.png 158w,
/blog/static/bb81bef868027463c194783414499330/6bdcf/9.png 315w,
/blog/static/bb81bef868027463c194783414499330/2b41d/9.png 338w&quot;
        sizes=&quot;(max-width: 338px) 100vw, 338px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
åªéœ€è¦ç‚¹å‡»æ—¥å†ä¸Šçš„æŸä¸€æ—¥æœŸï¼Œå°±ä¼šå‡ºç°æç¤ºæ˜¯å¦åˆ›å»ºæ—¥è®°ï¼Œç‚¹å‡» &lt;code class=&quot;language-text&quot;&gt;Create&lt;/code&gt; å³å¯åˆ›å»ºæ—¥è®°æ¥ç¼–å†™ã€‚&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 563px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/1f9bd965440e29bb3dc39a1df4f6fa37/7cb89/10.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 29.11392405063291%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA+klEQVR42pWQvUrEQBSF5wksVDCT3w2E/P8QlAmycQlJWNhit9JCbKzsbcXWN/IJfLFjzkBCLLaw+Lh37r3nzpkRpmnCsqw/sOa6LjzPOwv7M47jwPd9FEUBMY4j2rYF4zAMmq7rtIiL1xfatr3k64WEvbIsIZRSaJpmgWeS5zmSJEGWZYjjGGmaIooiXSN0NLvdbPzJpTtpJocUVlWlhRykbYpZI3VdL5EzzKmhIynNKVq4kVe4vL5AlqcQfJKUcnnenDPOrOuGYeiFfd/jYbfF/d2A96dvfLz8oFUHiDAM8R+CINBfczqesN+P2LUDXh8/8fb8BXW7xS+3eLHQkJZqkQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/1f9bd965440e29bb3dc39a1df4f6fa37/7cb89/10.png&quot;
        srcset=&quot;/blog/static/1f9bd965440e29bb3dc39a1df4f6fa37/c26ae/10.png 158w,
/blog/static/1f9bd965440e29bb3dc39a1df4f6fa37/6bdcf/10.png 315w,
/blog/static/1f9bd965440e29bb3dc39a1df4f6fa37/7cb89/10.png 563w&quot;
        sizes=&quot;(max-width: 563px) 100vw, 563px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h3&gt;6ã€å¤‡å¿˜å½•åŒº&lt;/h3&gt;
&lt;p&gt;å¤‡å¿˜å½•åŒºå…¶å®å°±æ˜¯æ™®é€šçš„ç¬”è®°ï¼Œå°†çª—å£è°ƒæ•´ä¸ºåˆé€‚å¤§å°ï¼ˆç¬”è€…ç½®äºæ—¥å†åŒºä¸‹ï¼Œä¸æ—¥å†ç»“åˆç€è§‚çœ‹èƒ½æ›´å¥½åœ°å’Œddlè”ç³»èµ·æ¥ï¼‰ï¼Œé€šè¿‡ä¸€ä¸ª markdown è¯­æ³•å°±å¯ä»¥å®ç°å¦‚ä¸‹å›¾æ‰€ç¤ºçš„å¤‡å¿˜å½•åŠŸèƒ½ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;markdown&quot;&gt;&lt;pre class=&quot;language-markdown&quot;&gt;&lt;code class=&quot;language-markdown&quot;&gt;&lt;span class=&quot;token list punctuation&quot;&gt;-&lt;/span&gt; [ ] å­¦ä¹  OS
&lt;span class=&quot;token list punctuation&quot;&gt;-&lt;/span&gt; [ ] çœ‹è®ºæ–‡
&lt;span class=&quot;token list punctuation&quot;&gt;-&lt;/span&gt; [x] åˆ· Leetcode
&lt;span class=&quot;token list punctuation&quot;&gt;-&lt;/span&gt; [ ] æ•´ç† obsidian ç¬”è®°&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 338px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/689287ef194dba3d3f9eabd914e05205/2b41d/11.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 77.84810126582278%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAAsTAAALEwEAmpwYAAACaklEQVR42pVU2WrbQBTVPzRYsrVZi23JWlwpEm4kb8QkoQRM3NZOU+qXGAoJphQK9UPz1OdS+sen906Q0zQhJQ9HI41mzpxzl5GSJEGeZwK+56HZbMKyrHswmwYCP6X/MTyvgyAI0Gq10G63d+h2u+h0OpCYsCgPUJYlfN+HpmkwDGMHVVVRrytouxE67Qh+10MURTtCHhl8iCDUiaDRUAWRpun3yExSG/diRHFECjz6NoWDygWPHrliosqNZNsOHMehyfZuUZNtmiZs20ZRkPpRidFoDJeU6PrdoSwiDEPhjNfyP0nXDciKjL29PciyDEVWoCiMOuo01mo1sq1BbTTukVWo5nhkYRKf8unqGp831zg7m2M2m2G1WuF8scD7iwtMp4fgsJhm8wHZ32AeVioIv3z9ht+/fmK9XmP1cYXvNzfYbrfYbDY4Xy5g6NqTZJVCTpJk0Asng9k5uAGl37YtuK6LMAhpdB5k/ilI/GACthSFkcgao0tloJMy7ZG4/ZeQ1XBAy3KA4XCIvN/HaDyGQ5l7DtmOkMmYlIs7y3OkaYIWfXNcuHyeTWjZJhWtjuPjI5SksCgKeBRPuSZT0TeeR1hXX2C6f4X54AfSvIf9JBUqM+rtfv8VioPibsM/ah9TL6magiw4xTD5gDDyKTEhsixHHMfo9XqIqW+5n29b8xYcCkY1r4tK0SrLJiyHYmWpmL9bYvFmLtptNJ7gcDLB6etTnJwc4fJyjbeLJV0kpTiML4PpdCqSOBgMMKG1fAAR6rAth0rHpUuAVb28LR2qS65N3hjT5ZBlGZI0FXNVzVYuhBN6517+A7YA1eMaMfKzAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/689287ef194dba3d3f9eabd914e05205/2b41d/11.png&quot;
        srcset=&quot;/blog/static/689287ef194dba3d3f9eabd914e05205/c26ae/11.png 158w,
/blog/static/689287ef194dba3d3f9eabd914e05205/6bdcf/11.png 315w,
/blog/static/689287ef194dba3d3f9eabd914e05205/2b41d/11.png 338w&quot;
        sizes=&quot;(max-width: 338px) 100vw, 338px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h3&gt;7ã€æ€»è§ˆå¤§çº²åŒº&lt;/h3&gt;
&lt;p&gt;æ€»è§ˆå¤§çº²åŒºä¹Ÿæ˜¯ä¸€ä¸ªæ™®é€šçš„ç¬”è®°ï¼Œä¸ &lt;code class=&quot;language-text&quot;&gt;ä¸»ç¬”è®°&lt;/code&gt; å’Œ &lt;code class=&quot;language-text&quot;&gt;å¤‡å¿˜å½•&lt;/code&gt; ä¸åŒä¹‹å¤„åœ¨äºï¼Œæ­¤å¤„å¯ä»¥ç”¨æ¥è®°å½•ä¸€äº›æ€»ç»“æ€§ã€é˜¶æ®µæ€§çš„è¿›å±•æˆ–è€…ä»»åŠ¡è¦æ±‚ï¼Œèƒ½å¤Ÿå¸®æˆ‘ä»¬æœ‰ä¸€ä¸ªæ•´ä½“çš„ç»“æ„æ€ç»´å»å®Œæˆä»»åŠ¡ï¼Œç›¸ä¿¡å¤§éƒ¨åˆ†äººåœ¨æ—¥å¸¸ç”Ÿæ´»ã€ç§‘ç ”å­¦ä¹ ä¸­ä¹Ÿéƒ½ä¼šæœ‰è¿™æ ·çš„ç¬”è®°ç»å†ï¼Œåº”è¯¥èƒ½ get åˆ°è¯»è€…çš„æ„æ€ï¼ˆç‹—å¤´ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;è‡³æ­¤ï¼ŒObsidian çš„ä¸‡èƒ½å·¥ä½œå°é…ç½®å·²ç»ä»‹ç»å®Œæ¯•ï¼Œå¸Œæœ›å¯¹å¤§å®¶æœ‰æ‰€å¸®åŠ©ã€‚é™¤æ­¤ä¹‹å¤–ï¼ŒObsidian è¿˜å…·æœ‰ä¸€å †å¼ºå¤§çš„æ’ä»¶ï¼Œèƒ½å¤Ÿå®ç°å„å¼å„æ ·çš„åŠŸèƒ½ï¼Œååˆ†è‡ªç”±ä¹Ÿååˆ†äººæ€§åŒ–ã€‚æ¬¢è¿è¯»è€…åœ¨è¯„è®ºåŒºæ™’å‡ºè‡ªå·±çš„å·¥ä½œå°ï¼&lt;/p&gt;</content:encoded></item><item><title><![CDATA[ã€å­¦ä¹ éšè®°ã€‘ç§‘ç ”ç¥å™¨_WebPlotDigitizer]]></title><description><![CDATA[ä¸€ã€WebPlotDigitizer å®‰è£…æ–¹æ³• ç›´æ¥åœ¨å®˜ç½‘ä¸Šè¿›è¡Œä¸‹è½½ automeris.ioï¼Œé€‰æ‹©å³ä¸Šè§’çš„ä¸‹è½½æŒ‰é’®ï¼Œå†æ ¹æ®ç”µè„‘ä½æ•°é€‰æ‹©å¯¹åº”ç‰ˆæœ¬è¿›è¡Œä¸‹è½½ã€‚ 
2. ä¸‹è½½åå°†å¾—åˆ°ä¸€ä¸ªå‹ç¼©åŒ…ï¼Œç›´æ¥è§£å‹ç¼©ï¼ŒåŒå‡»å³å¯è¿è¡Œï¼Œå¾—åˆ°å¦‚ä¸‹ç•Œé¢ã€‚
 äºŒã€WebPlotDigitizerâ€¦]]></description><link>https://gatsbystarterblogsource.gatsbyjs.io/021_record_WebPlotDigitizer/</link><guid isPermaLink="false">https://gatsbystarterblogsource.gatsbyjs.io/021_record_WebPlotDigitizer/</guid><pubDate>Sun, 01 Jan 2023 00:00:00 GMT</pubDate><content:encoded>&lt;h2&gt;ä¸€ã€WebPlotDigitizer å®‰è£…æ–¹æ³•&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;ç›´æ¥åœ¨å®˜ç½‘ä¸Šè¿›è¡Œä¸‹è½½ &lt;a href=&quot;https://automeris.io/WebPlotDigitizer.html&quot;&gt;automeris.io&lt;/a&gt;ï¼Œé€‰æ‹©å³ä¸Šè§’çš„ä¸‹è½½æŒ‰é’®ï¼Œå†æ ¹æ®ç”µè„‘ä½æ•°é€‰æ‹©å¯¹åº”ç‰ˆæœ¬è¿›è¡Œä¸‹è½½ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 204px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/6c78431c2ff0aebded367717ed10a990/779ef/1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 31.645569620253163%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsTAAALEwEAmpwYAAABpUlEQVR42i2Rz0uTcQDGv14koSComOvdO96fyx+5ZLntfTcTFuYqFoFZ2WFS4naYHdLLYGo60baSCIum0EVK6B8oirUlVMjo0LFz4bX/4dP3nR4+8Jw+8DyP0PUoHkYwjnnWwVaTmAGXsOowZsRJBBwSioN7xGXNoU8d5IzvPN3dA238/jCaNtT2CN3wZDGUeD++jMmJUT/H0iqpdA8LqQu8nLbYnrF5k7eoSTZv9FK8Psm9qVmmsgWyklvj97Ftpy0VmjmE5XM5OeNHvBWkPqSZ/HEbZb2D+YIKB4LfnwTvX3fAP0HzRRf1V+/4+avFs2qV/VaLZnOPvv5LBIMXD4WmFJ7KKXTudpJrzDLxOUPo+WmWi2H408XXHYWdioC/x9mraXzc2uX7/je2a1vUvzSo1xtEIqOoauSwshaQyHqRgsvgA7nbwyuM56/yaPomT4oxNh5n2Fzq4emiy1LuGpW5EuW1DVaWK5RKq5TLVaLRsSOhd4qU6nLHkJak1xjmnDVCUh6St2Pc0V2ydoIJfZi7ZoJcyGHEihI0Yxje/hJTZg/vlP+LpeXcMusJcAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/6c78431c2ff0aebded367717ed10a990/779ef/1.png&quot;
        srcset=&quot;/blog/static/6c78431c2ff0aebded367717ed10a990/c26ae/1.png 158w,
/blog/static/6c78431c2ff0aebded367717ed10a990/779ef/1.png 204w&quot;
        sizes=&quot;(max-width: 204px) 100vw, 204px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 577px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/2080cec510dcd344ee3ed2abda783675/065e2/2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 63.291139240506325%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB80lEQVR42o1Ta3ObMBD0//9t+ZBO27HdlJdBIB4CjMXT4O2eardNM5OEYecOwe3t6sROFxZfjhX2Xo3nfYmjX+PpWw47XCHXtt2w3W7g7fDRtavbEYegwY+wJRp8fzF4PlR/CD9D8oqw7SYcqOoY1PBPLTwiiM+I0w6h6uBFLZ6+arcmqNvp3Ua7zs54iS5QxQCfBaJw/9PgRMKs7KFyS2K+1z0iNqia8X3CZZmhkhBR6GOe5zcfTNOIIPCQqgR9bz+2vK4rEpXD807o7IRxXt0gHgqmaUYYRYgIY2oM/YDeWlwuFxet7dmoZ7SsuQnhDWUzoTkvMBxQ1Qyv7FyvV2SZRpwkiE4RVBwjJsIodDEKuZamCMPQfbtbqaasB0ckAxL8T1iVJTKdQWuNqqpQlgXyvIBhXjBXKkXTNg/LJDQDCqIhmSHxuZud7b8KU6RUoXVOot9IlULKdcmLonCNpGZ3XTfo0t5V0jJjTvLHXi7LQgWJsydKlBARWZbRquQpCmnCZo5wJaGQmbvloup5XCxS/kGaue1HGFoWm1VlnJrSqaJ1PguR2G6au2X5rUrTI2exEDur/2ziTIVyZGTSojDhcE7Mfc+DH/jwfd9FseymLLXzshIb7W1vDuy2bRjH0UHOqcRhGByBwBhD9aXby67r8AuXT+N3Tb4LngAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/2080cec510dcd344ee3ed2abda783675/065e2/2.png&quot;
        srcset=&quot;/blog/static/2080cec510dcd344ee3ed2abda783675/c26ae/2.png 158w,
/blog/static/2080cec510dcd344ee3ed2abda783675/6bdcf/2.png 315w,
/blog/static/2080cec510dcd344ee3ed2abda783675/065e2/2.png 577w&quot;
        sizes=&quot;(max-width: 577px) 100vw, 577px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
2. ä¸‹è½½åå°†å¾—åˆ°ä¸€ä¸ªå‹ç¼©åŒ…ï¼Œç›´æ¥è§£å‹ç¼©ï¼ŒåŒå‡»&lt;code class=&quot;language-text&quot;&gt;WebPlotDigitizer-4.7.exe&lt;/code&gt;å³å¯è¿è¡Œï¼Œå¾—åˆ°å¦‚ä¸‹ç•Œé¢ã€‚
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/7c2f2e8cf3e9425d97e3c4d013a38a45/c1b63/3.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 58.22784810126582%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAABeElEQVR42o1TXW+DMAzk///EbnurNMSglHyHADef2yBo9zBLp5hgny+O03RdB2MMzGR0naYJOWds24p1XbEsi65ETAkhRo1z3qOUgnmekWSfuF6vaJhcbds2RSV4BQnK/EAtxHiS0vp+QNP3vf6geanKSgx4hRJRUcmiMmBZl/1fFNXk6H56NFVRJWTlv2ylkkXIUkYKo8RR9UNlfipUwmPSkVAOr8GpiIIcYK1Hjg7eCqE3WPXIm5LOz7bdpf8nQmutkBrE4OGjh2UL6AtJDNJ4+eYag5PCBcNtQNu2uA03OOfU3wk3EpoJyVjMkjhbwiGYhBxIFOGd+JFqo/Rzlf5lvdmPy0XFDMNwVsgqew9547xFSSqiqkhC0ON6Ga2kx2Vs+93i6+tTc+/3+zthvaA341zmgk1aMY1pjzte6jiO7z2sY8P5rOCe+hwTWYPEHQuTlMaBPxHWQT2ivpbXvZP4JyFfWcNRqQghKOhzWP8DxlIZ+8en9wsIVqsQgBGrJAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/7c2f2e8cf3e9425d97e3c4d013a38a45/f058b/3.png&quot;
        srcset=&quot;/blog/static/7c2f2e8cf3e9425d97e3c4d013a38a45/c26ae/3.png 158w,
/blog/static/7c2f2e8cf3e9425d97e3c4d013a38a45/6bdcf/3.png 315w,
/blog/static/7c2f2e8cf3e9425d97e3c4d013a38a45/f058b/3.png 630w,
/blog/static/7c2f2e8cf3e9425d97e3c4d013a38a45/40601/3.png 945w,
/blog/static/7c2f2e8cf3e9425d97e3c4d013a38a45/c1b63/3.png 1200w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h2&gt;äºŒã€WebPlotDigitizer ä½¿ç”¨æ–¹æ³•&lt;/h2&gt;
&lt;p&gt;æœ¬èŠ‚å°†ä»¥æœ€åŸºæœ¬çš„äºŒç»´å›¾åƒä¸ºä¾‹ï¼Œå±•ç¤ºå¦‚ä½•è·å–å›¾åƒæ•°æ®ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä¿å­˜æå–æ•°æ®çš„å›¾åƒã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å°†äºŒç»´å›¾åƒä¿å­˜åˆ°æœ¬åœ°ï¼ˆä»¥ä¸‹å›¾ä¸ºä¾‹ï¼‰ã€‚
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/fbe5974661a084e92f6b5e42cfd4b666/9f82e/4.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 67.08860759493672%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAACkElEQVR42kWT57LbOAyF/f5vtJOyv7Npk9jXRba61Ysl2ZZVKH0LSrm7nMGQxMEcAuDBZp5n9MqyjLIoaOqauqq4iTXHI7XjcjidMORsWRbB1SOOa7a7BvNywTAMzmJxFOH7Ppt3wkLIhmFgmibUpFBq4hCdcDKfNC9pBbu3LUqHqxaePmGScLYtTuYFLwwIwnAlfHUdgevS5wXTrUKVq0WSWek4ZBeT9GwuuypvzEXJnEpFtrNYYlxoPHnY89gopRjFzPOJ318/sRX7/eWD7B95+/aJ/ffPbP/5yO7rBw4//+bXgknct89rjOA7ifv15S/22x9s9m97hnHAeDvxtjvhJSF2cMUJr1iBh3XVZ5+jdeVgBbjxFVvKc8TswJez4OI7Gia77zs2h8NBSu4JfQt3azO0un8jS+bjuNjMiGePnA+rf8FH9V8MsyIyIryzwcaV3mlneStIfQfz+GB+tUxDh+o7mDry64Pk+uJ+6wjtJ0qwaehl76FvyeMWc+9T5PHaw9frJT8U0z1Scs/EuMxU+Ys6exC5d85n+bgmZnq6IhmFLY9WyZ0mFzzS94jXzSPNivWXdYZxHEvpIps2oEpjHLvFsnuCGIauZKilHZUnCceU9YzjT6JL3aqGrhJs7EiSlI3Wnc4wFA11fS/kQvqwmFtXyO0lq7G+MPbPRQ1jbaEejmDuGvMwBWtEw4o0Tf4n1CpPRKilaCwrbuRFRRoHZJErpWRyL0T8+eLPE/HHvkyXtEi0W5alkKUEQbCWrCekklF7BzKxXEgyCc6kL3meL6OpH9QkSbpiURRLq6KlXZGMnq5yw5+lM9X2LhV91iQXmVdHpuUqejRNc5nnk0yQ9umY+/3O8/mkaRrquuZfW0zOS6EvXnEAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/fbe5974661a084e92f6b5e42cfd4b666/f058b/4.png&quot;
        srcset=&quot;/blog/static/fbe5974661a084e92f6b5e42cfd4b666/c26ae/4.png 158w,
/blog/static/fbe5974661a084e92f6b5e42cfd4b666/6bdcf/4.png 315w,
/blog/static/fbe5974661a084e92f6b5e42cfd4b666/f058b/4.png 630w,
/blog/static/fbe5974661a084e92f6b5e42cfd4b666/9f82e/4.png 820w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
2. å¯¼å…¥å›¾åƒå¹¶é…å‡†ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;é€‰æ‹©&lt;code class=&quot;language-text&quot;&gt;load iamge&lt;/code&gt;å¯¼å…¥ä¿å­˜çš„å›¾ç‰‡&lt;/li&gt;
&lt;li&gt;é€‰æ‹©&lt;code class=&quot;language-text&quot;&gt;2D (X-Y) Plot&lt;/code&gt;å¯¼å…¥äºŒç»´å›¾åƒ - ç‚¹å‡» &lt;code class=&quot;language-text&quot;&gt;Align Axes&lt;/code&gt; ç¡®è®¤ã€‚&lt;/li&gt;
&lt;li&gt;ç‚¹å‡» &lt;code class=&quot;language-text&quot;&gt;Proceed&lt;/code&gt; å¼€å§‹é…å‡†ï¼Œåˆ†åˆ«åœ¨ xè½´ å’Œ yè½´ ä¸Šå„é€‰ä¸¤ä¸ªç‚¹&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/38f6b9fa588ea5f1eb7e06a5ba86eebc/f1d1f/5.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 67.08860759493672%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAACnklEQVR42kWT65KcRgyF5/2fKOWs97eTje3Yu8PcuDNchjssDAM0fFbjbIWqU6jVKulIfbRb1xX9pWlKWRS0TUNT11RVxfvhQO37HE8nzgLbtonCgDhueXtrscwLl/MZ83IhiWOu1yu7j4SFJJumiWVdUMvCrBRGeCTIQ255zjCOdMMdJeHr3LP2V8Ik4WxZnAR+GEqh+HfC+zAQCZOxqFjqFlU1qLImOh6pPJ/UtMgse4P2rxK3phmF4wlcbheTxg9INUMlTOZ5xjwfeX35zOvfT/z865P8/8T457PgmbcXbT9x+PbMzy9y9/LE6+Z/wvj6vMX8+PIHp/0PdoZhSHszh38N9m8nnOSKGXhYgrPnbLYduuwtn70Z4IhtBT721dvutvtI7g5n9t/37A7HA49+ILFesV4OqEFtBRbNXGaqZsWKwrNnrJP4F4XuSmOLEYhBdIq42iY71/O2lmthFuuXPPVIBdT4YBoHUA+yoJP5DDTFg9jpWeaHFBqZJUbHZtGAtfcoyxs7nex+7wnTgrFPuLk2ogLeiztd/k7sdpzlPLYxyz0gihbcU0ebdfRlTyxn5xhxrzyyvPz9ypNmuL1ygbqH1FmO6zyw7Ik4RZhUzK3L1PosY0pRr3jBgmWNREHDWMvd9BAtZ+wW0Vx3FzZCawojaX9E5YbozGXZEDA3JtOj23SqagvV+azCdu09ls6U8bwzTjOZLMeWcBAdBiLMtCypRZwP40gZJlIxokykFdGeLtjLjLO6o0wDiltAnhcyt2bbqizL/hf2KFvQyMrl0nIqztqx5R+RZnJOc9I8o4okuQg3SW8kt0wSFDLPaINOFH5sCv99mumHyPVM9TmXldP7GwTyGBJsie04ok3T3HyaSNu2dJ2wlu60/QtEYsz97h2x1wAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/38f6b9fa588ea5f1eb7e06a5ba86eebc/f058b/5.png&quot;
        srcset=&quot;/blog/static/38f6b9fa588ea5f1eb7e06a5ba86eebc/c26ae/5.png 158w,
/blog/static/38f6b9fa588ea5f1eb7e06a5ba86eebc/6bdcf/5.png 315w,
/blog/static/38f6b9fa588ea5f1eb7e06a5ba86eebc/f058b/5.png 630w,
/blog/static/38f6b9fa588ea5f1eb7e06a5ba86eebc/f1d1f/5.png 739w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç‚¹å‡» &lt;code class=&quot;language-text&quot;&gt;Complete!&lt;/code&gt; è¾“å…¥å¯¹åº”çš„æ•°å€¼ï¼Œä»¥å®Œæˆæ ¡æ­£ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/c06b8b63f37bbdef70483fba06c45e32/c5bb3/6.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 72.15189873417721%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAAClklEQVR42mVSXU8aQRTlH7VJtf0r/TWNrbWPfW+CIK4gpgG12qTPTQNIgo1gKm+gBpX9APZjdnaXhdMzA37UTnJy7t65e+beM5OpVKrYzn/GnvGR+ISysYHy9gZ2Cx9RUthSWF/ExC6/d/IfYOTeo5hfh7G5hm2ikH2HovEFmb2v31D//hbO75cYNN9oXNZWYZ2uQHZXIC5eESsPCJeQ3VWE3A/JsvsaUfcFfv5YQ2anWES700I6nUAKG8I3IUNLx1JYiMIlyxFi6TA2GTsIA1VnL8D9JBmjXv+FTD6XQ/v0FHE8RRCEcL0AQSjhC6l5PHFxdT2AaY9xOzQx9nxIGcNjnc96PxDw/AAyiilYRyZHwUajBrVmsxkwnwMiAOIIU9eFc3WJaOTAvRnAuuwhmUwwMoc82MXzVa/XkNnMbqJZa+hEqgSTBLLXw22vj2G/j2g8hrAtHcc8IHE47mCAaDrVh8+XUKtWo+BOycCfbnvRodpgYWqa8PhjQMw4dhIEEKMRZlJizjhlnOL/1Wg0kCkYBXQuznXC9TxOSw/pVWha8IdDCMK/u9Pfwd2QYOz79Jt19E4IQR8D2jVHs9mk4BYF24sOfRZqwTCEYGeeIMsQNxTqX1/DckY6L0KK8HJ8Jch69d+DoGEYODs704Iyivh8prQx4eQL3H/H3FOcxMwrXtYkySNOTk7oYaGAC3aYpqkeQ9Inh97Zjg3HJhOmNYRFXy3LhEl2bJt5W1sUqmk4tvpPe1gqlXDe6Tw+G0Df2uzJDc54mOpg/iSn8exSdIfZbBatVksnIo4Vx7GGHnPJqgvV2UOO0LXRgqOlHfphVyoVHB0d4fj4+B8+PDzE/v6+ZgVVV61WdU7xff7g4EBDxeVyGX8BLbPvOCRCdnQAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/c06b8b63f37bbdef70483fba06c45e32/f058b/6.png&quot;
        srcset=&quot;/blog/static/c06b8b63f37bbdef70483fba06c45e32/c26ae/6.png 158w,
/blog/static/c06b8b63f37bbdef70483fba06c45e32/6bdcf/6.png 315w,
/blog/static/c06b8b63f37bbdef70483fba06c45e32/f058b/6.png 630w,
/blog/static/c06b8b63f37bbdef70483fba06c45e32/c5bb3/6.png 680w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
3. è·å–æ›²çº¿ç‚¹ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç‚¹å‡» &lt;code class=&quot;language-text&quot;&gt;Color Foreground Color&lt;/code&gt; å³è¾¹çš„é¢œè‰²ï¼Œç‚¹å‡» &lt;code class=&quot;language-text&quot;&gt;Color picker&lt;/code&gt;  ä»æ›²çº¿å›¾ä¸­å–å¾—è¦æå–çš„æ›²çº¿å¯¹åº”çš„é¢œè‰²ï¼ˆå¦‚ä¸‹å›¾ï¼Œä»¥æ©™è‰²çº¿ä¸ºä¾‹ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/16bc344bf845654cd540d25a93bcee35/c1b63/7.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 58.22784810126582%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAACLElEQVR42oVT2W7bMBDU//9GHvMPfSuKNm0O2W5ix7KsgxQlShR1WKfl6ZI5UKAGSmCw4hIczc4unTRNUdc16qqiWEEphdPphHGaMM4zJhPHieJI+daeaV2haRrM7+fDMFjEcQxnPp/xsZZlsYSNuaQK5HGIiDEwziBlgTDM4fkHHHwfiRCW8HK5WFKz8ryAo57vsWQhbS/o+h5VoYB5QVtpsNBDFjPoLMelHzApCeYfEe89pJyj6zpL2nW9FZPJHA5zv0OHO3vQNi32m3swb43odYVg92QR7h4QbB9tzmLv4vj6GwP9BEbh+KbwjfDHT8hHF5HnodQlVg9rJFKAZQJJkYKRx+7G7BNwynPKccGxXT/bUmciNP6Z0ivqg/N0c4OX21vIMCLvWlJ3hBYDFlK8jCOUmFDwjsoesVBjlvkMxRukMUe0usP+2xdERx88ERDkq7MLQ3iM40wetO0JlRJEkkKwFiKZoXONS3eEkjUEnyDiGhWpr6sSgfsLkXtHdwr0Q0+EKZUcRUiJ2Ug24yOpU1NXoCnIdM0xtgm6U4OhjtEqTogxDbWdhjCK4R8DBD7hkFCXJRzrJpGZZbpm5tKYK/McCY9sKZwniOiySAhpRh6Sj0EAud1CH/YIHzd4+erTfJbvhH8to9RgofksSIWUEgWRi1TY/ce8GpSqhC5LaoamKRko1v8SXvvBtW9TVak1vaLxM2+7bJ7SNfQ05P+DschE470mcvP0/gDkq46WNA6B3AAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/16bc344bf845654cd540d25a93bcee35/f058b/7.png&quot;
        srcset=&quot;/blog/static/16bc344bf845654cd540d25a93bcee35/c26ae/7.png 158w,
/blog/static/16bc344bf845654cd540d25a93bcee35/6bdcf/7.png 315w,
/blog/static/16bc344bf845654cd540d25a93bcee35/f058b/7.png 630w,
/blog/static/16bc344bf845654cd540d25a93bcee35/40601/7.png 945w,
/blog/static/16bc344bf845654cd540d25a93bcee35/c1b63/7.png 1200w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 279px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/9714d59c3b8152c99524a0d2cc5a91ec/3af37/8.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 104.43037974683544%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAYAAABG1c6oAAAACXBIWXMAAAsTAAALEwEAmpwYAAADmUlEQVR42o2V32uTVxjH44Yt/geug4qKMPBiYze7kTGvVfwHdjO8Fq+FIcjYhVe72xAZlM4NHFtXaKfYtGkdWKjV6voja7Y0aaxN2iZ5k5Pk/ZW8OZ8957xN3IZlPfDkvHnO837P9/n5JrrdLq7rEgQB7XbbSlhewatu4PohYRjgy7605JHPe0SRL/ae6ENr6/s+juPQarkYrIQ5MOJ5LsXtVxT3FOr+JRg/jY5cGk2Pra0s585tMzwMu7sBZlUqDqVSUc62SK+tUSzt2MstoEEulUokpx4yPTfP85k76NEEFO6S3dxj6uEvjIz8xuBgxNWroQV88WKFZDJJKpVi8ckTASxZYomeq2bFbohEGqY+gQcfIU/UakpCUubmTRgYgOVlY92h0+myt7fHzExKXG7GgD2X+0tH8f5yDP2dsNxN4cp9zYaJE5w6pblwwRpas2q1almaPFhAm4R/Au4bml1Pvg+PLuOFWgJft9qxMU1C7rl3L7Yrl6tMT0/LZa2DAF+z1H9+A9+/jbc9j2q1+xddvAgnT2rLWCmHublHrxmaHxNHa6r1vnQtz25bwc/v4s1+St3t2jPRsrqqOXpUc+NG/D8IIolnx5bQmxnus7ROpb/EHx1AlbNWHUVdu1+/DseOwfq62GnPglpAw85kqlar2QLtSc2p4igXVVym9PUghZnPhWVEpVymIQna3KwyNKQ4fz7PxMSExHJbQP3YZeO/odzrlH7HhD4mmo3ZK1RG3iEKHEIpFd8zHrW5fbstCQo5frzBtWuetT/YZRvT2D1/Zwl15wjkvrVhiDpx0m7dwmbcyPBwRL3+v4BxaXiSYDX+Mdz/wF4Sh1ELqx6g5sSJSDJ+KECN1xHAP36Euwn0q1+JeUek03D2LBwR8mfORJKHwzKU7Jl648GH6NlL/zrb3AyYnNyR4m6Ly8EhAd0WypOH/Ki041vSb4v9fqrXqzx+PCUl05Ish4cElNGmGtIWUQv90xDMf9YHNGMsmUxJKbkHDIc3AnqouhPrVr6AHwbRzY394VCxY6w3pC1gsxmPHqMwEoa9OgylM0z2lH1RSpCglqMz/h7hyleY7q6Ud1lYWBDX6zFDwyIu6o4MWqmlmkM2myO/kZMsrvLs2XNyuTyZ9Qx/ZdZ5uviUTGaNTPp3VtfSMrFfUigURJeJPwH/ddMMWKUaMv8aEpeGtGDNfi9UXYmuKWd1HBm4jaYrrJR11YgZX2b9DcAq/4hr6/sYAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/9714d59c3b8152c99524a0d2cc5a91ec/3af37/8.png&quot;
        srcset=&quot;/blog/static/9714d59c3b8152c99524a0d2cc5a91ec/c26ae/8.png 158w,
/blog/static/9714d59c3b8152c99524a0d2cc5a91ec/3af37/8.png 279w&quot;
        sizes=&quot;(max-width: 279px) 100vw, 279px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;é€šè¿‡ &lt;code class=&quot;language-text&quot;&gt;Pen&lt;/code&gt; å·¥å…·æç»˜å‡ºæ›²çº¿çš„å¤§è‡´åŒºåŸŸï¼ˆè®¾ç½®å¤§è‡´çš„åŒºåŸŸå¯é™ä½ WebPlotDigitizer è¯¯è¯†åˆ«ç‡ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Boxï¼š å¯ä»¥é€‰å®šéœ€è¦æå–æ•°æ®çš„ç”»é¢èŒƒå›´ï¼Œå¯ä»¥æ˜¯ä¸€ä¸ªæˆ–è€…å¤šä¸ªæ–¹å½¢åŒºåŸŸ
Penï¼š å¯ä»¥æ‰‹åŠ¨ç»˜åˆ¶éœ€è¦å®šä½çš„æ›²çº¿èŒƒå›´
Eraseï¼š å¯ä»¥å¯¹é€‰å®šåŒºåŸŸè¿›è¡Œè¿›ä¸€æ­¥ç²¾å‡†å®šä½ï¼Œæ“¦æ‰å¤šä½™çš„åŒºåŸŸ&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/52240bda52c69436806e4c0014ff8e74/50383/9.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 68.9873417721519%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAAC2klEQVR42nVUaYvcRhCd/0/+QsCYgAOGmCWEYLLrXbzrBNtrWCeeQaMZXaP7vqXW+fLUG/LNDY8qdVVXV1e90g5cQgh4nocwDBEEAQJKz3EQ6AYs04KqqtB1HZqmwXFsmGYI3fBhGBp1S9p838fpdMJuC9g0DcqyBNYV8zxjoWzKHKn2hDgM5EVFniOOY0zTiMzPEdohLMvEUVFgGgbSNJUX7lYejqIIaZYxEDCME6Z5QV5VOFhneMzY9XwEUYw8L7b7sY4Npr6CeXFgWhdougmHPtsrZYZbsJjRhX5EZ57QE/XpgPzwNyp1j+zwhHT/lfIrWk1Bc1JQqwqK4zeUxz3xjX4H2NuTm6ZFkgT48vQW7z9d4+HzO4n7Tzf488sdPjzecv8GH5/uuHct9Q339PlA+4OUt5Q3OKp/YRdFCcSQM/qPKOMGwzCg7wZ0nUDfC8qBZRBQjiObJWgXaLuePpt98+sxCJbNekTgvMHO9z1kWQvf/Rmm+oipWzAywDCOsp7rMqLIehjHAeZZyKaM0/i/fR6ZQNkjcn4iQw7Y9X2HoqhRVReE3iu4psDCvaVvsYoObdZB/WfCMgcoE3aWgcfm2bYKNqddoLHeVXZF6mTYbTQJSY0kadieP+Da76CeQCrM0M4TzmegqkvM3Q8Y+1/4GkA5jDD1GYZOXRlQZy/5KosBE+yWZSZtQgaMMUwrxu4V+uYGecpOVzZJn7IMLyD6A0RzhVncoW1zlLmOulS49xqjeABLSdo4z7TJSVpJbK5lzrHO18Qt1ul3cu43ys9YFpD0Fb/viCvafyXuiY+0jZin+ZmHI4u7TcLlYsN1XcInkQs4bkmHiHrEcUupu7jYzn82j0ikj+Nm8pxtP5+XkzJNEynQyywrTkiRZyiLTF4UxRHLEUl9yyAINoRyb0Mch3Ikt9FLKOWTv7csy+IPwJC3bzBNU2ax3+9lkIV1aNtW/ly2ROq6xr/q5BQNv5fu1gAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/52240bda52c69436806e4c0014ff8e74/f058b/9.png&quot;
        srcset=&quot;/blog/static/52240bda52c69436806e4c0014ff8e74/c26ae/9.png 158w,
/blog/static/52240bda52c69436806e4c0014ff8e74/6bdcf/9.png 315w,
/blog/static/52240bda52c69436806e4c0014ff8e74/f058b/9.png 630w,
/blog/static/52240bda52c69436806e4c0014ff8e74/50383/9.png 740w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç‚¹å‡»å³ä¸‹è§’çš„ &lt;code class=&quot;language-text&quot;&gt;Run&lt;/code&gt; å³å¯å¾—åˆ°æ›²çº¿å¯¹åº”çš„ç‚¹ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/5ee9bddee407bdf3c21d3e3e8e8b8b78/c67d4/10.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 70.25316455696203%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAACvUlEQVR42nVU13LbQAzU/39SJlbsuKVYTrFpkRIpFknHJhaxV232LvFjbgYDEADBxWHBBXj6vofrugjDEL7vI6AW3h6BZcNxHOi6jt1uR7FxOOxhOxFsW8CyTBW3bRue5yGKIizeCyZJIk0Mw4ALdZEEiK2fONEfBAHO57PKGacRiUhwEjG25haGYcAjGAWEeYtxHJGmKavHGMcJTdtRzwhOMdaOpdAejoLJIfI8Vx+79CX6uoBlu+zMI9IdvP0BIXMW8zyjqkpEhobBNdHsDPSOiWq7Rv72GyV1tn5BSvu80VS8MjcUHbn+ouIF3031V0Seg0XbdYjDCPd3S9ytlvj89SM+f/uI+6dPuKM8rG6U/eXHNR6fbxi7Uv7bpyVuv1/hfnWN2xWfH69g6gZbnmaUWYqXD8+o8wZ1LaVDU7fKlrrrWrxqPdKkQ9tKf0t/h6qslT30A7YPG+zfTCJkwrk8Y/v4C87vBNPQqCH1HE7HxMtlQBK3cIwae6fDNA3ox0HFW+ZNQ4c6baAtX3GKOJRpmlA3LVKxx+7JRXAcOPYac9dw5A3OUQNz3dOukYYdDmaDqWk4mAZzW2Fse+jPZMLaQpzEWHS8QzXlE9GFNiyNdLBBfrGNTQ/bnVCc2fp6hS72EacXGOuB3Btg7UboG3agGaiLjNQhQtlelmWKNtKurDfk5FlyTJHFBTpeR71boyFlKtdCnwiUeaW4mIgMhbVFn0coqhoRKaZaLstSoZRnZIHR9zAKiu+iP7gY8wQzY/PAuxVHDDImXGoHUxLyni9oeA1xzE35a8RqhXxfkMRH+ETr0yeZL21BWgkW8uUz/VJL3+GfFkKo1QvD4C+xVatVpVBmlJQrdvpXMOBKyR0V1PLFQIoszOfwXbNVKQoh/nPkVUjU73IkcvkTkD8RTdPUx2WOpJ0cbFEUqu0/Ln4WSOmraJIAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/5ee9bddee407bdf3c21d3e3e8e8b8b78/f058b/10.png&quot;
        srcset=&quot;/blog/static/5ee9bddee407bdf3c21d3e3e8e8b8b78/c26ae/10.png 158w,
/blog/static/5ee9bddee407bdf3c21d3e3e8e8b8b78/6bdcf/10.png 315w,
/blog/static/5ee9bddee407bdf3c21d3e3e8e8b8b78/f058b/10.png 630w,
/blog/static/5ee9bddee407bdf3c21d3e3e8e8b8b78/c67d4/10.png 723w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
4. è°ƒæ•´æ›²çº¿ç‚¹ã€‚å¯ä»¥é€šè¿‡ &lt;code class=&quot;language-text&quot;&gt;Add Point&lt;/code&gt; æ¥å¢åŠ ç‚¹ï¼Œé€šè¿‡ &lt;code class=&quot;language-text&quot;&gt;Delete Point&lt;/code&gt;æ¥åˆ é™¤è¯¯è¯†åˆ«çš„ç‚¹ï¼Œä»¥å®ç°æ›²çº¿è°ƒæ•´ã€‚
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 175px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/e0fc4848f8c42ebab5462e75a71ecd6c/4edbd/11.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 105.69620253164558%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAYAAABG1c6oAAAACXBIWXMAAAsTAAALEwEAmpwYAAADkklEQVR42p2VXUybVRjH31AtZAlbDEm5IAa8GgGpwIU3Gj9CyAw6bjDZiPFqbppNYxxosmR64Z2UbsR4YaKZrpIpySylZUKmHS1SWr6l7IMUaIFRaaHyHSyl7c/3nJbJkjkaT3LyvOfkPb/3/5zzf86rsK8lk0kZ19fX2draoqOjA0VRMBia5XwikeCgpmQCbGkxyPl4PEOgAIm+p2BtbY3NzU0sFosE1tZeIhCQGkl/8/8pbG9PKVSUZkqOwu2JeDr1xwDj8bhUtLq6KruAzc/PsxAM0tp6TQKP6r9F9zS8czqmLokRjcaIxWIPBIgoxqIrMzMzVFdXo9frqayspKKiQj6Xl5dTUFDAc+rY3diI/czXvHtmSd3XHuz2mzgcTpmFaCsrK/T0iHl7ClhVVUVJSYkElZWVUVpaKqNOp+P462/grz/BxLFaTN8E6HMN4XH3Mzw8oiqNSuD29jZut5ve3l4UIXdjY0N+ZX/KQTVlk8lE1hMaLn/4GedPzlD/1jWcji6czt8lwOv14vP5mJqaYnp6Wq5TQqEQS0tLsofDYSKRCEL17OwspqtX5R421GTTdPI0h7Ib0WY/yeHDueTl5ZGfn09hYSFFRUUUFxfLDBVhD6FQKNuzy8LCAouLi/z0Y+pQmk+9AJ3P8HHNB2i0deTrDnHkyFPk5uaSk5ODVqslKysr5YjH2caaNrbx3EUYMfNzYwOvvBTij/FpJu/dYXR0DJfLJQ+ku7tbtVn7AZWSNrbx7HkYn6Dj836ylCg/tPKffswQ+BGMjfBL06Q63qXs2Rh+/8OeFH1nZycz4KVzDTDg5b5lnOf1UXUOLlx4tMqMgC3vq0D3Xegb5m7rBK+Wr6uHAh6PeD/5EPQAYLsEXj57DLreZrdT3bzeIf7qHOXUa2Hq6pJsymJJPrg0MgNePAGul4l7PiXZ1wXOQZKOAa58EuDXG7H02jRw7+p6FNBmtUrgl1+1EPvNjK/+Tf4eu0XSf5+Ec4Bdh4s56x22Qqv/pizKbXl5WVbJXtWIMhLGttlsaDQampqNBK+bGTxeh9fyHXO+Qf68N0vA1seK6sFxazfRuWAKKCpD1LGAivoV0e/3y9jW1oZGrQCDwcCWWkWRIROT37+Iv6uB0HKQzjY/bV94mLthY8feD765VMriphZR3I37UzabzSnbGFP/lPjUFRImhfj1AvWl24QjUFsTxfjeLNGbw3BrgH8AiMpbJzeqMM8AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;è°ƒæ•´å‰&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/e0fc4848f8c42ebab5462e75a71ecd6c/4edbd/11.png&quot;
        srcset=&quot;/blog/static/e0fc4848f8c42ebab5462e75a71ecd6c/c26ae/11.png 158w,
/blog/static/e0fc4848f8c42ebab5462e75a71ecd6c/4edbd/11.png 175w&quot;
        sizes=&quot;(max-width: 175px) 100vw, 175px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;    &lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 182px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/858d6953f254b823bc27b11f3d1d37ac/a51ee/12.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 101.8987341772152%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAADrklEQVR42o2UbUibVxTHg+1MYjJcqx2tq4pVCmMd8+PYPgyG60Bw1K2zdkajo2DHKPu2DfqhH+xGN9iGMEppV5wwGYNtbmtHCwVFXGOCilWTpjGJhsTEVzQvJZqXJ7/d5+pjnbCSAyf3uTecP//zPy86ti2Xy5FOp6Vns1kSiQRzc3PyP6u1BZ3OINzP0aPgcmXFq0Imo8g4zRRFQaf+qOb1emlubqa+vp6GhgZ51tXVcepUIxUVRwTYAQoKZsQJXV2PGB8fZmhomFAoJONTqRSTk5NPAJ1OJ7W1tZSXl1NVVUVlZaX8PnasGrNZZXdIeACDAa5edTE2Nszg4BDhcHgnw4mJCXQa3Uwmw+LiIvPz8ywsLDA7OytYjBOLxWk6874A03HIbMNkdnLzZh8Oh42REbtk5fP5pDxqzA7gXtvc3JTgqrVYrBw+WIjth8/44K2/BfirGI06iosPUFJSQllZmZClgpqamv8CqulrEiSTSYLBoPy2tLfzqaWVtY5GXF9/w4vHrwmgCo4cfp7S0lIBXIzJZEKv1/8/w42NjR2GrR3tfHKmieC5C8T7umiqG+fb75I8TkQIBIJ4PB6mpqaErmPoVDH3ugaoVbDF0kKx+VlCgzYYHefNE3OceAXi8dx2QZ4QyUvDNqsVfcE+/H39YJ/k7Mm4bJ8vLue2pdoFqAbt9Ugkgt/vlynEYjHeO30aw/5nuP99D+u373Lj4gjGwqDQL8zAwDwry/NC761YnTYdu33vpLRYLBj27edRby8M2skJv3XFxQsHE6KlsmQzW3GpVDrPorS2YijU4+85Cbcayd67C/cduHqdvPtGjN9+Zyf1/ABFUQym5/APXIKB86SHr6PYRyXocv8o/d0REjHl6UXZDWgRKRtNZrwPJvG+/Q7ejg9FiYNkHwbIDTlICQmSDq9ayXwZCg2NRjzT06xdv8FK9wVyjvMixyghxyrhX8fAZhNvzvw11OsL8cz4xC2Ocu91cj+K0MifrCXg4sdR/ul2IYb76YBaY28B6pmZ8WyJb++EHh3KyDl5/+MvqCxL0/v57NakqL0WjUZZX1+Xp3Z3u92yHdra2uQCeOhyEk1sEpq+TfSXl1j86WWW3XcIi+3UfPYxBYKeBFxdXZWuNrTq6o5bWlqS86m+d3Z2Ul1dLVbVA7mqXG4PoTsfMffzawQc1/D43GKdxcTG2a6y2sjqPlRdZaSlrG0blWFRUZFcAnIsUwrptSlWei8R+PIyydUV+f7VlRz/AnHDE5vuVrh5AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;è°ƒæ•´å&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/858d6953f254b823bc27b11f3d1d37ac/a51ee/12.png&quot;
        srcset=&quot;/blog/static/858d6953f254b823bc27b11f3d1d37ac/c26ae/12.png 158w,
/blog/static/858d6953f254b823bc27b11f3d1d37ac/a51ee/12.png 182w&quot;
        sizes=&quot;(max-width: 182px) 100vw, 182px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
5. å¯¼å‡ºæ›²çº¿æ•°æ®ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;é€‰æ‹©å·¦ä¾§ &lt;code class=&quot;language-text&quot;&gt;view data&lt;/code&gt; æŸ¥çœ‹å¾—åˆ°çš„æ•°æ®ã€‚ç”±äºæ–°å¢çš„ç‚¹åæ·»åŠ åˆ°æ•°æ®æœ«å°¾ï¼Œå› æ­¤éœ€è¦é€‰æ‹©Sort by æ–¹å¼ä¸º &lt;code class=&quot;language-text&quot;&gt;X&lt;/code&gt; æ ¹æ®xè½´æ¥æ’åºã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/4036e1df55ca7d27a1a822b17bcf52f7/97655/13.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 60.75949367088608%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAABxUlEQVR42oWS65KaQBCFfbFUaisb9wnywPmx+0dLxTvKShUWCAwgclNRONvdyMZsNslUneqeYuab09105j9/wHz+AvPlAeG4UbLokp4kHubfP+gRavQV8exRvsfTb5Knyy6U1kXHth0URSHKslTi5VLidCpQlmfUdQWgvhMQRSHyPENdVbJvzkDudjzPg+PssF4bEj3Px3y+wIKUZQy90ANXEef7OMYhSRBTTLMM12vzra5vQNM0CbZGr9eTuNlsMBwOMZvNyEV+c1C/RzbguS5s28b5fMbxeES7BGhZFhg6Go2wWq2w3W4ln0wmnwIZoJQP13MRhiGCQJHDyy8gAwzDEIiu6/Iy55qm0eHgD2CRF/JQvN8jjCLJS3KaUBvSNOWh2ALkMjlyyePxWBRS81tQq9b1/eI+ZtTPd6Cur9Dv97FcLmFZTcmDwUDK+eiQL/5tSckuNXi3c8iRBp2AhvEqA5lOpzKAiMoKwwh7KjGOD78N4VMgX+AesBvf9+W3USqA63oIlMLOcST3fU962rr9J7DtQ1XVqCgmhxM5uyJNcpzIUdu/in7k/wLZFZ/h0TO0Ad9029+Lz7Uqy1IGwYPiqJTCGwv8hZX4LH0RAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/4036e1df55ca7d27a1a822b17bcf52f7/f058b/13.png&quot;
        srcset=&quot;/blog/static/4036e1df55ca7d27a1a822b17bcf52f7/c26ae/13.png 158w,
/blog/static/4036e1df55ca7d27a1a822b17bcf52f7/6bdcf/13.png 315w,
/blog/static/4036e1df55ca7d27a1a822b17bcf52f7/f058b/13.png 630w,
/blog/static/4036e1df55ca7d27a1a822b17bcf52f7/97655/13.png 819w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å†ç‚¹å‡» &lt;code class=&quot;language-text&quot;&gt;Graph in Plotly*&lt;/code&gt; æŸ¥çœ‹ä¸€ä¸‹æ›²çº¿æ•ˆæœ&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/2d40d66f3107704b75a56d69d5f4cc08/ce6cc/14.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 64.55696202531645%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAABSUlEQVR42qVT207DMAzN//8KHwASz/wCD8ADgnZja3fptjY3Jwc7abZumpDGLB3Zid1jnyRVj+8DYowABLeZIcBRhPUez98RT58B6uHlA/1gsD8M6LWFNg7GemiGGeMpJJ9rHA7aoTeev7d4ax1elwbKe8Km61HXNRaLZfKD1vDcVeCcO8ZSe4o9qHjyPC9B6wGq6y2WzQZf1QzV7AdVPceiWaFZbU5o12jZd7tDUlKwG1Hi9XYP1WwNKATIMRYEXk9BRBmy5oK/oFadTYWCe4zCGWGE4fO5x4zP06uWCUWWZUKK8V9kQmR9VpgIi+SyeavJW/R0QYixS7gypWwNjljJ9ZzILRkmNLkw3VJOXpo08pQbxmu5SaMjYRwnczy6oTCSsKdwlJMvL6QayUudo/MBMuFEZiEWX55CTMjvMxOHce8Ea236a34Bpun+4CFGBgIAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/2d40d66f3107704b75a56d69d5f4cc08/f058b/14.png&quot;
        srcset=&quot;/blog/static/2d40d66f3107704b75a56d69d5f4cc08/c26ae/14.png 158w,
/blog/static/2d40d66f3107704b75a56d69d5f4cc08/6bdcf/14.png 315w,
/blog/static/2d40d66f3107704b75a56d69d5f4cc08/f058b/14.png 630w,
/blog/static/2d40d66f3107704b75a56d69d5f4cc08/40601/14.png 945w,
/blog/static/2d40d66f3107704b75a56d69d5f4cc08/78612/14.png 1260w,
/blog/static/2d40d66f3107704b75a56d69d5f4cc08/ce6cc/14.png 1551w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ£€æŸ¥æ— è¯¯åï¼Œç‚¹å‡» &lt;code class=&quot;language-text&quot;&gt;Download .CSV&lt;/code&gt; å°†æ›²çº¿æ•°æ®å¯¼å‡ºä¿å­˜ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è‡³æ­¤ï¼ŒWebPlotDigitizer çš„ä½¿ç”¨æ•™ç¨‹å·²ä»‹ç»å®Œæ¯•ï¼Œå¸Œæœ›å¯¹å¤§å®¶æœ‰æ‰€å¸®åŠ©ï¼&lt;/p&gt;</content:encoded></item><item><title><![CDATA[è“æ¡¥æ¯å•ç‰‡æœºè®¾è®¡ä¸å¼€å‘_åŸºç¡€æ¨¡å—_è¶…å£°æ³¢æµ‹è·]]></title><description><![CDATA[Githubä»£ç ä»“åº“é“¾æ¥ ä¸€ã€å‰è¨€ æ‰¿æ¥ä¸Šæ–‡ï¼Œæœ¬æ–‡å°†ä»‹ç»æœ€åä¸€ä¸ªè“æ¡¥æ¯æ¨¡å—ï¼ˆè¶…å£°æ³¢æµ‹è·ï¼‰ï¼Œä¸ºå¤§å®¶åšå‡ºè¯¦ç»†ç¼–ç¨‹æŒ‡å¯¼ã€‚ äºŒã€è¶…å£°æ³¢æµ‹è· è¶…å£°æ³¢æŒ‡çš„æ˜¯é¢‘ç‡è¶…è¿‡äººç±»å¯å¬èŒƒå›´ï¼ˆ2â€¦]]></description><link>https://gatsbystarterblogsource.gatsbyjs.io/009 Lanqiaobei/</link><guid isPermaLink="false">https://gatsbystarterblogsource.gatsbyjs.io/009 Lanqiaobei/</guid><pubDate>Wed, 02 Jun 2021 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;a href=&quot;https://github.com/Joker001014/LanQiaoCup&quot;&gt;Githubä»£ç ä»“åº“é“¾æ¥&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;ä¸€ã€å‰è¨€&lt;/h2&gt;
&lt;p&gt;æ‰¿æ¥ä¸Šæ–‡ï¼Œæœ¬æ–‡å°†ä»‹ç»æœ€åä¸€ä¸ªè“æ¡¥æ¯æ¨¡å—ï¼ˆè¶…å£°æ³¢æµ‹è·ï¼‰ï¼Œä¸ºå¤§å®¶åšå‡ºè¯¦ç»†ç¼–ç¨‹æŒ‡å¯¼ã€‚&lt;/p&gt;
&lt;h2&gt;äºŒã€è¶…å£°æ³¢æµ‹è·&lt;/h2&gt;
&lt;p&gt;è¶…å£°æ³¢æŒ‡çš„æ˜¯é¢‘ç‡è¶…è¿‡äººç±»å¯å¬èŒƒå›´ï¼ˆ20åƒèµ«å…¹ï¼‰çš„å£°æ³¢ã€‚è¶…å£°æ³¢çš„äº§ç”Ÿå’Œæ¥æ”¶ä¸»è¦ä¾é è¶…å£°æ³¢ä¼ æ„Ÿå™¨ï¼Œå…¶é€šå¸¸ç”±ä¸€ä¸ªå‘å°„å™¨å’Œä¸€ä¸ªæ¥æ”¶å™¨ç»„æˆã€‚
é€šè¿‡ &lt;code class=&quot;language-text&quot;&gt;è·ç¦» = å£°é€Ÿ Ã— æ—¶é—´ / 2&lt;/code&gt; å¯è®¡ç®—å¾—åˆ°æµ‹è·å€¼ã€‚&lt;/p&gt;
&lt;h3&gt;1ã€è¶…å£°æ³¢åŸç†å‰–æ&lt;/h3&gt;
&lt;p&gt;è¶…å£°æ³¢çš„è·ç¦»è®¡ç®—åŸç†ä¸ºï¼šè¶…å£°æ³¢å‘å°„å’Œæ¥æ”¶æ‰€éœ€æ—¶é—´ä¹˜ä»¥å£°é€Ÿå³ä¸ºè·ç¦»ï¼ˆå£°é€Ÿä¸º 340m/sï¼‰&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt; distance = t*0.000001(1us)*340/2(å¾€è¿”)*100(æ¢ç®—æˆå˜ç±³) = t * 0.017&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;2ã€æ ¸å¿ƒä»£ç &lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;è¶…å£°æ³¢è®¡æ—¶åˆå§‹åŒ–å‡½æ•°&lt;/strong&gt; å¯å€ŸåŠ© STC-ISP è½¯ä»¶ç”Ÿæˆï¼Œé€‰æ‹© &lt;code class=&quot;language-text&quot;&gt;å®šæ—¶å™¨è®¡ç®—å™¨&lt;/code&gt;ï¼Œé…ç½®å¥½æ‰€éœ€å‚æ•°ï¼Œå¦‚ å®šæ—¶å™¨0 ã€ å®šæ—¶å™¨æ—¶é’Ÿ12Tï¼Œå³å¯è‡ªåŠ¨ç”Ÿæˆä¸²å£åˆå§‹åŒ–ç¨‹åºã€‚&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/121f3b865070969a5dcc2ce7a41c1285/73fd0/1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 71.51898734177216%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAACt0lEQVR42lVTa2/aQBD0//8ZUZUPlZJWitS0FaSJAQHBhJcxxg+MeRmMjQ2pUimApztXITWWRmft3c3O7s5pUbhEtI4QhjO4rofVKsJ6vcEsDDGfz+V/jdlshiiKsFgsMJU4sVqtVHy32yHPc6Rpiny/h2YOh9D1CpqtFrzJBI7rY2iNYLQNdLtddcmQPXs0giNnPVknnod+uw3j/h6dhwc4jSaceh3zfh9as9nEYDCAJ4eogKvruhjJxVCUxEmCFyFeyt6q9QynXEIiZxpC0L27w6+rK5jf7zHXdWw6HWgkYzmWZSlFabqDPwnw+PiIvmRcOx6cTg+20cF0OMLrOsbCdlH/UcLgZxmuXkPU7iCZSesmU2jsExWZpgnf9zG2R3hpNVQCX3q6ny+xlx5Zsr+RxPwY/3r7Ba3nZ5yOR0gTUUh8mx2g2baNcrmsFNUqOu7KVXzWTWn6EnMZ1GsUI80yuFLm29ubIhzJnatPn2BKUn5FthPCAttdDs1xHEVGWNJ0UwZiuRPVhkBKz6YzFKLgJMDhAMgkjzLRP9st3oWI6mTUijghYRAEqFarChxEso3FMlNMZOKhTDg7/AbrOR1PKM5nnE9ntRZFoWLH9yOOXCUWpxk0XiyVSmg0GhiKwul0KiL2IuagPBYuVuiaFgLpZWcwhOMHGIzGGNqO9Gz/D6IsTnNskh00ErCHdbFBrVYDe0rT0qxEIAl931NrKGe3cYzlciFYiiOSjxCLadwg2dPTk1p7vZ5SSecncoAxVvBNTEzPsqI836sqsiz/AFaksfm0DE1MXMzdktcRixpdDHt9fY2bmxvc3t6iUqkodZcK/oci5CCojqQkoZnpQSojMX1KfxJMzkuZ2IgVXMDYpSKNJXLCtA1La8sbZWkk5jtmT/lPe/EsB2cYhnoMBOPEeDxWe38BDwvtIhbu+lcAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;![[Pasted image 20231125221334.png]]&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/121f3b865070969a5dcc2ce7a41c1285/f058b/1.png&quot;
        srcset=&quot;/blog/static/121f3b865070969a5dcc2ce7a41c1285/c26ae/1.png 158w,
/blog/static/121f3b865070969a5dcc2ce7a41c1285/6bdcf/1.png 315w,
/blog/static/121f3b865070969a5dcc2ce7a41c1285/f058b/1.png 630w,
/blog/static/121f3b865070969a5dcc2ce7a41c1285/73fd0/1.png 793w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;//å®šæ—¶å™¨0ã€12Tæ—¶é’Ÿï¼Œç”¨äºè¶…å£°æ³¢æµ‹è·&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Timer0Init&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 12us@12.000MHz    é¢‘ç‡ï¼š40KHZ,1/40000 = 25usï¼Œå…¶ä¸­é«˜ç”µå¹³12.5usï¼Œä½ç”µå¹³12.5usï¼Œçº¦12us&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; 
	AUXR &lt;span class=&quot;token operator&quot;&gt;&amp;amp;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0x7F&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;    &lt;span class=&quot;token comment&quot;&gt;// å®šæ—¶å™¨æ—¶é’Ÿ12Tæ¨¡å¼ â–³&lt;/span&gt;
	TMOD &lt;span class=&quot;token operator&quot;&gt;&amp;amp;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0xF0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;    &lt;span class=&quot;token comment&quot;&gt;// è®¾ç½®å®šæ—¶å™¨æ¨¡å¼&lt;/span&gt;
	TL0 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0xF4&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;      &lt;span class=&quot;token comment&quot;&gt;// è®¾ç½®å®šæ—¶åˆå€¼&lt;/span&gt;
	TH0 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0xFF&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;      &lt;span class=&quot;token comment&quot;&gt;// è®¾ç½®å®šæ—¶åˆå€¼&lt;/span&gt;
	TF0 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;         &lt;span class=&quot;token comment&quot;&gt;// æ¸…é™¤TF0æº¢å‡ºæ ‡å¿—ä½&lt;/span&gt;
	TR0 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;         &lt;span class=&quot;token comment&quot;&gt;// å…³é—­å®šæ—¶å™¨0  â–³&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;è¶…å£°æ³¢æ¥æ”¶å‡½æ•°&lt;/strong&gt; å…·ä½“ä»£ç åŠŸèƒ½å‡å·²æ³¨é‡Šï¼Œåœ¨æ­¤ä¸å†èµ˜è¿°ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c++&quot;&gt;&lt;pre class=&quot;language-c++&quot;&gt;&lt;code class=&quot;language-c++&quot;&gt;// è¶…å£°æ³¢æ¥æ”¶å‡½æ•°
u8 Wave_recv(void) 
{
	 u8 distance,count = 10; 
	 
	 TX = 0;           // å‘å°„å¼•è„šç½®0
	 TL0 = 0xF4;       // è®¾ç½®å®šæ—¶åˆå€¼
	 TH0 = 0xFF;       // è®¾ç½®å®šæ—¶åˆå€¼
	 TR0 = 1;          // æ‰“å¼€å®šæ—¶å™¨ 0
	
	 // TX å¼•è„šå‘é€ 40kHz æ–¹æ³¢ä¿¡å·é©±åŠ¨è¶…å£°æ³¢å‘é€æ¢å¤´
	 while(count--) 
	 {
		 while(!TF0);    // TF0æº¢å‡ºæ ‡å¿—ä½ä¸º0æ˜¯å¡æ­»ï¼Œç›´è‡³TF0æ»¡12usæº¢å‡ºï¼Œè·³å‡ºå¾ªç¯
		 TX ^= 1;        // å‘é€ä¿¡å·ç¿»è½¬
		 TF0 = 0;        // æº¢å‡ºæ ‡å¿—ä½æ¸…é›¶
	 }
	 
	 TR0 = 0;          // å…³é—­å®šæ—¶å™¨0ï¼Œå°†å…¶å†æ¬¡èµ‹åˆå€¼
	 TL0 = 0;          // è®¾ç½®å®šæ—¶åˆå€¼
	 TH0 = 0;          // è®¾ç½®å®šæ—¶åˆå€¼
	 TR0 = 1;          // æ‰“å¼€å®šæ—¶å™¨0
	 
	 while(RX &amp;amp;&amp;amp; !TF0);  // ç­‰å¾…æ”¶åˆ°è„‰å†²ï¼Œæ”¶åˆ°è„‰å†²æ—¶RXå°†äº§ç”Ÿä½ç”µå¹³ï¼Œå°†è·³å‡ºå¾ªç¯ã€‚å¹¶å¼€å§‹è®¡æ—¶ï¼Œ1usè®¡æ•°åŠ ä¸€
	 TR0 = 0;            // å…³é—­å®šæ—¶å™¨0ï¼Œæ­¤æ—¶TL0ã€TH0è¢«è®°å½•ä¸‹æ¥
	 
	 if(TF0)           // æµ‹è·å¤§äº1mæ—¶ï¼Œå‘ç”Ÿæº¢å‡º
	 { 
		 TF0 = 0;        // æ ‡å¿—ä½æ¸…é›¶
		 distance = 255;   // å³0xffï¼Œè¡¨ç¤ºè¶…å‡ºæµ‹é‡èŒƒå›´
	 } 
	 else              // è®¡ç®—è·ç¦»
		distance = ((TH0&amp;lt;&amp;lt;8)+TL0)*0.017;   // t*0.000001(1us)*340/2(å¾€è¿”)*100(æ¢ç®—æˆå˜ç±³) = t * 0.017

	 return distance; 
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;3ã€æ•´ä½“ä»£ç &lt;/h3&gt;
&lt;p&gt;ç”±äºè€ƒè™‘åˆå­¦è€…åŸºç¡€è¾ƒä¸ºè–„å¼±ï¼Œå› æ­¤å°†å®Œæ•´çš„ main.cpp ä»£ç è´´å‡ºæ¥ï¼ŒåŒ…å«ä¸­æ–­å‡½æ•°ã€çŸ©é˜µé”®ç›˜ã€æ•°ç ç®¡æ˜¾ç¤ºç­‰ï¼Œå¹¶ä¸”åœ¨å…³é”®å¤„è¿›è¡Œäº†æ³¨é‡Šï¼Œå¸Œæœ›å¯¹å¤§å®¶æœ‰æ‰€å¸®åŠ©ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// åŒ…å«å¤´æ–‡ä»¶&lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;STC15F2K60S2.h&quot;&lt;/span&gt; &lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// æ•°æ®ç±»å‹å®šä¹‰&lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;define&lt;/span&gt; &lt;span class=&quot;token macro-name&quot;&gt;u8&lt;/span&gt; &lt;span class=&quot;token expression&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;unsigned&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;char&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;define&lt;/span&gt; &lt;span class=&quot;token macro-name&quot;&gt;u16&lt;/span&gt; &lt;span class=&quot;token expression&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;unsigned&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// 8ä½æ•°ç ç®¡çŠ¶æ€&lt;/span&gt;
u8 dspbuf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
u8 code tab&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xc0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xf9&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xa4&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xb0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x99&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x92&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x82&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xf8&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x80&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x90&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xff&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x40&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x79&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x24&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x30&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x19&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x12&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x02&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x78&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	             &lt;span class=&quot;token comment&quot;&gt;// 0     1    2    3    4    5    6    7    8    9    10   11   12   13   14   15   16  17   18   19   20       &lt;/span&gt;
u8 dspcom &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
bit key_flag &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	
&lt;span class=&quot;token comment&quot;&gt;//////////////////////////////////////////////////////////////////////////////////////////&lt;/span&gt;
sbit TX &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; P1&lt;span class=&quot;token operator&quot;&gt;^&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;    &lt;span class=&quot;token comment&quot;&gt;// è¶…å£°æ³¢å‘å°„å¼•è„š&lt;/span&gt;
sbit RX &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; P1&lt;span class=&quot;token operator&quot;&gt;^&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;    &lt;span class=&quot;token comment&quot;&gt;// è¶…å£°æ³¢æ¥æ”¶å¼•è„š&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;//////////////////////////////////////////////////////////////////////////////////////////&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// 573é”å­˜å™¨å°è£…æˆå‡½æ•°&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;door&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;u8 choose&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;input&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	P2 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;P2 &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0x1f&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; choose&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	P0 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; input&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	P2 &lt;span class=&quot;token operator&quot;&gt;&amp;amp;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0x1f&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;	
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// æ•°ç ç®¡å…³é—­å‡½æ•°&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;clo_num&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	dspbuf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	dspbuf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	dspbuf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	dspbuf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	dspbuf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	dspbuf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	dspbuf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	dspbuf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// å…³ç¯ã€èœ‚é¸£å™¨&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;all_init&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
 	&lt;span class=&quot;token function&quot;&gt;door&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x80&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xff&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token function&quot;&gt;door&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xa0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xaf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token function&quot;&gt;clo_num&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// æ•°ç ç®¡æ˜¾ç¤ºå‡½æ•°&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;display&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;			  
	&lt;span class=&quot;token function&quot;&gt;door&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xe0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xff&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

	&lt;span class=&quot;token function&quot;&gt;door&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xc0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x01&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt;dspcom&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token function&quot;&gt;door&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xe0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;tab&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;dspbuf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;dspcom&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	
	&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;dspcom &lt;span class=&quot;token operator&quot;&gt;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
		dspcom &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// å®šæ—¶å™¨1åˆå§‹åŒ–ï¼Œç”¨äºæŒ‰é”®ã€æ•°ç ç®¡æ˜¾ç¤ºç­‰&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Timer1Init&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;		&lt;span class=&quot;token comment&quot;&gt;//2æ¯«ç§’@12.000MHz&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	AUXR &lt;span class=&quot;token operator&quot;&gt;|=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0x40&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;		&lt;span class=&quot;token comment&quot;&gt;//å®šæ—¶å™¨æ—¶é’Ÿ1Tæ¨¡å¼&lt;/span&gt;
	TMOD &lt;span class=&quot;token operator&quot;&gt;&amp;amp;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0x0F&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;		&lt;span class=&quot;token comment&quot;&gt;//è®¾ç½®å®šæ—¶å™¨æ¨¡å¼&lt;/span&gt;
	TL1 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0x40&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;		&lt;span class=&quot;token comment&quot;&gt;//è®¾ç½®å®šæ—¶åˆå€¼&lt;/span&gt;
	TH1 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0xA2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;		&lt;span class=&quot;token comment&quot;&gt;//è®¾ç½®å®šæ—¶åˆå€¼&lt;/span&gt;
	TF1 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;		&lt;span class=&quot;token comment&quot;&gt;//æ¸…é™¤TF1æ ‡å¿—&lt;/span&gt;
	TR1 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;		&lt;span class=&quot;token comment&quot;&gt;//å®šæ—¶å™¨1å¼€å§‹è®¡æ—¶&lt;/span&gt;
	
	ET1 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	EA &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;//å®šæ—¶å™¨0ã€12Tæ—¶é’Ÿï¼Œç”¨äºè¶…å£°æ³¢æµ‹è·&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Timer0Init&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 12us@12.000MHz    é¢‘ç‡ï¼š40KHZ,1/40000 = 25usï¼Œå…¶ä¸­é«˜ç”µå¹³12.5usï¼Œä½ç”µå¹³12.5usï¼Œçº¦12us&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; 
	AUXR &lt;span class=&quot;token operator&quot;&gt;&amp;amp;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0x7F&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;    &lt;span class=&quot;token comment&quot;&gt;// å®šæ—¶å™¨æ—¶é’Ÿ12Tæ¨¡å¼ â–³&lt;/span&gt;
	TMOD &lt;span class=&quot;token operator&quot;&gt;&amp;amp;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0xF0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;    &lt;span class=&quot;token comment&quot;&gt;// è®¾ç½®å®šæ—¶å™¨æ¨¡å¼&lt;/span&gt;
	TL0 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0xF4&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;      &lt;span class=&quot;token comment&quot;&gt;// è®¾ç½®å®šæ—¶åˆå€¼&lt;/span&gt;
	TH0 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0xFF&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;      &lt;span class=&quot;token comment&quot;&gt;// è®¾ç½®å®šæ—¶åˆå€¼&lt;/span&gt;
	TF0 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;         &lt;span class=&quot;token comment&quot;&gt;// æ¸…é™¤TF0æº¢å‡ºæ ‡å¿—ä½&lt;/span&gt;
	TR0 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;         &lt;span class=&quot;token comment&quot;&gt;// å…³é—­å®šæ—¶å™¨0  â–³&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; 

&lt;span class=&quot;token comment&quot;&gt;// è¶…å£°æ³¢æ¥æ”¶å‡½æ•°&lt;/span&gt;
u8 &lt;span class=&quot;token function&quot;&gt;Wave_recv&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; 
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	 u8 distance&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;count &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; 
	 
	 TX &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;           &lt;span class=&quot;token comment&quot;&gt;// å‘å°„å¼•è„šç½®0&lt;/span&gt;
	 TL0 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0xF4&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;       &lt;span class=&quot;token comment&quot;&gt;// è®¾ç½®å®šæ—¶åˆå€¼&lt;/span&gt;
	 TH0 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0xFF&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;       &lt;span class=&quot;token comment&quot;&gt;// è®¾ç½®å®šæ—¶åˆå€¼&lt;/span&gt;
	 TR0 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;          &lt;span class=&quot;token comment&quot;&gt;// æ‰“å¼€å®šæ—¶å™¨ 0&lt;/span&gt;
	
	 &lt;span class=&quot;token comment&quot;&gt;// TX å¼•è„šå‘é€ 40kHz æ–¹æ³¢ä¿¡å·é©±åŠ¨è¶…å£°æ³¢å‘é€æ¢å¤´&lt;/span&gt;
	 &lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;count&lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; 
	 &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		 &lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;TF0&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;    &lt;span class=&quot;token comment&quot;&gt;// TF0æº¢å‡ºæ ‡å¿—ä½ä¸º0æ˜¯å¡æ­»ï¼Œç›´è‡³TF0æ»¡12usæº¢å‡ºï¼Œè·³å‡ºå¾ªç¯&lt;/span&gt;
		 TX &lt;span class=&quot;token operator&quot;&gt;^=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;        &lt;span class=&quot;token comment&quot;&gt;// å‘é€ä¿¡å·ç¿»è½¬&lt;/span&gt;
		 TF0 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;        &lt;span class=&quot;token comment&quot;&gt;// æº¢å‡ºæ ‡å¿—ä½æ¸…é›¶&lt;/span&gt;
	 &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
	 
	 TR0 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;          &lt;span class=&quot;token comment&quot;&gt;// å…³é—­å®šæ—¶å™¨0ï¼Œå°†å…¶å†æ¬¡èµ‹åˆå€¼&lt;/span&gt;
	 TL0 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;          &lt;span class=&quot;token comment&quot;&gt;// è®¾ç½®å®šæ—¶åˆå€¼&lt;/span&gt;
	 TH0 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;          &lt;span class=&quot;token comment&quot;&gt;// è®¾ç½®å®šæ—¶åˆå€¼&lt;/span&gt;
	 TR0 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;          &lt;span class=&quot;token comment&quot;&gt;// æ‰“å¼€å®šæ—¶å™¨0&lt;/span&gt;
	 
	 &lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;RX &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;TF0&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  &lt;span class=&quot;token comment&quot;&gt;// ç­‰å¾…æ”¶åˆ°è„‰å†²ï¼Œæ”¶åˆ°è„‰å†²æ—¶RXå°†äº§ç”Ÿä½ç”µå¹³ï¼Œå°†è·³å‡ºå¾ªç¯ã€‚å¹¶å¼€å§‹è®¡æ—¶ï¼Œ1usè®¡æ•°åŠ ä¸€&lt;/span&gt;
	 TR0 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;            &lt;span class=&quot;token comment&quot;&gt;// å…³é—­å®šæ—¶å™¨0ï¼Œæ­¤æ—¶TL0ã€TH0è¢«è®°å½•ä¸‹æ¥&lt;/span&gt;
	 
	 &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;TF0&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;           &lt;span class=&quot;token comment&quot;&gt;// æµ‹è·å¤§äº1mæ—¶ï¼Œå‘ç”Ÿæº¢å‡º&lt;/span&gt;
	 &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; 
		 TF0 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;        &lt;span class=&quot;token comment&quot;&gt;// æ ‡å¿—ä½æ¸…é›¶&lt;/span&gt;
		 distance &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;255&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;   &lt;span class=&quot;token comment&quot;&gt;// å³0xffï¼Œè¡¨ç¤ºè¶…å‡ºæµ‹é‡èŒƒå›´&lt;/span&gt;
	 &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; 
	 &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt;              &lt;span class=&quot;token comment&quot;&gt;// è®¡ç®—è·ç¦»&lt;/span&gt;
		distance &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;TH0&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;TL0&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0.017&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;   &lt;span class=&quot;token comment&quot;&gt;// t*0.000001(1us)*340/2(å¾€è¿”)*100(æ¢ç®—æˆå˜ç±³) = t * 0.017&lt;/span&gt;

	 &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; distance&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; 
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// ä¸»å‡½æ•°&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	u8 distance&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token comment&quot;&gt;// åˆå§‹åŒ–&lt;/span&gt;
	&lt;span class=&quot;token function&quot;&gt;all_init&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token function&quot;&gt;Timer1Init&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token function&quot;&gt;Timer0Init&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	
	&lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;token comment&quot;&gt;// 20msæ¥æ”¶ä¸€æ¬¡è¶…å£°æ³¢ï¼Œå¹¶è¿›è¡Œæ•°ç ç®¡æ˜¾ç¤ºæµ‹è·å€¼&lt;/span&gt;
		&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;key_flag&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
		&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
			key_flag &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
			&lt;span class=&quot;token comment&quot;&gt;// è¶…å£°æ³¢æ¥æ”¶&lt;/span&gt;
			distance &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Wave_recv&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
			&lt;span class=&quot;token comment&quot;&gt;// æ•°ç ç®¡æ˜¾ç¤ºæµ‹è·å€¼&lt;/span&gt;
			dspbuf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; distance&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
			dspbuf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; distance&lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
			dspbuf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; distance&lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// å®šæ—¶å™¨1ä¸­æ–­æœåŠ¡å‡½æ•°&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;timer1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; interrupt &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; u8 t_20ms &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	
	&lt;span class=&quot;token function&quot;&gt;display&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	
	t_20ms&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token comment&quot;&gt;// 20msé”®ç›˜æ‰«æ&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;t_20ms &lt;span class=&quot;token operator&quot;&gt;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		t_20ms &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		key_flag &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;è‡³æ­¤ï¼Œæœ¬æ¬¡ è“æ¡¥æ¯æ‰€æœ‰æ¨¡å— å‡å·²ä»‹ç»å®Œæ¯•ï¼Œå¸Œæœ›å¯¹å¤§å®¶æœ‰æ‰€å¸®åŠ©ï¼&lt;/p&gt;</content:encoded></item><item><title><![CDATA[è“æ¡¥æ¯å•ç‰‡æœºè®¾è®¡ä¸å¼€å‘_åŸºç¡€æ¨¡å—_NE555]]></title><description><![CDATA[Githubä»£ç ä»“åº“é“¾æ¥ ä¸€ã€å‰è¨€ æ‰¿æ¥ä¸Šæ–‡ï¼Œæœ¬æ–‡å°†ç»§ç»­ä»‹ç»å‰©ä½™è“æ¡¥æ¯æ¶‰åŠæ¨¡å—ï¼ˆNE555ä»¥åŠè¶…å£°æ³¢æµ‹è·ï¼‰ï¼Œä¸ºå¤§å®¶åšå‡ºè¯¦ç»†ç¼–ç¨‹æŒ‡å¯¼ã€‚ äºŒã€NE555 NE555ï¼Œä¹Ÿç§°ä¸ºLM555ï¼Œæ˜¯ä¸€ç§ç»å…¸çš„é›†æˆç”µè·¯ï¼ˆICï¼‰èŠ¯ç‰‡ï¼Œæ˜¯ä¸€æ¬¾å¸¸ç”¨çš„å®šæ—¶å™¨å’Œè„‰å†²å®½åº¦è°ƒåˆ¶ï¼ˆPWMï¼‰å‘ç”Ÿå™¨ã€‚NE55â€¦]]></description><link>https://gatsbystarterblogsource.gatsbyjs.io/008 Lanqiaobei/</link><guid isPermaLink="false">https://gatsbystarterblogsource.gatsbyjs.io/008 Lanqiaobei/</guid><pubDate>Sun, 30 May 2021 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;a href=&quot;https://github.com/Joker001014/LanQiaoCup&quot;&gt;Githubä»£ç ä»“åº“é“¾æ¥&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;ä¸€ã€å‰è¨€&lt;/h2&gt;
&lt;p&gt;æ‰¿æ¥ä¸Šæ–‡ï¼Œæœ¬æ–‡å°†ç»§ç»­ä»‹ç»å‰©ä½™è“æ¡¥æ¯æ¶‰åŠæ¨¡å—ï¼ˆNE555ä»¥åŠè¶…å£°æ³¢æµ‹è·ï¼‰ï¼Œä¸ºå¤§å®¶åšå‡ºè¯¦ç»†ç¼–ç¨‹æŒ‡å¯¼ã€‚&lt;/p&gt;
&lt;h2&gt;äºŒã€NE555&lt;/h2&gt;
&lt;p&gt;NE555ï¼Œä¹Ÿç§°ä¸ºLM555ï¼Œæ˜¯ä¸€ç§ç»å…¸çš„é›†æˆç”µè·¯ï¼ˆICï¼‰èŠ¯ç‰‡ï¼Œæ˜¯ä¸€æ¬¾å¸¸ç”¨çš„å®šæ—¶å™¨å’Œè„‰å†²å®½åº¦è°ƒåˆ¶ï¼ˆPWMï¼‰å‘ç”Ÿå™¨ã€‚NE555è¢«å¹¿æ³›åº”ç”¨äºå„ç§ç”µå­ç”µè·¯ä¸­ï¼Œä¾‹å¦‚æ—¶é’Ÿç”µè·¯ã€è„‰å†²å‘ç”Ÿå™¨ã€ç”µå­é—¹é’Ÿã€è®¡æ—¶å™¨ã€PWMæ§åˆ¶å™¨ç­‰ï¼Œæ˜¯è“æ¡¥æ¯æ¯”èµ›ä¸­å¸¸è§çš„ä¸€é“é¢˜ç›®ã€‚&lt;/p&gt;
&lt;h3&gt;1ã€NE555åŸç†å‰–æ&lt;/h3&gt;
&lt;p&gt;NE555å®ç°èµ·æ¥è¾ƒç®€å•ï¼Œåªéœ€è®¾ç½®ä¸€ä¸ªå®šæ—¶å™¨1ç”¨äºè®¡æ—¶ï¼Œè®¡æ•°å™¨0ç”¨äºè®¡æ•°ï¼Œæ¯ç§’è®¡ç®—NE555æ¥æ”¶è„‰å†²æ•°ï¼Œå®ç°é¢‘ç‡è®¡ç®—ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚&lt;/p&gt;
&lt;h3&gt;2ã€æ•´ä½“ä»£ç &lt;/h3&gt;
&lt;p&gt;ç”±äºè€ƒè™‘åˆå­¦è€…åŸºç¡€è¾ƒä¸ºè–„å¼±ï¼Œå› æ­¤å°†å®Œæ•´çš„ main.cpp ä»£ç è´´å‡ºæ¥ï¼ŒåŒ…å«ä¸­æ–­å‡½æ•°ã€çŸ©é˜µé”®ç›˜ã€æ•°ç ç®¡æ˜¾ç¤ºç­‰ï¼Œå¹¶ä¸”åœ¨å…³é”®å¤„è¿›è¡Œäº†æ³¨é‡Šï¼Œå¸Œæœ›å¯¹å¤§å®¶æœ‰æ‰€å¸®åŠ©ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// åŒ…å«å¤´æ–‡ä»¶&lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;STC15F2K60S2.h&quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// æ•°æ®ç±»å‹å®šä¹‰&lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;define&lt;/span&gt; &lt;span class=&quot;token macro-name&quot;&gt;u8&lt;/span&gt; &lt;span class=&quot;token expression&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;unsigned&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;char&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;define&lt;/span&gt; &lt;span class=&quot;token macro-name&quot;&gt;u16&lt;/span&gt; &lt;span class=&quot;token expression&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;unsigned&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// 8ä½æ•°ç ç®¡çŠ¶æ€&lt;/span&gt;
u8 dspbuf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
u8 code tab&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xc0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xf9&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xa4&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xb0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x99&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x92&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x82&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xf8&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x80&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x90&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xff&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    
u8 dspcom &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
bit key_flag &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;NE555_flag &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// 573é”å­˜å™¨å°è£…æˆå‡½æ•°&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;door&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;u8 choose&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;input&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	P2 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;P2 &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0x1f&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; choose&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	P0 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; input&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	P2 &lt;span class=&quot;token operator&quot;&gt;&amp;amp;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0x1f&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;	
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// å…³æ•°ç ç®¡&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;clo_num&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	dspbuf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	dspbuf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	dspbuf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	dspbuf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	dspbuf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	dspbuf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	dspbuf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	dspbuf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// å…³ç¯ã€èœ‚é¸£å™¨&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;all_init&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
 	&lt;span class=&quot;token function&quot;&gt;door&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x80&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xff&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token function&quot;&gt;door&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xa0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xaf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token function&quot;&gt;clo_num&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// æ•°ç ç®¡æ˜¾ç¤ºå‡½æ•°&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;display&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;			  
	&lt;span class=&quot;token function&quot;&gt;door&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xe0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xff&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

	&lt;span class=&quot;token function&quot;&gt;door&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xc0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x01&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt;dspcom&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token function&quot;&gt;door&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xe0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;tab&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;dspbuf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;dspcom&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	
	&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;dspcom &lt;span class=&quot;token operator&quot;&gt;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
		dspcom &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// çŸ©é˜µé”®ç›˜ï¼Œæ¥KBD&lt;/span&gt;
u8 keypress &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;keyvalue &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0xff&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;keyread &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
u8 &lt;span class=&quot;token function&quot;&gt;Read_key&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    u8 key_m&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;cal&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    
    P3 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0xf0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;P42 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;P44 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  	P36 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; P42&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;P37 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; P44&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    key_m &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; P3&lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xf0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;key_m &lt;span class=&quot;token operator&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0xf0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; 
        keypress&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
   &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt;
        keypress &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; 
    
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;keypress &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		  keypress &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	  	keyread &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		  &lt;span class=&quot;token keyword&quot;&gt;switch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;key_m&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0x70&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;cal &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;                
            &lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0xb0&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;cal &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;    
            &lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0xd0&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;cal &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;    
            &lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0xe0&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;cal &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        
        P3 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0x0f&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;P42 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;P44 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        key_m &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; P3&lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x0f&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        
			&lt;span class=&quot;token keyword&quot;&gt;switch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;key_m&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
					&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
							&lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0x0e&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;keyvalue &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;cal&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;                
							&lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0x0d&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;keyvalue &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;cal&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;    
							&lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0x0b&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;keyvalue &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;cal&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;    
							&lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0x07&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;keyvalue &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;cal&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
					&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    P3 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0x0f&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;P42 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;P44 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    key_m &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; P3&lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x0f&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;keyread&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;key_m &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0x0f&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        keyread &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; keyvalue&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;	
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0xff&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; 
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// å®šæ—¶å™¨1ã€è®¡æ•°å™¨0 åˆå§‹åŒ–å‡½æ•°&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Timer_Init&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;		&lt;span class=&quot;token comment&quot;&gt;//2æ¯«ç§’@12.000MHz&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	AUXR &lt;span class=&quot;token operator&quot;&gt;|=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0x40&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;		&lt;span class=&quot;token comment&quot;&gt;//å®šæ—¶å™¨æ—¶é’Ÿ1Tæ¨¡å¼&lt;/span&gt;
	&lt;span class=&quot;token comment&quot;&gt;//â–³æ³¨æ„ï¼šéœ€è¦ç”¨ |=&lt;/span&gt;
	TMOD &lt;span class=&quot;token operator&quot;&gt;|=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0x05&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;		&lt;span class=&quot;token comment&quot;&gt;//å®šæ—¶å™¨T1(00ï¼šè‡ªåŠ¨é‡è£…è½½)  è®¡æ•°å™¨T0(01ï¼š16ä½ä¸é‡è£…ï¼ŒTL0ã€TH0å…¨ç”¨)    0000 0101(ç¬¬3ã€6ä½ï¼Œ0ï¼šå®šæ—¶ï¼Œ1ï¼šè®¡æ•°)&lt;/span&gt;
	TL1 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0x40&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;		&lt;span class=&quot;token comment&quot;&gt;//è®¾ç½®å®šæ—¶åˆå€¼&lt;/span&gt;
	TH1 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0xA2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;		&lt;span class=&quot;token comment&quot;&gt;//è®¾ç½®å®šæ—¶åˆå€¼&lt;/span&gt;
	TF1 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;		&lt;span class=&quot;token comment&quot;&gt;//æ¸…é™¤TF1æ ‡å¿—&lt;/span&gt;
	TR1 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;		&lt;span class=&quot;token comment&quot;&gt;//å®šæ—¶å™¨1å¼€å§‹è®¡æ—¶&lt;/span&gt;
	
  TR0 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;        &lt;span class=&quot;token comment&quot;&gt;//å¼€è®¡æ•°å™¨0&lt;/span&gt;
	ET0 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	ET1 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	EA &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;         &lt;span class=&quot;token comment&quot;&gt;//æ‰“å¼€æ€»ä¸­æ–­        &lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;


&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;          &lt;span class=&quot;token comment&quot;&gt;//****************************************************************************************************&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	u8 key_re&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;NE555_w &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	u16 freq &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;        &lt;span class=&quot;token comment&quot;&gt;//å®šä¹‰é¢‘ç‡&lt;/span&gt;
	
	&lt;span class=&quot;token function&quot;&gt;all_init&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token function&quot;&gt;Timer_Init&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	
	&lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;key_flag&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
		&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
			key_flag &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
			key_re &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Read_key&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
			
			&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;key_re &lt;span class=&quot;token operator&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0xff&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
			&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
				&lt;span class=&quot;token keyword&quot;&gt;switch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;key_re&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
				&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
					&lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;NE555_w &lt;span class=&quot;token operator&quot;&gt;^=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;   &lt;span class=&quot;token comment&quot;&gt;//ç”¨ä¸äº†num_close()&lt;/span&gt;
					&lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
					&lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
					&lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;door&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x80&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x55&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
				&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
			&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
		&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
		&lt;span class=&quot;token comment&quot;&gt;// æ¯ç§’è®¡ç®—NE555é¢‘ç‡&lt;/span&gt;
		&lt;span class=&quot;token comment&quot;&gt;// çŸ­æ¥signalå’ŒP34ï¼Œæ”¹å˜Rb3å¯æ”¹å˜é¢‘ç‡&lt;/span&gt;
		&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;NE555_flag&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
		&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
			NE555_flag &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
			TR0 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;      &lt;span class=&quot;token comment&quot;&gt;//å…³è®¡æ•°å™¨0&lt;/span&gt;
			
			freq &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; TL0&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;TH0&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;256&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
			
			TH0 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;      &lt;span class=&quot;token comment&quot;&gt;//æ¸…ç©ºè®¡æ•°&lt;/span&gt;
			TL0 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;      &lt;span class=&quot;token comment&quot;&gt;//æ¸…ç©ºè®¡æ•°&lt;/span&gt;
			
			TR0 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;      &lt;span class=&quot;token comment&quot;&gt;//æ‰“å¼€è®¡æ•°å™¨0&lt;/span&gt;
		&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
		&lt;span class=&quot;token comment&quot;&gt;// æ•°ç ç®¡å®æ—¶æ˜¾ç¤ºNE555æ£€æµ‹çš„é¢‘ç‡å€¼&lt;/span&gt;
		&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;key_flag&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;NE555_w&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
		&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
			key_flag &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
			
			dspbuf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; freq&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
			dspbuf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; freq&lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10000&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
			dspbuf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; freq&lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
			dspbuf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; freq&lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
			dspbuf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; freq&lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// å®šæ—¶å™¨ 1 ä¸­æ–­æœåŠ¡å‡½æ•°&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;timer1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; interrupt &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; u8 t_20ms &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; u16 t_1000ms &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

	&lt;span class=&quot;token function&quot;&gt;display&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	
	t_20ms&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	t_1000ms&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	
	&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;t_20ms &lt;span class=&quot;token operator&quot;&gt;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		t_20ms &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		key_flag &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
	&lt;span class=&quot;token comment&quot;&gt;// 1sè®¡æ—¶ï¼Œç”¨äºç»Ÿè®¡1så†…NE555æ¥æ”¶è„‰å†²æ•°-&gt;è®¡ç®—é¢‘ç‡&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;t_1000ms &lt;span class=&quot;token operator&quot;&gt;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;500&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		t_1000ms &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		NE555_flag &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;è‡³æ­¤ï¼Œæœ¬æ¬¡ NE555 å·²ä»‹ç»å®Œæ¯•ã€‚&lt;/p&gt;</content:encoded></item><item><title><![CDATA[è“æ¡¥æ¯å•ç‰‡æœºè®¾è®¡ä¸å¼€å‘_åŸºç¡€æ¨¡å—_ä¸²å£é€šä¿¡]]></title><description><![CDATA[Githubä»£ç ä»“åº“é“¾æ¥ ä¸€ã€å‰è¨€ æ‰¿æ¥ä¸Šæ–‡ï¼Œæœ¬æ–‡å°†ç»§ç»­ä»‹ç»å‰©ä½™è“æ¡¥æ¯æ¶‰åŠæ¨¡å—ï¼ˆä¸²å£é€šä¿¡ã€NE55â€¦]]></description><link>https://gatsbystarterblogsource.gatsbyjs.io/007 Lanqiaobei/</link><guid isPermaLink="false">https://gatsbystarterblogsource.gatsbyjs.io/007 Lanqiaobei/</guid><pubDate>Thu, 27 May 2021 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;a href=&quot;https://github.com/Joker001014/LanQiaoCup&quot;&gt;Githubä»£ç ä»“åº“é“¾æ¥&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;ä¸€ã€å‰è¨€&lt;/h2&gt;
&lt;p&gt;æ‰¿æ¥ä¸Šæ–‡ï¼Œæœ¬æ–‡å°†ç»§ç»­ä»‹ç»å‰©ä½™è“æ¡¥æ¯æ¶‰åŠæ¨¡å—ï¼ˆä¸²å£é€šä¿¡ã€NE555ä»¥åŠè¶…å£°æ³¢æµ‹è·ï¼‰ï¼Œä¸ºå¤§å®¶åšå‡ºè¯¦ç»†ç¼–ç¨‹æŒ‡å¯¼ã€‚&lt;/p&gt;
&lt;h2&gt;äºŒã€ä¸²å£é€šä¿¡&lt;/h2&gt;
&lt;p&gt;ä¸²å£é€šä¿¡æ˜¯ä¸€ç§ç”¨äºåœ¨è®¡ç®—æœºç³»ç»Ÿå’Œå¤–éƒ¨è®¾å¤‡ä¹‹é—´ä¼ è¾“æ•°æ®çš„é€šä¿¡æ–¹å¼ã€‚å®ƒé€šè¿‡ä¸²è¡Œä¼ è¾“æ•°æ®ï¼Œä¹Ÿå°±æ˜¯æŒ‰ç…§ä¸€ä¸ªä½æ¥ä¸€ä¸ªä½çš„é¡ºåºè¿›è¡Œä¼ è¾“ã€‚&lt;/p&gt;
&lt;h3&gt;1ã€ä¸²å£é€šä¿¡åŸç†å‰–æ&lt;/h3&gt;
&lt;p&gt;æœ¬æ–‡å°†ç¼–å†™ç¨‹åºï¼Œå®ç°å•ç‰‡æœºä¸²å£æ¥æ”¶æ•°æ®ï¼Œå¹¶æ ¹æ®æ¥æ”¶çš„ä¸åŒæ•°æ®å›ä¼ ä¸åŒæ•°æ®ã€‚å¦‚ï¼šï¼ˆæ­¤åŠŸèƒ½ä¸ºæŸå±Šè“æ¡¥æ¯æ¯”èµ›é¢˜ç›®ï¼‰&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è‹¥æ¥æ”¶åˆ° &lt;code class=&quot;language-text&quot;&gt;ST&lt;/code&gt;ï¼Œåˆ™å›ä¼  dat1 å’Œ dat2 æ•°æ®ï¼›&lt;/li&gt;
&lt;li&gt;è‹¥æ¥å—åˆ° &lt;code class=&quot;language-text&quot;&gt;PARA&lt;/code&gt;ï¼Œåˆ™å›ä¼  dat3 å’Œ dat4 æ•°æ®ï¼›&lt;/li&gt;
&lt;li&gt;è‹¥æ¥å—åˆ°å…¶ä»–æ•°æ®ï¼Œåˆ™å›ä¼  &lt;code class=&quot;language-text&quot;&gt;ERROR&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å…·ä½“å®ç°æ€è·¯ï¼šä½¿ç”¨å•ç‰‡æœºä¸Šçš„ä¸²å£1ä¸æ–­æ¥æ”¶ä¸²å£æ•°æ®ï¼Œè‹¥æ¥æ”¶åˆ°åˆ™åˆ¤æ–­æ¥æ”¶çš„æ•°æ®ç±»å‹ï¼Œå›ä¼ å¯¹åº”å½¢å¼çš„æ•°æ®ã€‚&lt;/p&gt;
&lt;h3&gt;2ã€æ ¸å¿ƒä»£ç &lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;ä¸²å£åˆå§‹åŒ–å‡½æ•°&lt;/strong&gt; å¯å€ŸåŠ© STC-ISP è½¯ä»¶ç”Ÿæˆï¼Œé€‰æ‹© &lt;code class=&quot;language-text&quot;&gt;æ³¢ç‰¹ç‡è®¡ç®—å™¨&lt;/code&gt;ï¼Œé…ç½®å¥½æ‰€éœ€å‚æ•°ï¼Œå¦‚ ä¸²å£1 ã€ 8ä½è‡ªåŠ¨é‡è½½ï¼Œå³å¯è‡ªåŠ¨ç”Ÿæˆä¸²å£åˆå§‹åŒ–ç¨‹åºã€‚åªéœ€åœ¨åé¢è¡¥ä¸Š &lt;code class=&quot;language-text&quot;&gt;ES = 1, EA = 1&lt;/code&gt;ï¼Œå…è®¸è®¿é—®å†…éƒ¨RAMå’Œæ‰“å¼€æ€»ä¸­æ–­ã€‚&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/dc67c0b4d98f2d89211bac41dedbd086/898f6/1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 71.51898734177216%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAACvUlEQVR42l1T21LaUBTN/39E+9KxDz5YabVeGBFEAbnLnZAQEpIAgXDRitZpV9fKtDNOmdlzSM45a6/LjjGfhvCDGSw3QN9y4IYRgsUSzmQC1/XgTaeYzkKEiwWC+RyW48Aaj+F5HsY8s9xssN5uMeO+VmM4HCJ7c4NCuYrR2IXJavcGqNdqqD88wOl0MLi+xqRchl+rw8zl4JkmTMtC7fISQ94dc697dQWv1YJRqVTQ4p+ROcSE3W3bgskmHQKN+Ryz830mg9b9PTZBkNR6uUKlXkcp9RX5w8ME1MxmMe92YfR6PQQ8JKYPZBRFUSI1RyaNRgNRGKJOBjUCOmS2WS7h2zZuyah6dob80RGq5+fo8Hk2GMDwfR8mDwpMoH02KBUL6HQ7cHhxxb1YPvJwTN9+Pz4iIvN+tYoxGe1XK+DlBW9cQ95NPDxnh3Q6jXwui2/pHD5nWnAJMiHgnkHI7DKtkQX69Qn+6eAA33mvTdAFwV6en+EL0OEhycvQp36/n7A1LRtBGMAejRLAmEnWKd+jGv0GJPHh40d8OT5OVPm07G2/RyDJE0afz+cT0A67RQzBFzu+n3A8HilzJ9+Y6utuB7y+Jimf0rtaoYCfT0/4Jcnci3jGcF0XVzT07u4O7XYbFl9uyGjHA/F6DY8sm9xzKadxe4sBx6lH+UMy/sF3Wwa20QSQVMzJMKZkI8AbRi+mGhcFJVCVTUscNrXJWJJXbDLjJGiQl2S+eleaECPkWJTZRWClUilhOSKrOb1b0WwxPz09RSqVSmwZKu04xvZvw3+1ZXA6byzYyWaamkWBaxVDBaSLxWIRhxzeI3p2cnKSNHiv4H0lgEr14uIikaqvRsPcbDZxyc9Ke2ogn1WSJG/XlK1m/1ciWbFXOaQFJqbSZ9hl2gNKU9Ja9Swb1FRflhrqWcq0qrFW7f0BOgTlXFqp2OcAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;![[Pasted image 20231106221052.png]]&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/dc67c0b4d98f2d89211bac41dedbd086/f058b/1.png&quot;
        srcset=&quot;/blog/static/dc67c0b4d98f2d89211bac41dedbd086/c26ae/1.png 158w,
/blog/static/dc67c0b4d98f2d89211bac41dedbd086/6bdcf/1.png 315w,
/blog/static/dc67c0b4d98f2d89211bac41dedbd086/f058b/1.png 630w,
/blog/static/dc67c0b4d98f2d89211bac41dedbd086/898f6/1.png 798w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// ä¸²å£1åˆå§‹åŒ–å‡½æ•°ï¼Œ8ä½è‡ªåŠ¨é‡è£…&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;UartInit&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;		&lt;span class=&quot;token comment&quot;&gt;//4800bps@12.000MHz&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	PCON &lt;span class=&quot;token operator&quot;&gt;&amp;amp;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0x7F&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;		&lt;span class=&quot;token comment&quot;&gt;//æ³¢ç‰¹ç‡ä¸å€é€Ÿ&lt;/span&gt;
	SCON &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0x50&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;		&lt;span class=&quot;token comment&quot;&gt;//8ä½æ•°æ®,å¯å˜æ³¢ç‰¹ç‡&lt;/span&gt;
	AUXR &lt;span class=&quot;token operator&quot;&gt;|=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0x40&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;		&lt;span class=&quot;token comment&quot;&gt;//å®šæ—¶å™¨1æ—¶é’Ÿä¸ºFosc,å³1T&lt;/span&gt;
	AUXR &lt;span class=&quot;token operator&quot;&gt;&amp;amp;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0xFE&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;		&lt;span class=&quot;token comment&quot;&gt;//ä¸²å£1é€‰æ‹©å®šæ—¶å™¨1ä¸ºæ³¢ç‰¹ç‡å‘ç”Ÿå™¨&lt;/span&gt;
	TMOD &lt;span class=&quot;token operator&quot;&gt;&amp;amp;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0x0F&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;		&lt;span class=&quot;token comment&quot;&gt;//æ¸…é™¤å®šæ—¶å™¨1æ¨¡å¼ä½&lt;/span&gt;
	TMOD &lt;span class=&quot;token operator&quot;&gt;|=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0x20&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;		&lt;span class=&quot;token comment&quot;&gt;//è®¾å®šå®šæ—¶å™¨1ä¸º8ä½è‡ªåŠ¨é‡è£…æ–¹å¼&lt;/span&gt;
	TL1 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0xB2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;		&lt;span class=&quot;token comment&quot;&gt;//è®¾å®šå®šæ—¶åˆå€¼&lt;/span&gt;
	TH1 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0xB2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;		&lt;span class=&quot;token comment&quot;&gt;//è®¾å®šå®šæ—¶å™¨é‡è£…å€¼&lt;/span&gt;
	ET1 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;		&lt;span class=&quot;token comment&quot;&gt;//ç¦æ­¢å®šæ—¶å™¨1ä¸­æ–­&lt;/span&gt;
	TR1 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;		&lt;span class=&quot;token comment&quot;&gt;//å¯åŠ¨å®šæ—¶å™¨1&lt;/span&gt;
	
	ES &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;   &lt;span class=&quot;token comment&quot;&gt;// å…è®¸å¤–éƒ¨æ€»çº¿è®¿é—®å†…éƒ¨RAM&lt;/span&gt;
	EA &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;   &lt;span class=&quot;token comment&quot;&gt;// æ‰“å¼€æ€»ä¸­æ–­&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;ä¸²å£å‘é€å‡½æ•°&lt;/strong&gt; ä¹Ÿå¾ˆç®€å•ï¼Œåªéœ€è¦å°†å‘é€å†…å®¹å­˜å…¥ SBUF ç¼“å†²åŒºï¼Œç„¶åç­‰å¾…å‘é€ï¼ˆé€šè¿‡ &lt;code class=&quot;language-text&quot;&gt;TI&lt;/code&gt; æ ‡å¿—å®ç°ï¼Œè‹¥å‘é€ç»“æŸï¼Œ&lt;code class=&quot;language-text&quot;&gt;TI&lt;/code&gt;å°†ç½®1ï¼Œæ•…å°†è·³å‡º while å¾ªç¯ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c++&quot;&gt;&lt;pre class=&quot;language-c++&quot;&gt;&lt;code class=&quot;language-c++&quot;&gt;//å‘é€æ•°æ®å‡½æ•°
void Uart_send(u8 *str)
{
	u8 *s;
	
	s = str;
	// éå†å¾…å‘é€çš„å­—ç¬¦ä¸²
	while(*s != &amp;#39;\0&amp;#39;)
	{
		SBUF = *s;	// å‘é€å†…å®¹å­˜å…¥ SBUF ç¼“å†²åŒº
		while(!TI);		// ç­‰å¾…å‘é€ï¼Œå‘é€ç»“æŸ TI = 1 è·³å‡ºå¾ªç¯
		TI = 0;		// æ¸…é™¤ TI æ ‡å¿—
		s++;		// æŒ‡å‘ä¸‹ä¸€ä½
	}
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;ä¸²å£æ¥æ”¶å‡½æ•°&lt;/strong&gt; æ¥æ”¶æ•°æ®å‡½æ•°åªéœ€åˆ¤æ–­ &lt;code class=&quot;language-text&quot;&gt;RI&lt;/code&gt; æ ‡å¿—æ˜¯å¦ä¸º1ï¼Œè‹¥ä¸º1ï¼Œå³å¯ä» &lt;code class=&quot;language-text&quot;&gt;SBUF&lt;/code&gt; ç¼“å†²åŒºä¸­è¯»å–æ¥æ”¶åˆ°çš„æ•°æ®ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c++&quot;&gt;&lt;pre class=&quot;language-c++&quot;&gt;&lt;code class=&quot;language-c++&quot;&gt;// ä¸²å£ä¸­æ–­æœåŠ¡å‡½æ•°
void Uart() interrupt 4
{
	// æ¥æ”¶åˆ°è°
	if(RI)
	{
		RI = 0;				// æ ‡å¿—æ¸…é›¶
		Uart_rec[Uart_count++] = SBUF;       	// å°†æ¥æ”¶æ•°æ®å­˜å…¥ Uart_rec æ•°ç»„ï¼Œå¹¶å°† Uart_count ç»Ÿè®¡æ¥æ”¶ä¸ªæ•°+1
	}
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;3ã€æ•´ä½“ä»£ç &lt;/h3&gt;
&lt;p&gt;ç”±äºè€ƒè™‘åˆå­¦è€…åŸºç¡€è¾ƒä¸ºè–„å¼±ï¼Œå› æ­¤å°†å®Œæ•´çš„ main.cpp ä»£ç è´´å‡ºæ¥ï¼ŒåŒ…å«ä¸­æ–­å‡½æ•°ã€çŸ©é˜µé”®ç›˜ã€æ•°ç ç®¡æ˜¾ç¤ºç­‰ï¼Œå¹¶ä¸”åœ¨å…³é”®å¤„è¿›è¡Œäº†æ³¨é‡Šï¼Œå¸Œæœ›å¯¹å¤§å®¶æœ‰æ‰€å¸®åŠ©ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// åŒ…å«å¤´æ–‡ä»¶&lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;STC15F2K60S2.h&quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;stdio.h&quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// æ•°æ®ç±»å‹å®šä¹‰&lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;define&lt;/span&gt; &lt;span class=&quot;token macro-name&quot;&gt;u8&lt;/span&gt; &lt;span class=&quot;token expression&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;unsigned&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;char&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;define&lt;/span&gt; &lt;span class=&quot;token macro-name&quot;&gt;u16&lt;/span&gt; &lt;span class=&quot;token expression&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;unsigned&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;

u8 Uart_rec&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;Uart_out&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;15&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;Uart_count &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  &lt;span class=&quot;token comment&quot;&gt;// ä¸²å£æ¥æ”¶æ•°ç»„ã€ä¸²å£å‘é€æ•°ç»„ã€ä¸²å£æ¥æ”¶ä¸ªæ•°&lt;/span&gt;
u8 dat_1 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;dat_3 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;35&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;dat_4 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;                    &lt;span class=&quot;token comment&quot;&gt;// æ•´å½¢å‘é€æ•°æ®&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;float&lt;/span&gt; dat_2 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;24.32&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;                                    &lt;span class=&quot;token comment&quot;&gt;// æµ®ç‚¹å‹å‘é€æ•°æ®&lt;/span&gt;
	
&lt;span class=&quot;token comment&quot;&gt;//ä¸²å£1ã€8ä½è‡ªåŠ¨é‡è£…&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;UartInit&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;		&lt;span class=&quot;token comment&quot;&gt;//4800bps@12.000MHz&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	PCON &lt;span class=&quot;token operator&quot;&gt;&amp;amp;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0x7F&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;		&lt;span class=&quot;token comment&quot;&gt;//æ³¢ç‰¹ç‡ä¸å€é€Ÿ&lt;/span&gt;
	SCON &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0x50&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;		&lt;span class=&quot;token comment&quot;&gt;//8ä½æ•°æ®,å¯å˜æ³¢ç‰¹ç‡&lt;/span&gt;
	AUXR &lt;span class=&quot;token operator&quot;&gt;|=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0x40&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;		&lt;span class=&quot;token comment&quot;&gt;//å®šæ—¶å™¨1æ—¶é’Ÿä¸ºFosc,å³1T&lt;/span&gt;
	AUXR &lt;span class=&quot;token operator&quot;&gt;&amp;amp;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0xFE&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;		&lt;span class=&quot;token comment&quot;&gt;//ä¸²å£1é€‰æ‹©å®šæ—¶å™¨1ä¸ºæ³¢ç‰¹ç‡å‘ç”Ÿå™¨&lt;/span&gt;
	TMOD &lt;span class=&quot;token operator&quot;&gt;&amp;amp;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0x0F&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;		&lt;span class=&quot;token comment&quot;&gt;//æ¸…é™¤å®šæ—¶å™¨1æ¨¡å¼ä½&lt;/span&gt;
	TMOD &lt;span class=&quot;token operator&quot;&gt;|=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0x20&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;		&lt;span class=&quot;token comment&quot;&gt;//è®¾å®šå®šæ—¶å™¨1ä¸º8ä½è‡ªåŠ¨é‡è£…æ–¹å¼&lt;/span&gt;
	TL1 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0xB2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;		&lt;span class=&quot;token comment&quot;&gt;//è®¾å®šå®šæ—¶åˆå€¼&lt;/span&gt;
	TH1 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0xB2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;		&lt;span class=&quot;token comment&quot;&gt;//è®¾å®šå®šæ—¶å™¨é‡è£…å€¼&lt;/span&gt;
	ET1 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;		&lt;span class=&quot;token comment&quot;&gt;//ç¦æ­¢å®šæ—¶å™¨1ä¸­æ–­&lt;/span&gt;
	TR1 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;		&lt;span class=&quot;token comment&quot;&gt;//å¯åŠ¨å®šæ—¶å™¨1&lt;/span&gt;
	
	ES &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	EA &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;//å‘é€æ•°æ®å‡½æ•°&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Uart_send&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;u8 &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;str&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	u8 &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	
	s &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; str&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token comment&quot;&gt;// éå†å¾…å‘é€çš„å­—ç¬¦ä¸²&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;s &lt;span class=&quot;token operator&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;token char&quot;&gt;&apos;\0&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		SBUF &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;	&lt;span class=&quot;token comment&quot;&gt;// å‘é€å†…å®¹å­˜å…¥ SBUF ç¼“å†²åŒº&lt;/span&gt;
		&lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;TI&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;		&lt;span class=&quot;token comment&quot;&gt;// ç­‰å¾…å‘é€ï¼Œå‘é€ç»“æŸ TI = 1 è·³å‡ºå¾ªç¯&lt;/span&gt;
		TI &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;		&lt;span class=&quot;token comment&quot;&gt;// æ¸…é™¤ TI æ ‡å¿—&lt;/span&gt;
		s&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;		&lt;span class=&quot;token comment&quot;&gt;// æŒ‡å‘ä¸‹ä¸€ä½&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// ä¸²å£å¤„ç†å‡½æ•°&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Uart_pro&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Uart_count &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Uart_rec&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;Uart_count&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token char&quot;&gt;&apos;\n&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
		&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
			&lt;span class=&quot;token comment&quot;&gt;// æ ¹æ®æ¥æ”¶æ•°æ®ç±»å‹ï¼Œä¸ºå‘é€æ•°ç»„ Uart_out èµ‹ä¸åŒå€¼ &lt;/span&gt;
			 &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Uart_rec&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt;&lt;span class=&quot;token char&quot;&gt;&apos;S&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Uart_rec&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt;&lt;span class=&quot;token char&quot;&gt;&apos;T&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;                                                     &lt;span class=&quot;token comment&quot;&gt;// ST&lt;/span&gt;
				 &lt;span class=&quot;token function&quot;&gt;sprintf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Uart_out&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;$%02u,%04.2f\r\n&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;unsigned&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;dat_1&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;float&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;dat_2&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;                      &lt;span class=&quot;token comment&quot;&gt;// æ³¨æ„ sprintf ä¼ é€çš„æ˜¯intå‹æ•°æ®ï¼Œè¦ç”¨unsigned int&lt;/span&gt;
		     &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Uart_rec&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt;&lt;span class=&quot;token char&quot;&gt;&apos;P&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Uart_rec&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt;&lt;span class=&quot;token char&quot;&gt;&apos;A&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Uart_rec&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt;&lt;span class=&quot;token char&quot;&gt;&apos;R&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Uart_rec&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt;&lt;span class=&quot;token char&quot;&gt;&apos;A&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;    &lt;span class=&quot;token comment&quot;&gt;// PARA&lt;/span&gt;
				 &lt;span class=&quot;token function&quot;&gt;sprintf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Uart_out&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;#%02u,%02u\r\n&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;unsigned&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;dat_3&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;unsigned&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;dat_4&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; 
		     &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt;
		       &lt;span class=&quot;token function&quot;&gt;sprintf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Uart_out&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;ERROR\r\n&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;        &lt;span class=&quot;token comment&quot;&gt;// åŒæ—¶æœ‰&quot;\r\n&quot;æ‰èƒ½æ¢è¡Œ&lt;/span&gt;
			 &lt;span class=&quot;token comment&quot;&gt;// å‘é€æ•°æ®&lt;/span&gt;
			 &lt;span class=&quot;token function&quot;&gt;Uart_send&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Uart_out&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; 
		     Uart_count &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;                          &lt;span class=&quot;token comment&quot;&gt;// æ¸…ç©ºæ¥æ”¶ä¸ªæ•°&lt;/span&gt;
		&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token comment&quot;&gt;// ä¸²å£åˆå§‹åŒ–&lt;/span&gt;
	&lt;span class=&quot;token function&quot;&gt;UartInit&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	
	&lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;token comment&quot;&gt;// ä¸²å£å¤„ç†å‡½æ•°&lt;/span&gt;
		&lt;span class=&quot;token function&quot;&gt;Uart_pro&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// ä¸²å£ä¸­æ–­æœåŠ¡å‡½æ•°&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Uart&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; interrupt &lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token comment&quot;&gt;// æ¥æ”¶åˆ°è°&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;RI&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		RI &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;				&lt;span class=&quot;token comment&quot;&gt;// æ ‡å¿—æ¸…é›¶&lt;/span&gt;
		Uart_rec&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;Uart_count&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; SBUF&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;       	&lt;span class=&quot;token comment&quot;&gt;// å°†æ¥æ”¶æ•°æ®å­˜å…¥ Uart_rec æ•°ç»„ï¼Œå¹¶å°† Uart_count ç»Ÿè®¡æ¥æ”¶ä¸ªæ•°+1&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;è‡³æ­¤ï¼Œæœ¬æ¬¡ ä¸²å£é€šä¿¡ å·²ä»‹ç»å®Œæ¯•ã€‚&lt;/p&gt;</content:encoded></item><item><title><![CDATA[è“æ¡¥æ¯å•ç‰‡æœºè®¾è®¡ä¸å¼€å‘_åŸºç¡€æ¨¡å—_PWM]]></title><description><![CDATA[Githubä»£ç ä»“åº“é“¾æ¥ ä¸€ã€å‰è¨€ æ‰¿æ¥ä¸Šæ–‡ï¼Œæœ¬æ–‡å°†ç»§ç»­ä»‹ç»å‰©ä½™è“æ¡¥æ¯æ¶‰åŠæ¨¡å—ï¼ˆPWMã€ä¸²å£é€šä¿¡ã€NE555ä»¥åŠè¶…å£°æ³¢æµ‹è·ï¼‰ï¼Œä¸ºå¤§å®¶åšå‡ºè¯¦ç»†ç¼–ç¨‹æŒ‡å¯¼ã€‚ äºŒã€PWM PWM æ˜¯è„‰å®½è°ƒåˆ¶ï¼ˆPulse Width Modulationâ€¦]]></description><link>https://gatsbystarterblogsource.gatsbyjs.io/006 Lanqiaobei/</link><guid isPermaLink="false">https://gatsbystarterblogsource.gatsbyjs.io/006 Lanqiaobei/</guid><pubDate>Mon, 24 May 2021 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;a href=&quot;https://github.com/Joker001014/LanQiaoCup&quot;&gt;Githubä»£ç ä»“åº“é“¾æ¥&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;ä¸€ã€å‰è¨€&lt;/h2&gt;
&lt;p&gt;æ‰¿æ¥ä¸Šæ–‡ï¼Œæœ¬æ–‡å°†ç»§ç»­ä»‹ç»å‰©ä½™è“æ¡¥æ¯æ¶‰åŠæ¨¡å—ï¼ˆPWMã€ä¸²å£é€šä¿¡ã€NE555ä»¥åŠè¶…å£°æ³¢æµ‹è·ï¼‰ï¼Œä¸ºå¤§å®¶åšå‡ºè¯¦ç»†ç¼–ç¨‹æŒ‡å¯¼ã€‚&lt;/p&gt;
&lt;h2&gt;äºŒã€PWM&lt;/h2&gt;
&lt;p&gt;PWM æ˜¯è„‰å®½è°ƒåˆ¶ï¼ˆPulse Width Modulationï¼‰çš„ç¼©å†™ã€‚å®ƒæ˜¯ä¸€ç§å¸¸ç”¨çš„è°ƒåˆ¶æŠ€æœ¯ï¼Œç”¨äºæ§åˆ¶ç”µå­è®¾å¤‡ä¸­çš„ç”µæºæˆ–ä¿¡å·ã€‚é€šè¿‡è°ƒæ•´ PWM ä¿¡å·çš„å ç©ºæ¯”ï¼Œå¯ä»¥å®ç°å¯¹è¾“å‡ºä¿¡å·çš„ç²¾ç¡®æ§åˆ¶ã€‚&lt;/p&gt;
&lt;h3&gt;1ã€PWMåŸç†å‰–æ&lt;/h3&gt;
&lt;p&gt;æœ¬æ–‡å°†ç¼–å†™ç¨‹åºï¼Œå®ç°ï¼šé¢‘ç‡ä¸º &lt;code class=&quot;language-text&quot;&gt;1000Hz&lt;/code&gt; ï¼Œå ç©ºæ¯”å¯é€šè¿‡æŒ‰é”®è°ƒèŠ‚ã€‚
å°†ä½¿ç”¨ä¸¤ä¸ªå®šæ—¶å™¨ï¼Œå®šæ—¶å™¨ 0 è®¾ç½®ä¸º &lt;code class=&quot;language-text&quot;&gt;100us&lt;/code&gt;ï¼Œç”¨æ¥æ§åˆ¶å ç©ºæ¯”ï¼›å®šæ—¶å™¨ 1 è®¾ç½®ä¸º &lt;code class=&quot;language-text&quot;&gt;2ms&lt;/code&gt;ï¼Œç”¨æ¥æ£€æµ‹æŒ‰é”®åŠæ•°ç ç®¡æ˜¾ç¤ºç­‰ã€‚&lt;/p&gt;
&lt;p&gt;ç¼–ç¨‹æ€è·¯ï¼šå®šä¹‰å•ç‰‡æœºä¸Š&lt;code class=&quot;language-text&quot;&gt;P34&lt;/code&gt;å¼•è„šä¸º&lt;code class=&quot;language-text&quot;&gt;pwm&lt;/code&gt;ï¼Œå¦‚ï¼š &lt;code class=&quot;language-text&quot;&gt;sbit pwm = P3^4&lt;/code&gt;ï¼Œåˆå§‹ &lt;code class=&quot;language-text&quot;&gt;pwm = 1&lt;/code&gt;ã€‚å‡è®¾è¦è®¾ç½®20%å ç©ºæ¯”ï¼Œåˆ™å¯åœ¨å®šæ—¶å™¨ 0 ä¸­æ–­æœåŠ¡å‡½æ•°ä¸­è®¡æ•°ï¼Œè‹¥è®¡æ•°å€¼è¶…è¿‡ 2 åˆ™è®¾ä»¤ &lt;code class=&quot;language-text&quot;&gt;pwm = 0&lt;/code&gt;ï¼›è‹¥è®¡æ•°è¶…è¿‡10åˆ™&lt;code class=&quot;language-text&quot;&gt;pwm&lt;/code&gt;ç»§ç»­ç½®1ã€‚å³å¯å®ç°å ç©ºæ¯”ä¸º20%ï¼Œé¢‘ç‡ä¸º 1/(10*100us) = 1000Hzã€‚&lt;/p&gt;
&lt;h3&gt;2ã€æ ¸å¿ƒä»£ç &lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// å®šæ—¶å™¨0ä¸­æ–­æœåŠ¡å‡½æ•°&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;timer0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; interrupt &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; tt &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token comment&quot;&gt;// pwm_pluså¯é€šè¿‡æŒ‰é”®è°ƒèŠ‚ï¼Œpwm_plus = 2ï¼Œåˆ™å ç©ºæ¯”20%ï¼›pwm_plus = 5ï¼Œåˆ™å ç©ºæ¯”50%&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;tt &lt;span class=&quot;token operator&quot;&gt;&gt;=&lt;/span&gt; pwm_plus&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		pwm &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		&lt;span class=&quot;token function&quot;&gt;door&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x80&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xff&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;   
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt;   &lt;span class=&quot;token comment&quot;&gt;// åˆå§‹çŠ¶æ€ä¸º 1&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		pwm &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		&lt;span class=&quot;token function&quot;&gt;door&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x80&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
	
	tt&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token comment&quot;&gt;// å¥‡æ•°è¶…è¿‡10å¤ä½ï¼Œåˆ™å‘¨æœŸä¸º10*100usï¼Œé¢‘ç‡ä¸º1000Hzã€‚ï¼ˆå¯é€šè¿‡ä¿®æ”¹è¯¥å€¼æ¥æ”¹å˜PWMé¢‘ç‡ï¼‰&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;tt &lt;span class=&quot;token operator&quot;&gt;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
		tt &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;3ã€æ•´ä½“ä»£ç &lt;/h3&gt;
&lt;p&gt;ç”±äºè€ƒè™‘åˆå­¦è€…åŸºç¡€è¾ƒä¸ºè–„å¼±ï¼Œå› æ­¤å°†å®Œæ•´çš„ä»£ç è´´å‡ºæ¥ï¼ŒåŒ…å«ä¸­æ–­å‡½æ•°ã€çŸ©é˜µé”®ç›˜ã€æ•°ç ç®¡æ˜¾ç¤ºç­‰ï¼Œå¹¶ä¸”åœ¨å…³é”®å¤„è¿›è¡Œäº†æ³¨é‡Šï¼Œå¸Œæœ›å¯¹å¤§å®¶æœ‰æ‰€å¸®åŠ©ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// åŒ…å«å¤´æ–‡ä»¶&lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;STC15F2K60S2.h&quot;&lt;/span&gt;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// æ•°æ®ç±»å‹å®šä¹‰&lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;define&lt;/span&gt; &lt;span class=&quot;token macro-name&quot;&gt;u8&lt;/span&gt; &lt;span class=&quot;token expression&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;unsigned&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;char&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;define&lt;/span&gt; &lt;span class=&quot;token macro-name&quot;&gt;u16&lt;/span&gt; &lt;span class=&quot;token expression&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;unsigned&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// 8ä½æ•°ç ç®¡çŠ¶æ€&lt;/span&gt;
u8 dspbuf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
u8 code tab&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xc0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xf9&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xa4&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xb0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x99&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x92&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x82&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xf8&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x80&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x90&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xff&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xbf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xc6&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
u8 pwm_plus &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;dspcom &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
bit key_flag &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;led_flag &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
sbit pwm &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; P3&lt;span class=&quot;token operator&quot;&gt;^&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// å®šæ—¶å™¨ 0 åˆå§‹åŒ–&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Timer0Init&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;		&lt;span class=&quot;token comment&quot;&gt;//100å¾®ç§’@12.000MHz&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	AUXR &lt;span class=&quot;token operator&quot;&gt;|=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0x80&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;		&lt;span class=&quot;token comment&quot;&gt;//å®šæ—¶å™¨æ—¶é’Ÿ1Tæ¨¡å¼&lt;/span&gt;
	TMOD &lt;span class=&quot;token operator&quot;&gt;&amp;amp;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0xF0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;		&lt;span class=&quot;token comment&quot;&gt;//è®¾ç½®å®šæ—¶å™¨æ¨¡å¼&lt;/span&gt;
	TL0 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0x50&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;		&lt;span class=&quot;token comment&quot;&gt;//è®¾ç½®å®šæ—¶åˆå€¼&lt;/span&gt;
	TH0 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0xFB&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;		&lt;span class=&quot;token comment&quot;&gt;//è®¾ç½®å®šæ—¶åˆå€¼&lt;/span&gt;
	TF0 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;		&lt;span class=&quot;token comment&quot;&gt;//æ¸…é™¤TF0æ ‡å¿—&lt;/span&gt;
	TR0 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;		&lt;span class=&quot;token comment&quot;&gt;//å®šæ—¶å™¨0å¼€å§‹è®¡æ—¶&lt;/span&gt;
	
	ET0 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	EA &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// å®šæ—¶å™¨ 1 åˆå§‹åŒ–&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Timer1Init&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;		&lt;span class=&quot;token comment&quot;&gt;//2æ¯«ç§’@12.000MHz&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	AUXR &lt;span class=&quot;token operator&quot;&gt;|=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0x40&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;		&lt;span class=&quot;token comment&quot;&gt;//å®šæ—¶å™¨æ—¶é’Ÿ1Tæ¨¡å¼&lt;/span&gt;
	TMOD &lt;span class=&quot;token operator&quot;&gt;&amp;amp;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0x0F&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;		&lt;span class=&quot;token comment&quot;&gt;//è®¾ç½®å®šæ—¶å™¨æ¨¡å¼&lt;/span&gt;
	TL1 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0x40&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;		&lt;span class=&quot;token comment&quot;&gt;//è®¾ç½®å®šæ—¶åˆå€¼&lt;/span&gt;
	TH1 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0xA2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;		&lt;span class=&quot;token comment&quot;&gt;//è®¾ç½®å®šæ—¶åˆå€¼&lt;/span&gt;
	TF1 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;		&lt;span class=&quot;token comment&quot;&gt;//æ¸…é™¤TF1æ ‡å¿—&lt;/span&gt;
	TR1 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;		&lt;span class=&quot;token comment&quot;&gt;//å®šæ—¶å™¨1å¼€å§‹è®¡æ—¶&lt;/span&gt;
	
	ET1 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	EA &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// 573é”å­˜å™¨å°è£…æˆå‡½æ•°&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;door&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;u8 choose&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;u8 input&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	P2 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;P2 &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0x1f&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; choose&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	P0 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; input&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	P2 &lt;span class=&quot;token operator&quot;&gt;&amp;amp;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0x1f&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;	
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// å…³ç¯ã€èœ‚é¸£å™¨&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;all_init&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
 	&lt;span class=&quot;token function&quot;&gt;door&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x80&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xff&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token function&quot;&gt;door&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xa0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xaf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// æ•°ç ç®¡æ˜¾ç¤ºå‡½æ•°&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;display&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token function&quot;&gt;door&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xe0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xff&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;   &lt;span class=&quot;token comment&quot;&gt;// æ¶ˆéš&lt;/span&gt;
	
	&lt;span class=&quot;token function&quot;&gt;door&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xc0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x01&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt;dspcom&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token function&quot;&gt;door&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xe0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;tab&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;dspbuf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;dspcom&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	
	&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;dspcom &lt;span class=&quot;token operator&quot;&gt;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
		dspcom &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// çŸ©é˜µé”®ç›˜ï¼Œæ¥KBD&lt;/span&gt;
u8 keypress &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;keyvalue &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0xff&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;keyread &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
u8 &lt;span class=&quot;token function&quot;&gt;Read_key&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;		                              	&lt;span class=&quot;token comment&quot;&gt;//çŸ©é˜µé”®ç›˜ï¼Œæ¥KBD&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    u8 key_m&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;cal&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    
    P3 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0xf0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;P42&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;P44&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  	P36&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;P42&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;P37&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;P44&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;			   &lt;span class=&quot;token comment&quot;&gt;//å˜é‡æ›¿æ¢&lt;/span&gt;
    key_m &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;P3 &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0xf0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;key_m &lt;span class=&quot;token operator&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0xf0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; 
        keypress&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
   &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt;
        keypress &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; 
    
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;keypress &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		  keypress &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	  	keyread &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		  &lt;span class=&quot;token keyword&quot;&gt;switch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;key_m&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0x70&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;cal &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;                
            &lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0xb0&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;cal &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;    
            &lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0xd0&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;cal &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;    
            &lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0xe0&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;cal &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        
        P3 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0x0f&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;P42&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;P44&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
				P36&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;P42&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;P37&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;P44&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;			   &lt;span class=&quot;token comment&quot;&gt;//å˜é‡æ›¿æ¢&lt;/span&gt;
        key_m &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;P3 &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0x0f&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        
			&lt;span class=&quot;token keyword&quot;&gt;switch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;key_m&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
					&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
							&lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0x0e&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;keyvalue &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;cal&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;                
							&lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0x0d&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;keyvalue &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;cal&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;    
							&lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0x0b&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;keyvalue &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;cal&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;    
							&lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0x07&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;keyvalue &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;cal&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
					&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    P3 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0x0f&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;P42&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;P44&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		P36&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;P42&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;P37&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;P44&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;			                &lt;span class=&quot;token comment&quot;&gt;//å˜é‡æ›¿æ¢&lt;/span&gt;
    key_m &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;P3&lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x0f&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;keyread &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;key_m &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0x0f&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        keyread &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; keyvalue&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;	
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0xff&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;//````````````````````````````````ä¸»å‡½æ•°````````````````````````````````````&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;      
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	u8 key_re&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;mode &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;led_put &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token comment&quot;&gt;// åˆå§‹åŒ–&lt;/span&gt;
	&lt;span class=&quot;token function&quot;&gt;all_init&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token function&quot;&gt;Timer0Init&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token function&quot;&gt;Timer1Init&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	
	&lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;token comment&quot;&gt;// å®æ—¶æ˜¾ç¤ºå½“å‰è®¾ç½®çš„å ç©ºæ¯”&lt;/span&gt;
		dspbuf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; pwm_plus&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		dspbuf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; pwm_plus&lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		
		&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;key_flag&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;			
		&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
			key_flag &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
			key_re &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Read_key&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
			
			&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;key_re &lt;span class=&quot;token operator&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0xff&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
			&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
				&lt;span class=&quot;token keyword&quot;&gt;switch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;key_re&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
				&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
					&lt;span class=&quot;token comment&quot;&gt;// æŒ‰é”®è°ƒèŠ‚å ç©ºæ¯”&lt;/span&gt;
					&lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;pwm_plus&lt;span class=&quot;token operator&quot;&gt;+=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
					        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;pwm_plus &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
										pwm_plus &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
									&lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
				&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
			&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
		&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// å®šæ—¶å™¨ 0 ä¸­æ–­æœåŠ¡å‡½æ•°&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;timer0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; interrupt &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; tt &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token comment&quot;&gt;// pwm_pluså¯é€šè¿‡æŒ‰é”®è°ƒèŠ‚ï¼Œpwm_plus = 2ï¼Œåˆ™å ç©ºæ¯”20%ï¼›pwm_plus = 5ï¼Œåˆ™å ç©ºæ¯”50%&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;tt &lt;span class=&quot;token operator&quot;&gt;&gt;=&lt;/span&gt; pwm_plus&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		pwm &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		&lt;span class=&quot;token function&quot;&gt;door&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x80&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xff&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;   
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt;   &lt;span class=&quot;token comment&quot;&gt;// åˆå§‹çŠ¶æ€ä¸º 1&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		pwm &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		&lt;span class=&quot;token function&quot;&gt;door&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x80&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
	
	tt&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token comment&quot;&gt;// å¥‡æ•°è¶…è¿‡10å¤ä½ï¼Œåˆ™å‘¨æœŸä¸º10*100usï¼Œé¢‘ç‡ä¸º1000Hzã€‚ï¼ˆå¯é€šè¿‡ä¿®æ”¹è¯¥å€¼æ¥æ”¹å˜PWMé¢‘ç‡ï¼‰&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;tt &lt;span class=&quot;token operator&quot;&gt;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
		tt &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// å®šæ—¶å™¨ 1 ä¸­æ–­æœåŠ¡å‡½æ•°&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;timer1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; interrupt &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; u8  t_20ms &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;   &lt;span class=&quot;token comment&quot;&gt;//MAX = 500 ms&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; t_1s&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	
	&lt;span class=&quot;token function&quot;&gt;display&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

	t_20ms&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	t_1s&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

	&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;t_20ms &lt;span class=&quot;token operator&quot;&gt;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;	&lt;span class=&quot;token comment&quot;&gt;//æ¯20msæ‰«æä¸€æ¬¡æŒ‰é”®&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		t_20ms &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		key_flag &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
	
	&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;t_1s &lt;span class=&quot;token operator&quot;&gt;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;500&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		t_1s &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		led_flag &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;è‡³æ­¤ï¼Œæœ¬æ¬¡ PWM å·²ä»‹ç»å®Œæ¯•ã€‚&lt;/p&gt;</content:encoded></item><item><title><![CDATA[è“æ¡¥æ¯å•ç‰‡æœºè®¾è®¡ä¸å¼€å‘_åŸºç¡€æ¨¡å—_AT24C02]]></title><description><![CDATA[Githubä»£ç ä»“åº“é“¾æ¥ ä¸€ã€å‰è¨€ æ‰¿æ¥ä¸Šæ–‡ï¼Œæœ¬æ–‡å°†ç»§ç»­ä»‹ç»å‰©ä½™è“æ¡¥æ¯æ¶‰åŠæ¨¡å—ï¼ˆAT24C02ã€PWMã€ä¸²å£é€šä¿¡ã€NE555ä»¥åŠè¶…å£°æ³¢æµ‹è·ï¼‰ï¼Œä¸ºå¤§å®¶åšå‡ºè¯¦ç»†ç¼–ç¨‹æŒ‡å¯¼ã€‚ äºŒã€AT24C02 å­˜å‚¨æ¨¡å— ç¬”è€…å°†åŸºäºè“æ¡¥æ¯å®˜æ–¹ç»™çš„èµ›ç‚¹èµ„æºåŒ…ï¼ˆè“æ¡¥æ¯å•ç‰‡æœºè®¾è®¡ä¸å¼€å‘â€¦]]></description><link>https://gatsbystarterblogsource.gatsbyjs.io/005_Lanqiaobei/</link><guid isPermaLink="false">https://gatsbystarterblogsource.gatsbyjs.io/005_Lanqiaobei/</guid><pubDate>Fri, 21 May 2021 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;a href=&quot;https://github.com/Joker001014/LanQiaoCup&quot;&gt;Githubä»£ç ä»“åº“é“¾æ¥&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;ä¸€ã€å‰è¨€&lt;/h2&gt;
&lt;p&gt;æ‰¿æ¥ä¸Šæ–‡ï¼Œæœ¬æ–‡å°†ç»§ç»­ä»‹ç»å‰©ä½™è“æ¡¥æ¯æ¶‰åŠæ¨¡å—ï¼ˆAT24C02ã€PWMã€ä¸²å£é€šä¿¡ã€NE555ä»¥åŠè¶…å£°æ³¢æµ‹è·ï¼‰ï¼Œä¸ºå¤§å®¶åšå‡ºè¯¦ç»†ç¼–ç¨‹æŒ‡å¯¼ã€‚&lt;/p&gt;
&lt;h2&gt;äºŒã€AT24C02 å­˜å‚¨æ¨¡å—&lt;/h2&gt;
&lt;p&gt;ç¬”è€…å°†åŸºäºè“æ¡¥æ¯å®˜æ–¹ç»™çš„èµ›ç‚¹èµ„æºåŒ…ï¼ˆ&lt;a href=&quot;https://github.com/Joker001014/LanQiaoCup/tree/main/%E8%B5%9B%E7%82%B9%E8%B5%84%E6%BA%90%E6%95%B0%E6%8D%AE%E5%8C%85_SCM&quot;&gt;è“æ¡¥æ¯å•ç‰‡æœºè®¾è®¡ä¸å¼€å‘_èµ›ç‚¹èµ„æºæ•°æ®åŒ…&lt;/a&gt;ï¼‰è¿›è¡Œç¼–ç¨‹ï¼Œä¸ºå¤§å®¶è®²è§£ç¼–ç¨‹è°ƒç”¨å„è¯­å¥çš„å«ä¹‰ï¼Œå¸®åŠ©å¤§å®¶ç¼–å†™æ¸©åº¦ä¼ æ„Ÿå™¨çš„ç¨‹åºï¼Œä¹Ÿä¾¿äºå¤§å®¶è®°å¿†ã€‚&lt;/p&gt;
&lt;h3&gt;1ã€å¯¼å…¥åº•å±‚é©±åŠ¨ä»£ç &lt;/h3&gt;
&lt;p&gt;è¯»è€…å¯ä¸‹è½½èµ›ç‚¹èµ„æºåŒ…ï¼Œè§£å‹åå¯å¾—åˆ°ä»¥ä¸‹å›¾ç‰‡æ‰€ç¤ºæ–‡ä»¶ã€‚
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/93f78654fba2229b6f46f4f17b49c028/828fb/1.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 48.734177215189874%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAKABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAgAF/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEAMQAAAB2kUKMf/EABgQAAIDAAAAAAAAAAAAAAAAAAABAhAx/9oACAEBAAEFAk7joz//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAVEAEBAAAAAAAAAAAAAAAAAAAQAf/aAAgBAQAGPwJr/8QAHBAAAgICAwAAAAAAAAAAAAAAAAERMRBRIXGR/9oACAEBAAE/IeRpwKVqzzE32XP/2gAMAwEAAgADAAAAEDTP/8QAFREBAQAAAAAAAAAAAAAAAAAAABH/2gAIAQMBAT8QV//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EABwQAQACAgMBAAAAAAAAAAAAAAEAEUGxITGRwf/aAAgBAQABPxBEWt0AdxWUEi0z7nO/DPhuaZ//2Q==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/93f78654fba2229b6f46f4f17b49c028/828fb/1.jpg&quot;
        srcset=&quot;/blog/static/93f78654fba2229b6f46f4f17b49c028/ff44c/1.jpg 158w,
/blog/static/93f78654fba2229b6f46f4f17b49c028/a6688/1.jpg 315w,
/blog/static/93f78654fba2229b6f46f4f17b49c028/828fb/1.jpg 630w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
æˆ‘ä»¬åŒå‡»æ‰“å¼€æ–‡ä»¶â€œ3-åº•å±‚é©±åŠ¨ä»£ç å‚è€ƒâ€æ–‡ä»¶ï¼Œå°†å¾—åˆ°ä»¥ä¸‹ &lt;code class=&quot;language-text&quot;&gt;.c&lt;/code&gt; å’Œ &lt;code class=&quot;language-text&quot;&gt;.h&lt;/code&gt; æ–‡ä»¶ã€‚æ¥ä¸‹æ¥å°† &lt;code class=&quot;language-text&quot;&gt;iic.c&lt;/code&gt; å’Œ &lt;code class=&quot;language-text&quot;&gt;iic.h&lt;/code&gt; æ–‡ä»¶æ‹·è´åˆ°å·¥ç¨‹æ‰€åœ¨æ–‡ä»¶å¤¹ä¸­ï¼Œå¹¶åœ¨ç¼–è¯‘å™¨ä¸­å°†è¿™ä¸¤ä¸ªæ–‡ä»¶å¯¼å…¥ï¼Œä¾¿å¯ä»¥å¼€å§‹ç¼–å†™ç¨‹åºäº†ã€‚
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 611px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/6c8e8963c3f00cd0b64c28371a7ddc8e/36bb5/2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 14.556962025316455%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAoElEQVR42nWOuw6CQBBF+f+PofIXLGzQ2BAa2EXlDassDxNhjyOVFk5yi3uSezJenCqatuXfDeNI03V0xjBO08bsMGCFv5aFZV1xzm08OAZ4+nzC6hRkxEf8HWEPpSjCkCqK6JUGIyxRmDim15o5y1jrmrVtOOx2eG2ewXPG2R432J8wyidFTiXS7pIy1dXGetmUSUwp0vvtykO6kex9nzfab+MUvKCMeQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;![[Pasted image 20231020210509.png]]&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/6c8e8963c3f00cd0b64c28371a7ddc8e/36bb5/2.png&quot;
        srcset=&quot;/blog/static/6c8e8963c3f00cd0b64c28371a7ddc8e/c26ae/2.png 158w,
/blog/static/6c8e8963c3f00cd0b64c28371a7ddc8e/6bdcf/2.png 315w,
/blog/static/6c8e8963c3f00cd0b64c28371a7ddc8e/36bb5/2.png 611w&quot;
        sizes=&quot;(max-width: 611px) 100vw, 611px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h3&gt;2ã€AT24C02 å­˜å‚¨å‡½æ•°å°è£…&lt;/h3&gt;
&lt;p&gt;é¦–å…ˆï¼Œåœ¨ç¼–å†™é©±åŠ¨å‡½æ•°ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦åœ¨åº•å±‚é©±åŠ¨ä»£ç  &lt;code class=&quot;language-text&quot;&gt;iic.c &lt;/code&gt;æ–‡ä»¶ä¸­ç¼–å†™ &lt;strong&gt;å­˜å‚¨è¯»å†™å‡½æ•°&lt;/strong&gt;ã€‚æˆ‘ä»¬å¯ä»¥æ‰“å¼€èµ›ç‚¹èµ„æºæ•°æ®åŒ…ä¸­çš„æ–‡ä»¶â€œ5-ç«èµ›æ¿èŠ¯ç‰‡èµ„æ–™â€ã€‚&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/e5f3caa93863fbe80e44f65abed177c5/f7974/3.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 47.46835443037975%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAJABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAIBBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAezc2aD/xAAYEAACAwAAAAAAAAAAAAAAAAACEBEhMv/aAAgBAQABBQKbQ6X/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAUEAEAAAAAAAAAAAAAAAAAAAAg/9oACAEBAAY/Al//xAAbEAACAwADAAAAAAAAAAAAAAAAARExUSFxof/aAAgBAQABPyFPJRwS8JeelhvY7P/aAAwDAQACAAMAAAAQpB//xAAVEQEBAAAAAAAAAAAAAAAAAAAAEf/aAAgBAwEBPxCq/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAGxABAQEAAgMAAAAAAAAAAAAAAREAEFFhobH/2gAIAQEAAT8QKwsECYGwhe94memZ+HB//9k=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/e5f3caa93863fbe80e44f65abed177c5/828fb/3.jpg&quot;
        srcset=&quot;/blog/static/e5f3caa93863fbe80e44f65abed177c5/ff44c/3.jpg 158w,
/blog/static/e5f3caa93863fbe80e44f65abed177c5/a6688/3.jpg 315w,
/blog/static/e5f3caa93863fbe80e44f65abed177c5/828fb/3.jpg 630w,
/blog/static/e5f3caa93863fbe80e44f65abed177c5/0ede0/3.jpg 945w,
/blog/static/e5f3caa93863fbe80e44f65abed177c5/f7974/3.jpg 1097w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;æ‰“å¼€â€œAT24C02â€èŠ¯ç‰‡æ‰‹å†Œã€‚ç¬”è€…å°†å€ŸåŠ©èŠ¯ç‰‡æ‰‹å†Œä¸­çš„èµ„æ–™ç¼–å†™æ¸©åº¦è¯»å–å‡½æ•°å¹¶ä¸ºå¤§å®¶è®²è§£ã€‚
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 628px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/b74367dd423f656ca81baafe8ec93df4/3d84d/4.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 52.53164556962025%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABwElEQVR42nVT2W7bMBDU//9Wj5cWTVKgTtrqsuNYBw8dPiKRkqazdJ2kgbvAQOAuORzOrqJGK2hj0O/3eB/LApyOR+xZE0zTjHmecTgcsO97HFmTuOSmaUJUbLd4JJTSVwgX9DxomwbGGjjnwuG2bWGtRdd1YZ8QNdzjvUeUPzwgixO0xmJh4i1mElilUO0KqLKEGwZMhKoq1MyZWgkbPHN1UYR6tPnwEetPnzHnG/gs/wcuzWDvvkPf3MLwK+sxSaFv76C+3YTclK8xUJD68hVDlpFwtUJyv8J0oh+84S2W52d0dQVb7NBQoadnM2GpRj9t0ZYV6AMc/VXbR/jTiYRpgrKuX7vwzkPxydCvhr6JV+Lh2VPmujbs896FxgYPN0nMQvdCcI3QcrP9e2CepQEWRuvQnEBIlUYbTEL4+/4HtG3+S9i2DSdABTjng0JDclmLUgnnRihe4ITwaZ2jZvFaCKHMmyjpuj6QCTo+VcZERuo8Np7rsyVR/usn4jQNz7lG2NArzdtFkeyRQ5o/Q8WGiCqJgQ0s2bRxHM+DvWPX4jh+GdTL04NCdlDUCORJS1DYoeIsXkhaKl5vNuFv+QN/sExtrMI3owAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;![[Pasted image 20231020214703.png]]&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/b74367dd423f656ca81baafe8ec93df4/3d84d/4.png&quot;
        srcset=&quot;/blog/static/b74367dd423f656ca81baafe8ec93df4/c26ae/4.png 158w,
/blog/static/b74367dd423f656ca81baafe8ec93df4/6bdcf/4.png 315w,
/blog/static/b74367dd423f656ca81baafe8ec93df4/3d84d/4.png 628w&quot;
        sizes=&quot;(max-width: 628px) 100vw, 628px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;å‘EEPROMå†™æ•°æ®ï¼šç¼–å†™å­˜å‚¨å†™å‡½æ•°ï¼Œä¼ å…¥å­˜å‚¨åœ°å€å’ŒæŒ‡å‘å­˜å‚¨å€¼çš„æŒ‡é’ˆä»¥åŠæ•°æ®é•¿åº¦ï¼Œå…·ä½“æ¯æ¡ä»£ç çš„å«ä¹‰éƒ½å·²ç»æ³¨é‡Šï¼Œåœ¨è¿™é‡Œå°†ä¸å†èµ˜è¿°ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// å‘EEPROMå†™æ•°æ®&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;EEPROM_Write&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;unsigned&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;char&lt;/span&gt; addr&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;unsigned&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;p&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;unsigned&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;char&lt;/span&gt; lens&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;     
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;unsigned&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;char&lt;/span&gt; i&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	
	&lt;span class=&quot;token function&quot;&gt;IIC_Start&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;              &lt;span class=&quot;token comment&quot;&gt;//å¼€å¯æ€»çº¿&lt;/span&gt;
	&lt;span class=&quot;token function&quot;&gt;IIC_SendByte&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xa0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;       &lt;span class=&quot;token comment&quot;&gt;//0xa0: å’Œåœ°å€ä¸º0xa0çš„èŠ¯ç‰‡é€šä¿¡ï¼Œå³AT24C02&lt;/span&gt;
	&lt;span class=&quot;token function&quot;&gt;IIC_WaitAck&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;            &lt;span class=&quot;token comment&quot;&gt;//ç­‰å¾…åº”ç­”&lt;/span&gt;
	&lt;span class=&quot;token function&quot;&gt;IIC_SendByte&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;addr&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;       &lt;span class=&quot;token comment&quot;&gt;//è¾“å…¥æ•°æ®è¦ä¿å­˜çš„åœ°å€&lt;/span&gt;
	&lt;span class=&quot;token function&quot;&gt;IIC_WaitAck&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;            &lt;span class=&quot;token comment&quot;&gt;//ç­‰å¾…åº”ç­”&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;i &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;i&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;lens&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;i&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;token function&quot;&gt;IIC_SendByte&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;p&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;       &lt;span class=&quot;token comment&quot;&gt;//è¾“å…¥ä¿å­˜çš„æ•°æ®&lt;/span&gt;
	  &lt;span class=&quot;token function&quot;&gt;IIC_WaitAck&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;            &lt;span class=&quot;token comment&quot;&gt;//ç­‰å¾…åº”ç­”&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
	&lt;span class=&quot;token function&quot;&gt;IIC_Stop&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;               &lt;span class=&quot;token comment&quot;&gt;//å…³é—­æ€»çº¿&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;å…¶ä¸­ï¼Œåœ¨ç¼–å†™æ¨¡æ•°è½¬æ¢å‡½æ•°æŒ‡ä»¤å¯é€šè¿‡æŸ¥é˜…èŠ¯ç‰‡èµ„æ–™æ‰‹å†Œï¼Œä¸éœ€è¦æ­»è®°ç¡¬èƒŒã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;AT24C02èŠ¯ç‰‡åœ°å€å‰å››ä½é»˜è®¤ä¸º &lt;code class=&quot;language-text&quot;&gt;1010&lt;/code&gt; å³ &lt;code class=&quot;language-text&quot;&gt;a&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;åå››ä½ &lt;code class=&quot;language-text&quot;&gt;A2\A1\A0&lt;/code&gt; è§†å…·ä½“çš„æ¥çº¿è€Œå®šï¼Œæœ€ä½ä½ä¸º &lt;code class=&quot;language-text&quot;&gt;0&lt;/code&gt; åˆ™è¡¨ç¤ºå‘èŠ¯ç‰‡å†™æ•°æ®ï¼Œä¸º &lt;code class=&quot;language-text&quot;&gt;1&lt;/code&gt; åˆ™è¡¨ç¤ºä»èŠ¯ç‰‡è¯»æ•°æ®ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 581px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/ce053259cf7389b0d3c37cb15ace84ea/92d15/5.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 58.86075949367089%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAAB1ElEQVR42m1Ti3KiQBD0///ouEul7kwkL8NTQSoq7/NttARE1L6ZiRhzcau6eneB3p7ppYHT2O/3qKrqDF5f4tre4XDA8XiUZ/Vo8AaPJEkQxzHSNMVgMIDjOOjYNmxCt9sVNk0TlmUJeK5pGgzDQP/tTQ4QwVp5PBohJdHR3xEG/T60V01EXNeF1/PQ6XRIxIBFQnyQoeu4azbxS/mJwPfF7RfB6WSC2i2/YJOLPM8FWZYJF0VxRlmWWC4W6NPhk/H4XPaXktMklXkUReKCXZpUkm3Z0DUdz49PaL+08fL0jNbdvbi7vblBEATfHU7IYXXqw3q9xnw+x2w2E16QE+Z6j9fM0+kUy+US40uHlz1kIR78IbuskcSJsE+tiMIP5j57nieBcJDnUOqSOZA4isErFnAdV0p1uw56vR61gEIxKGXTkkDqstWWijAMr4RC9mvxclsi21AQWS4soHmRF584hcNCXP63UNIkhkNudrudnGjoBtrtV2F2ygG17ltQVRWP6gOav/9AURQoPxQMh1euDfdwMZvjnZrM5fPV8YdD4ZBSDGjOa58ufXjqIfevfme73Ypo4/LX400G3zF2+j8qBpXGcw6QE16tVmTiXYLcbDb4B4WhgS6zmk3cAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;![[Pasted image 20231020215603.png]]&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/ce053259cf7389b0d3c37cb15ace84ea/92d15/5.png&quot;
        srcset=&quot;/blog/static/ce053259cf7389b0d3c37cb15ace84ea/c26ae/5.png 158w,
/blog/static/ce053259cf7389b0d3c37cb15ace84ea/6bdcf/5.png 315w,
/blog/static/ce053259cf7389b0d3c37cb15ace84ea/92d15/5.png 581w&quot;
        sizes=&quot;(max-width: 581px) 100vw, 581px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;ä»EEPROMè¯»æ•°æ®ï¼šç¼–å†™ç¨‹åºä»å­˜å‚¨æ¨¡å—ä¸­è¯»å‡½æ•°ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// ä»EEPROMè¯»æ•°æ®&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;EEPROM_Read&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;unsigned&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;char&lt;/span&gt; addr&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;unsigned&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;p&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;unsigned&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;char&lt;/span&gt; lens&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;     
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;unsigned&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;char&lt;/span&gt; i&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	
	&lt;span class=&quot;token function&quot;&gt;IIC_Start&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;              &lt;span class=&quot;token comment&quot;&gt;//å¼€å¯æ€»çº¿&lt;/span&gt;
	&lt;span class=&quot;token function&quot;&gt;IIC_SendByte&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xa0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;       &lt;span class=&quot;token comment&quot;&gt;//0xa0: å’ŒAT24C02èŠ¯ç‰‡é€šä¿¡&lt;/span&gt;
	&lt;span class=&quot;token function&quot;&gt;IIC_WaitAck&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;            &lt;span class=&quot;token comment&quot;&gt;//ç­‰å¾…åº”ç­”&lt;/span&gt;
	&lt;span class=&quot;token function&quot;&gt;IIC_SendByte&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;addr&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;       &lt;span class=&quot;token comment&quot;&gt;//å†™é€šä¿¡åœ°å€&lt;/span&gt;
	&lt;span class=&quot;token function&quot;&gt;IIC_WaitAck&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;            &lt;span class=&quot;token comment&quot;&gt;//ç­‰å¾…åº”ç­”&lt;/span&gt;
	&lt;span class=&quot;token function&quot;&gt;IIC_Stop&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;               &lt;span class=&quot;token comment&quot;&gt;//å…³é—­æ€»çº¿&lt;/span&gt;
	
	&lt;span class=&quot;token function&quot;&gt;IIC_Start&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;              &lt;span class=&quot;token comment&quot;&gt;//å¼€å¯æ€»çº¿&lt;/span&gt;
	&lt;span class=&quot;token function&quot;&gt;IIC_SendByte&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xa1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;       &lt;span class=&quot;token comment&quot;&gt;//0xa1: ä»AT24C02è¯»æ•°æ®&lt;/span&gt;
	&lt;span class=&quot;token function&quot;&gt;IIC_WaitAck&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;            &lt;span class=&quot;token comment&quot;&gt;//ç­‰å¾…åº”ç­”&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;i&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;i&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;lens&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;i&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		p&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;IIC_RecByte&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;     &lt;span class=&quot;token comment&quot;&gt;//æ¥å—æ•°æ®&lt;/span&gt;
		&lt;span class=&quot;token function&quot;&gt;IIC_SendAck&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;           &lt;span class=&quot;token comment&quot;&gt;//å‘é€åº”ç­”ï¼šæœªè¯»å®Œæ•°æ®&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
	&lt;span class=&quot;token function&quot;&gt;IIC_SendAck&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;           &lt;span class=&quot;token comment&quot;&gt;//å‘é€éåº”ç­”ï¼šå·²ç»è¯»å®Œæ•°æ®&lt;/span&gt;
	&lt;span class=&quot;token function&quot;&gt;IIC_Stop&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;               &lt;span class=&quot;token comment&quot;&gt;//å…³é—­æ€»çº¿&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;åœ¨ç¼–å†™å®Œæ—¶é—´è¯»å†™å‡½æ•°ååŠ¡å¿…è¦åœ¨ &lt;code class=&quot;language-text&quot;&gt;iic.h&lt;/code&gt; æ–‡ä»¶ä¸­å£°æ˜å‡½æ•°ï¼Œæ‰å¯åœ¨ä¸»å‡½æ•°ä¸­è°ƒç”¨ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;ifndef&lt;/span&gt; &lt;span class=&quot;token expression&quot;&gt;_IIC_H&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;define&lt;/span&gt; &lt;span class=&quot;token macro-name&quot;&gt;_IIC_H&lt;/span&gt;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;EEPROM_Read&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;unsigned&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;char&lt;/span&gt; addr&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;unsigned&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;p&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;unsigned&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;char&lt;/span&gt; lens&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;EEPROM_Write&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;unsigned&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;char&lt;/span&gt; addr&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;unsigned&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;p&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;unsigned&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;char&lt;/span&gt; lens&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;endif&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;3ã€ä¸»å‡½æ•°è°ƒç”¨&lt;/h3&gt;
&lt;p&gt;åœ¨ä¸»å‡½æ•°ä¸­è°ƒç”¨æ—¶é—´æ¨¡å—åº•å±‚å‡½æ•°ï¼Œé¦–å…ˆéœ€è¦åœ¨ä¸»å‡½æ•°å¼€å¤´åŒ…å«é©±åŠ¨ &lt;code class=&quot;language-text&quot;&gt;iic.h&lt;/code&gt; å¤´æ–‡ä»¶ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;STC15F2K60S2.h&quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;iic.h&quot;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;mainä¸»å‡½æ•°
ä¸»ç¨‹åºè°ƒç”¨æ¯”è¾ƒç®€å•ï¼Œä¸‹æ–‡ä¸­å®ç°äº† &lt;strong&gt;é‡‡ç”¨AT24C02æ¨¡å—å­˜å‚¨æ•°ç»„æ•°æ®ï¼›å¹¶é€šè¿‡æŒ‰é”®ä»å­˜å‚¨æ¨¡å—ä¸­å–å‡ºå­˜å‚¨çš„æ•°æ®è¿›è¡Œæ˜¾ç¤º&lt;/strong&gt;ã€‚ç”±äºè€ƒè™‘åˆå­¦è€…åŸºç¡€è¾ƒä¸ºè–„å¼±ï¼Œå› æ­¤å°†å®Œæ•´çš„ main.cpp ä»£ç è´´å‡ºæ¥ï¼ŒåŒ…å«ä¸­æ–­å‡½æ•°ã€çŸ©é˜µé”®ç›˜ã€æ•°ç ç®¡æ˜¾ç¤ºç­‰ï¼Œå¹¶ä¸”åœ¨å…³é”®å¤„è¿›è¡Œäº†æ³¨é‡Šï¼Œå¸Œæœ›å¯¹å¤§å®¶æœ‰æ‰€å¸®åŠ©ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// åŒ…å«å¤´æ–‡ä»¶&lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;STC15F2K60S2.h&quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;iic.h&quot;&lt;/span&gt;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// æ•°æ®ç±»å‹å®šä¹‰&lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;define&lt;/span&gt; &lt;span class=&quot;token macro-name&quot;&gt;u8&lt;/span&gt; &lt;span class=&quot;token expression&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;unsigned&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;char&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;define&lt;/span&gt; &lt;span class=&quot;token macro-name&quot;&gt;u16&lt;/span&gt; &lt;span class=&quot;token expression&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;unsigned&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;define&lt;/span&gt; &lt;span class=&quot;token macro-name&quot;&gt;u32&lt;/span&gt; &lt;span class=&quot;token expression&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;unsigned&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;long&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// 8ä½æ•°ç ç®¡çŠ¶æ€&lt;/span&gt;
u8 dspbuf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
u8 code tab&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xc0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xf9&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xa4&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xb0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x99&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x92&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x82&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xf8&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x80&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x90&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xff&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x40&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x79&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x24&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x30&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x19&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x12&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x02&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x78&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x89&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xc1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xbf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	             &lt;span class=&quot;token comment&quot;&gt;//  0 ,  1 ,  2 ,  3 ,  4 ,  5 ,  6 ,  7 ,  8 ,  9 , ç­ , 0. , 1. , 2. , 3. , 4. , 5. , 6. , 7. , 8. , 9. ,  H ,  U ,  -  ; &lt;/span&gt;
	             &lt;span class=&quot;token comment&quot;&gt;//  0 ,  1 ,  2 ,  3 ,  4 ,  5 ,  6 ,  7 ,  8 ,  9 , 10 , 11 , 12 , 13 , 14 , 15 , 16 , 17 , 18 , 19 , 20 , 21 , 22 , 23  ;&lt;/span&gt;
u8 dspcom &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
bit key_flag &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;EEPROM_flag &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// å®šæ—¶å™¨åˆå§‹åŒ–&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Timer0Init&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;		&lt;span class=&quot;token comment&quot;&gt;//2æ¯«ç§’@12.000MHz&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	AUXR &lt;span class=&quot;token operator&quot;&gt;|=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0x80&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;		&lt;span class=&quot;token comment&quot;&gt;//å®šæ—¶å™¨æ—¶é’Ÿ1Tæ¨¡å¼&lt;/span&gt;
	TMOD &lt;span class=&quot;token operator&quot;&gt;&amp;amp;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0xF0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;		&lt;span class=&quot;token comment&quot;&gt;//è®¾ç½®å®šæ—¶å™¨æ¨¡å¼&lt;/span&gt;
	TL0 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0x40&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;		&lt;span class=&quot;token comment&quot;&gt;//è®¾ç½®å®šæ—¶åˆå€¼&lt;/span&gt;
	TH0 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0xA2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;		&lt;span class=&quot;token comment&quot;&gt;//è®¾ç½®å®šæ—¶åˆå€¼&lt;/span&gt;
	TF0 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;		&lt;span class=&quot;token comment&quot;&gt;//æ¸…é™¤TF0æ ‡å¿—&lt;/span&gt;
	TR0 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;		&lt;span class=&quot;token comment&quot;&gt;//å®šæ—¶å™¨0å¼€å§‹è®¡æ—¶&lt;/span&gt;
	
	ET0 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;		&lt;span class=&quot;token comment&quot;&gt;//å¼€å®šæ—¶ä¸­æ–­&lt;/span&gt;
	EA&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;			&lt;span class=&quot;token comment&quot;&gt;//å¼€æ€»ä¸­æ–­&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// 573é”å­˜å™¨å°è£…æˆå‡½æ•°&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;door&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;u8 choose&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;u8 input&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	P2 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;P2 &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0x1f&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; choose&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	P0 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; input&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	P2 &lt;span class=&quot;token operator&quot;&gt;&amp;amp;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0x1f&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;	
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// å…³æ•°ç ç®¡&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;clo_num&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	dspbuf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	dspbuf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	dspbuf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	dspbuf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	dspbuf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	dspbuf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	dspbuf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	dspbuf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// å…³ç¯ã€èœ‚é¸£å™¨ã€æ•°ç ç®¡&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;all_init&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;	
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
 	&lt;span class=&quot;token function&quot;&gt;door&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x80&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xff&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token function&quot;&gt;door&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xa0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xaf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token function&quot;&gt;clo_num&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// æ•°ç ç®¡æ˜¾ç¤ºå‡½æ•°&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;display&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;			  
	&lt;span class=&quot;token function&quot;&gt;door&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xe0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xff&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;		&lt;span class=&quot;token comment&quot;&gt;//æ¶ˆéš&lt;/span&gt;

	&lt;span class=&quot;token function&quot;&gt;door&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xc0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x01&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt;dspcom&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token function&quot;&gt;door&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xe0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;tab&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;dspbuf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;dspcom&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	
	&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;dspcom &lt;span class=&quot;token operator&quot;&gt;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;     &lt;span class=&quot;token comment&quot;&gt;//or dspcom &amp;amp;= 0x07;&lt;/span&gt;
		dspcom &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// çŸ©é˜µé”®ç›˜ï¼Œæ¥KBD&lt;/span&gt;
u8 keypress &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;keyvalue &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0xff&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;keyread &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
u8 &lt;span class=&quot;token function&quot;&gt;Read_key&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;		                              	
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    u8 key_m&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;cal&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    
    P3 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0xf0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;P42&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;P44&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  	P36&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;P42&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;P37&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;P44&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;			   &lt;span class=&quot;token comment&quot;&gt;//å˜é‡æ›¿æ¢&lt;/span&gt;
    key_m &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;P3 &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0xf0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;key_m &lt;span class=&quot;token operator&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0xf0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; 
        keypress&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
   &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt;
        keypress &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; 
    
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;keypress &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		  keypress &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	  	keyread &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		  &lt;span class=&quot;token keyword&quot;&gt;switch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;key_m&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0x70&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;cal &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;                
            &lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0xb0&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;cal &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;    
            &lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0xd0&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;cal &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;    
            &lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0xe0&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;cal &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        
        P3 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0x0f&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;P42&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;P44&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
				P36&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;P42&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;P37&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;P44&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;			   &lt;span class=&quot;token comment&quot;&gt;//å˜é‡æ›¿æ¢&lt;/span&gt;
        key_m &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;P3 &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0x0f&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        
			&lt;span class=&quot;token keyword&quot;&gt;switch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;key_m&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
					&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
							&lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0x0e&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;keyvalue &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;cal&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;                
							&lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0x0d&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;keyvalue &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;cal&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;    
							&lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0x0b&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;keyvalue &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;cal&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;    
							&lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0x07&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;keyvalue &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;cal&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
					&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    P3 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0x0f&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;P42&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;P44&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		P36&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;P42&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;P37&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;P44&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;			                &lt;span class=&quot;token comment&quot;&gt;//å˜é‡æ›¿æ¢&lt;/span&gt;
    key_m &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;P3&lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x0f&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;keyread &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;key_m &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0x0f&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        keyread &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; keyvalue&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;	
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0xff&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// floatç¬¬Nä¸ªå­—èŠ‚è½¬æ¢æˆuint8&lt;/span&gt;
u8 &lt;span class=&quot;token function&quot;&gt;Float2Uint8&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;float&lt;/span&gt; num&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;u8 N&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    u8&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; temp&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    temp &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;u8 &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt;num&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;temp&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;N&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// floatè½¬æ¢ä¸ºuint32&lt;/span&gt;
u32 &lt;span class=&quot;token function&quot;&gt;Float2Uint32&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;float&lt;/span&gt; dat&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    u32 temp &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		u8 i&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;i&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;i&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;i&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        temp &lt;span class=&quot;token operator&quot;&gt;|=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Float2Uint8&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;dat&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;i&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; temp&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;float&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Uint82Float&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;u8&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; p&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;float&lt;/span&gt; temp&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;u8&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt;temp&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;p&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;u8&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt;temp&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;p&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;u8&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt;temp&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;p&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;u8&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt;temp&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;p&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; temp&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;//uint32è½¬float&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;float&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Uint322Float&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;u32 dat&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;float&lt;/span&gt; temp&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;u8&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt;temp&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; dat&lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x00ff&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;u8&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt;temp&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;dat&lt;span class=&quot;token operator&quot;&gt;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x00ff&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;u8&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt;temp&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;dat&lt;span class=&quot;token operator&quot;&gt;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;16&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x00ff&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;u8&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt;temp&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;dat&lt;span class=&quot;token operator&quot;&gt;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;24&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x00ff&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; temp&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;//````````````````````````````````ä¸»å‡½æ•°````````````````````````````````````&lt;/span&gt;
u8 num &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;50&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	u8 key_re&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;date&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;EEPROM_w &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	u8 str&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;lens &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	u8 put&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;float&lt;/span&gt; dat &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;12.345&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;dat_show&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	u8 input&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;ouput&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	u32 temp_test &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;temp1&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;show&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	
	&lt;span class=&quot;token function&quot;&gt;all_init&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token function&quot;&gt;Timer0Init&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	
	&lt;span class=&quot;token comment&quot;&gt;// å‘EEPROMä¸­å†™å…¥æ•°æ® åœ°å€ä¸º 1ï¼Œæ•°æ®é•¿åº¦ä¸º 8&lt;/span&gt;
	&lt;span class=&quot;token function&quot;&gt;EEPROM_Write&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;str&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

 	&lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		
		&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;key_flag&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;			
		&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
			key_flag &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
			key_re &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Read_key&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
			
			&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;key_re &lt;span class=&quot;token operator&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0xff&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
			&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
				&lt;span class=&quot;token keyword&quot;&gt;switch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;key_re&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
				&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
					&lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;EEPROM_Read&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;put&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;	
					&lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
					&lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;
							temp1 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; dat&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
							&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;u32 &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;input &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; temp1&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
							&lt;span class=&quot;token function&quot;&gt;EEPROM_Write&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;input&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
					&lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
					&lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;
							&lt;span class=&quot;token function&quot;&gt;EEPROM_Read&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;ouput&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
							show &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; ouput&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;256&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;256&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;256&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;ouput&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;256&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;256&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;ouput&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;256&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;ouput&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
					&lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
					&lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;door&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xa0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xaf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
					&lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;door&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xa0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xef&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
					&lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;9&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
					&lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
					&lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;19&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;EEPROM_w &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;	
					&lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;18&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;EEPROM_w &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
					        &lt;span class=&quot;token function&quot;&gt;clo_num&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
					&lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;17&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;dspbuf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; num&lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
				          dspbuf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; num&lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;     &lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
					&lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;16&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;door&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x80&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xdf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
					&lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
				&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
			&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
		&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
		
			dspbuf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; show&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;100000000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
			dspbuf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; show&lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10000000&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1000000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
			dspbuf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; show&lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1000000&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;100000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
			dspbuf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; show&lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;100000&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
			dspbuf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; show&lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10000&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
			dspbuf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; show&lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
			dspbuf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; show&lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
			dspbuf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; show&lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		
			&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;EEPROM_flag&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
			&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
				EEPROM_flag &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;	
				dspbuf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; put&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
				dspbuf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; put&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
				dspbuf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; put&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
				dspbuf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; put&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
				dspbuf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; put&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
				dspbuf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; put&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
				dspbuf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; put&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
				dspbuf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; put&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
			&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// å®šæ—¶å™¨0ä¸­æ–­æœåŠ¡å‡½æ•°&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;timer0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; interrupt &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; u8  t_20ms &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;t_50ms &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;   &lt;span class=&quot;token comment&quot;&gt;//MAX = 500 ms&lt;/span&gt;

	&lt;span class=&quot;token function&quot;&gt;display&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;		&lt;span class=&quot;token comment&quot;&gt;//æ•°ç ç®¡æ˜¾ç¤ºå‡½æ•°æ”¾é‡Œé¢&lt;/span&gt;

	t_20ms&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	t_50ms&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

	&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;t_20ms &lt;span class=&quot;token operator&quot;&gt;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;	&lt;span class=&quot;token comment&quot;&gt;//æ¯20msæ‰«æä¸€æ¬¡æŒ‰é”®&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		t_20ms &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		key_flag &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;		
	
	&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;t_50ms &lt;span class=&quot;token operator&quot;&gt;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;50&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	  t_50ms &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		EEPROM_flag &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;è‡³æ­¤ï¼Œæœ¬æ¬¡ AT24C02 å­˜å‚¨æ¨¡å—å·²ä»‹ç»å®Œæ¯•ã€‚&lt;/p&gt;</content:encoded></item><item><title><![CDATA[è“æ¡¥æ¯å•ç‰‡æœºè®¾è®¡ä¸å¼€å‘_åŸºç¡€æ¨¡å—_PCF8591]]></title><description><![CDATA[Githubä»£ç ä»“åº“é“¾æ¥ ä¸€ã€å‰è¨€ æ‰¿æ¥ä¸Šæ–‡ï¼Œæœ¬æ–‡å°†ç»§ç»­ä»‹ç»å‰©ä½™è“æ¡¥æ¯æ¶‰åŠæ¨¡å—ï¼ˆPCF8591ã€AT24C02ã€PWMã€ä¸²å£é€šä¿¡ã€NE555ä»¥åŠè¶…å£°æ³¢æµ‹è·ï¼‰ï¼Œä¸ºå¤§å®¶åšå‡ºè¯¦ç»†ç¼–ç¨‹æŒ‡å¯¼ã€‚ äºŒã€PCF8591 A/Dâ€¦]]></description><link>https://gatsbystarterblogsource.gatsbyjs.io/004_Lanqiaobei/</link><guid isPermaLink="false">https://gatsbystarterblogsource.gatsbyjs.io/004_Lanqiaobei/</guid><pubDate>Tue, 18 May 2021 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;a href=&quot;https://github.com/Joker001014/LanQiaoCup&quot;&gt;Githubä»£ç ä»“åº“é“¾æ¥&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;ä¸€ã€å‰è¨€&lt;/h2&gt;
&lt;p&gt;æ‰¿æ¥ä¸Šæ–‡ï¼Œæœ¬æ–‡å°†ç»§ç»­ä»‹ç»å‰©ä½™è“æ¡¥æ¯æ¶‰åŠæ¨¡å—ï¼ˆPCF8591ã€AT24C02ã€PWMã€ä¸²å£é€šä¿¡ã€NE555ä»¥åŠè¶…å£°æ³¢æµ‹è·ï¼‰ï¼Œä¸ºå¤§å®¶åšå‡ºè¯¦ç»†ç¼–ç¨‹æŒ‡å¯¼ã€‚&lt;/p&gt;
&lt;h2&gt;äºŒã€PCF8591 A/D è½¬æ¢æ¨¡å—&lt;/h2&gt;
&lt;p&gt;ç¬”è€…å°†åŸºäºè“æ¡¥æ¯å®˜æ–¹ç»™çš„èµ›ç‚¹èµ„æºåŒ…ï¼ˆ&lt;a href=&quot;https://github.com/Joker001014/LanQiaoCup/tree/main/%E8%B5%9B%E7%82%B9%E8%B5%84%E6%BA%90%E6%95%B0%E6%8D%AE%E5%8C%85_SCM&quot;&gt;è“æ¡¥æ¯å•ç‰‡æœºè®¾è®¡ä¸å¼€å‘_èµ›ç‚¹èµ„æºæ•°æ®åŒ…&lt;/a&gt;ï¼‰è¿›è¡Œç¼–ç¨‹ï¼Œä¸ºå¤§å®¶è®²è§£ç¼–ç¨‹è°ƒç”¨å„è¯­å¥çš„å«ä¹‰ï¼Œå¸®åŠ©å¤§å®¶ç¼–å†™æ¸©åº¦ä¼ æ„Ÿå™¨çš„ç¨‹åºï¼Œä¹Ÿä¾¿äºå¤§å®¶è®°å¿†ã€‚&lt;/p&gt;
&lt;h3&gt;1ã€å¯¼å…¥åº•å±‚é©±åŠ¨ä»£ç &lt;/h3&gt;
&lt;p&gt;è¯»è€…å¯ä¸‹è½½èµ›ç‚¹èµ„æºåŒ…ï¼Œè§£å‹åå¯å¾—åˆ°ä»¥ä¸‹å›¾ç‰‡æ‰€ç¤ºæ–‡ä»¶ã€‚
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/93f78654fba2229b6f46f4f17b49c028/828fb/1.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 48.734177215189874%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAKABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAgAF/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEAMQAAAB2kUKMf/EABgQAAIDAAAAAAAAAAAAAAAAAAABAhAx/9oACAEBAAEFAk7joz//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAVEAEBAAAAAAAAAAAAAAAAAAAQAf/aAAgBAQAGPwJr/8QAHBAAAgICAwAAAAAAAAAAAAAAAAERMRBRIXGR/9oACAEBAAE/IeRpwKVqzzE32XP/2gAMAwEAAgADAAAAEDTP/8QAFREBAQAAAAAAAAAAAAAAAAAAABH/2gAIAQMBAT8QV//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EABwQAQACAgMBAAAAAAAAAAAAAAEAEUGxITGRwf/aAAgBAQABPxBEWt0AdxWUEi0z7nO/DPhuaZ//2Q==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/93f78654fba2229b6f46f4f17b49c028/828fb/1.jpg&quot;
        srcset=&quot;/blog/static/93f78654fba2229b6f46f4f17b49c028/ff44c/1.jpg 158w,
/blog/static/93f78654fba2229b6f46f4f17b49c028/a6688/1.jpg 315w,
/blog/static/93f78654fba2229b6f46f4f17b49c028/828fb/1.jpg 630w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
æˆ‘ä»¬åŒå‡»æ‰“å¼€æ–‡ä»¶â€œ3-åº•å±‚é©±åŠ¨ä»£ç å‚è€ƒâ€æ–‡ä»¶ï¼Œå°†å¾—åˆ°ä»¥ä¸‹ &lt;code class=&quot;language-text&quot;&gt;.c&lt;/code&gt; å’Œ &lt;code class=&quot;language-text&quot;&gt;.h&lt;/code&gt; æ–‡ä»¶ã€‚æ¥ä¸‹æ¥å°† &lt;code class=&quot;language-text&quot;&gt;iic.c&lt;/code&gt; å’Œ &lt;code class=&quot;language-text&quot;&gt;iic.h&lt;/code&gt; æ–‡ä»¶æ‹·è´åˆ°å·¥ç¨‹æ‰€åœ¨æ–‡ä»¶å¤¹ä¸­ï¼Œå¹¶åœ¨ç¼–è¯‘å™¨ä¸­å°†è¿™ä¸¤ä¸ªæ–‡ä»¶å¯¼å…¥ï¼Œä¾¿å¯ä»¥å¼€å§‹ç¼–å†™ç¨‹åºäº†ã€‚
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 609px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/fb0349c4673318b7150afa79026c7922/d0d8c/2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 14.556962025316455%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAqElEQVR42lWN2wqCUBBF/X/6jfqAIMg/SOliUPSkp6K8HNH0eCHQXE32UgObmVmzh22pi0+qNWMNw7+kKmPIsoxHntM2zchMWdLI3HUdfd+L9eu17SWWOh0wYQQfc13/S1hxv5MEAelZUcUxtK2wG0UYYqKIp4T1EvCqDIvZFEtv13C98vJ9Bnn8FUpR7j2065Jt1rTH48gKb0fiOMSr1Xj/7IX0+WTCG2iZ38/LLvjxAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;![[Pasted image 20231020210509.png]]&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/fb0349c4673318b7150afa79026c7922/d0d8c/2.png&quot;
        srcset=&quot;/blog/static/fb0349c4673318b7150afa79026c7922/c26ae/2.png 158w,
/blog/static/fb0349c4673318b7150afa79026c7922/6bdcf/2.png 315w,
/blog/static/fb0349c4673318b7150afa79026c7922/d0d8c/2.png 609w&quot;
        sizes=&quot;(max-width: 609px) 100vw, 609px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h3&gt;2ã€PCF8591 A/Dè½¬æ¢å‡½æ•°å°è£…&lt;/h3&gt;
&lt;p&gt;é¦–å…ˆï¼Œåœ¨ç¼–å†™é©±åŠ¨å‡½æ•°ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦åœ¨åº•å±‚é©±åŠ¨ä»£ç  &lt;code class=&quot;language-text&quot;&gt;iic.c &lt;/code&gt;æ–‡ä»¶ä¸­ç¼–å†™ &lt;strong&gt;A/Dè½¬æ¢å‡½æ•°&lt;/strong&gt;ï¼Œå³ æ¨¡æ‹Ÿé‡è½¬åŒ–ä¸ºæ•°å­—é‡ å’Œ æ•°å­—é‡è½¬åŒ–ä¸ºæ¨¡æ‹Ÿé‡ã€‚æˆ‘ä»¬å¯ä»¥æ‰“å¼€èµ›ç‚¹èµ„æºæ•°æ®åŒ…ä¸­çš„æ–‡ä»¶â€œ5-ç«èµ›æ¿èŠ¯ç‰‡èµ„æ–™â€ã€‚&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/e5f3caa93863fbe80e44f65abed177c5/f7974/3.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 47.46835443037975%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAJABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAIBBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAezc2aD/xAAYEAACAwAAAAAAAAAAAAAAAAACEBEhMv/aAAgBAQABBQKbQ6X/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAUEAEAAAAAAAAAAAAAAAAAAAAg/9oACAEBAAY/Al//xAAbEAACAwADAAAAAAAAAAAAAAAAARExUSFxof/aAAgBAQABPyFPJRwS8JeelhvY7P/aAAwDAQACAAMAAAAQpB//xAAVEQEBAAAAAAAAAAAAAAAAAAAAEf/aAAgBAwEBPxCq/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAGxABAQEAAgMAAAAAAAAAAAAAAREAEFFhobH/2gAIAQEAAT8QKwsECYGwhe94memZ+HB//9k=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/e5f3caa93863fbe80e44f65abed177c5/828fb/3.jpg&quot;
        srcset=&quot;/blog/static/e5f3caa93863fbe80e44f65abed177c5/ff44c/3.jpg 158w,
/blog/static/e5f3caa93863fbe80e44f65abed177c5/a6688/3.jpg 315w,
/blog/static/e5f3caa93863fbe80e44f65abed177c5/828fb/3.jpg 630w,
/blog/static/e5f3caa93863fbe80e44f65abed177c5/0ede0/3.jpg 945w,
/blog/static/e5f3caa93863fbe80e44f65abed177c5/f7974/3.jpg 1097w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;æ‰“å¼€â€œPCF8591â€èŠ¯ç‰‡æ‰‹å†Œã€‚ç¬”è€…å°†å€ŸåŠ©èŠ¯ç‰‡æ‰‹å†Œä¸­çš„èµ„æ–™ç¼–å†™æ¸©åº¦è¯»å–å‡½æ•°å¹¶ä¸ºå¤§å®¶è®²è§£ã€‚
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 621px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/2e6b96d4b405584b91f373fac9253b19/3075e/4.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 51.89873417721519%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABlklEQVR42nVS2W7CMBDM/38VPwBUKmoBQbgTcjiHiXMAyXTWqREP7UqjJJv1emdmvToIEIUhQqKqKkgMwwAX9/sdRVFYVGb8X9c1v3Pkef6qvd1u6LoWntntsF2vsdvtkfOQC1fYti2i6Io4jtlg/K/LkrnIou97m1NpCmMMvPpywfl0QpZl+CtkQplEJmyaxuaEidQL3MX6pu3lXn06YrNe4cimf0XXdUiSBBmbCi13OGVO8tJQkKoUNS/06uMB/maDiJT+a6iUsnSFktMrJcWEcBPKtI1teD5jTx2r3+J3QxxllSkie5km5kgD9UZZGDStNNz7WH1/QeuRziAiS9FvYUddEoqfxBFKMY1pzWd0pVHMS71AkX5jTZlMcCCKjw/Qagzb7QvwfXTLJbLpFMV8DrNY2Jz5/LS5bDZFT7kG5orZDA298MxqiTULDj4b9Lz+8RCeI/jeUq+Im5BwTzW1xPOJktpdaWJI9NRYamPus+HknmFhEFxwIU48KCa8a2nXpnSLPeos4oshwTW0zopZcrbUGj9Kaf3S7nTZAQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;![[Pasted image 20231020210729.png]]&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/2e6b96d4b405584b91f373fac9253b19/3075e/4.png&quot;
        srcset=&quot;/blog/static/2e6b96d4b405584b91f373fac9253b19/c26ae/4.png 158w,
/blog/static/2e6b96d4b405584b91f373fac9253b19/6bdcf/4.png 315w,
/blog/static/2e6b96d4b405584b91f373fac9253b19/3075e/4.png 621w&quot;
        sizes=&quot;(max-width: 621px) 100vw, 621px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;æ¨¡æ‹Ÿé‡è½¬åŒ–æˆæ•°å­—é‡ï¼šç¼–å†™ADè½¬æ¢å‡½æ•°ï¼Œå…·ä½“æ¯æ¡ä»£ç çš„å«ä¹‰éƒ½å·²ç»æ³¨é‡Šï¼Œåœ¨è¿™é‡Œå°†ä¸å†èµ˜è¿°ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// æ¨¡æ‹Ÿé‡è½¬åŒ–æˆæ•°å­—é‡&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;unsigned&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;PCF8591_ADC&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;unsigned&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;char&lt;/span&gt; addr&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;     
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;unsigned&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;char&lt;/span&gt; date&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	
	&lt;span class=&quot;token function&quot;&gt;IIC_Start&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;              &lt;span class=&quot;token comment&quot;&gt;//å¼€å¯æ€»çº¿&lt;/span&gt;
	&lt;span class=&quot;token function&quot;&gt;IIC_SendByte&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x90&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;       &lt;span class=&quot;token comment&quot;&gt;//0x90: 1001 0000  å‘PCF8091å†™æ•°æ®&lt;/span&gt;
	&lt;span class=&quot;token function&quot;&gt;IIC_WaitAck&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;            &lt;span class=&quot;token comment&quot;&gt;//ç­‰å¾…åº”ç­”&lt;/span&gt;
	&lt;span class=&quot;token function&quot;&gt;IIC_SendByte&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;addr&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;       &lt;span class=&quot;token comment&quot;&gt;//å†™æ•°æ®&lt;/span&gt;
	&lt;span class=&quot;token function&quot;&gt;IIC_WaitAck&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;            &lt;span class=&quot;token comment&quot;&gt;//ç­‰å¾…åº”ç­”&lt;/span&gt;
	&lt;span class=&quot;token function&quot;&gt;IIC_Stop&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;               &lt;span class=&quot;token comment&quot;&gt;//å…³é—­æ€»çº¿&lt;/span&gt;
	
	&lt;span class=&quot;token function&quot;&gt;IIC_Start&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;              &lt;span class=&quot;token comment&quot;&gt;//å¼€å¯æ€»çº¿&lt;/span&gt;
	&lt;span class=&quot;token function&quot;&gt;IIC_SendByte&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x91&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;       &lt;span class=&quot;token comment&quot;&gt;//0x91: 1001 0001  å‘PCF8091è¯»æ•°æ®&lt;/span&gt;
	&lt;span class=&quot;token function&quot;&gt;IIC_WaitAck&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;            &lt;span class=&quot;token comment&quot;&gt;//ç­‰å¾…åº”ç­”&lt;/span&gt;
	date &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;IIC_RecByte&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;     &lt;span class=&quot;token comment&quot;&gt;//æ¥å—æ•°æ®&lt;/span&gt;
	&lt;span class=&quot;token function&quot;&gt;IIC_SendAck&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;           &lt;span class=&quot;token comment&quot;&gt;//å‘é€feiåº”ç­”ï¼šå·²ç»è¯»å®Œæ•°æ®&lt;/span&gt;
	&lt;span class=&quot;token function&quot;&gt;IIC_Stop&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;               &lt;span class=&quot;token comment&quot;&gt;//å…³é—­æ€»çº¿&lt;/span&gt;
	
	&lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; date&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;å…¶ä¸­ï¼Œåœ¨ç¼–å†™æ¨¡æ•°è½¬æ¢å‡½æ•°æŒ‡ä»¤å¯é€šè¿‡æŸ¥é˜…èŠ¯ç‰‡èµ„æ–™æ‰‹å†Œï¼Œä¸éœ€è¦æ­»è®°ç¡¬èƒŒã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;PCF8591èŠ¯ç‰‡åœ°å€å‰å››ä½é»˜è®¤ä¸º &lt;code class=&quot;language-text&quot;&gt;1001&lt;/code&gt; å³ &lt;code class=&quot;language-text&quot;&gt;9&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;åå››ä½ &lt;code class=&quot;language-text&quot;&gt;A2\A1\A0&lt;/code&gt; è§†å…·ä½“çš„æ¥çº¿è€Œå®šï¼Œæœ€ä½ä½ä¸º &lt;code class=&quot;language-text&quot;&gt;0&lt;/code&gt; åˆ™è¡¨ç¤ºå‘èŠ¯ç‰‡å†™æ•°æ®ï¼Œä¸º &lt;code class=&quot;language-text&quot;&gt;1&lt;/code&gt; åˆ™è¡¨ç¤ºä»èŠ¯ç‰‡è¯»æ•°æ®ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 492px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/f01647a751c5082b12e81e4e44471340/5c6e9/5.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 54.43037974683544%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABa0lEQVR42q1SaXOCQAzl//84KwpqB0Qrt4Cci4rHa946MrXj9FMzE7JLsi8vh4F/FoOfNElg2TYul6voBcMwjPap1+vDp/+L8n673dC2Ddz1+hUwjmOEYYggCJDnOXzfR1E87OFw0Ha/32O32yHLMkRRJLE+Innnui4cx9GJRkA+6roOsQSmaarBCUDbNI1OuN1u4XkbfU6kos/VCoH4p+YUa2HIKkbAoihGoLIs9QNa3smIzKqqQipJaLMsFxKlTlpJXCtJ2YIRkJfzeYBSHWzbgm3NYS+WmjVLYRtM04Ql/2czE5PJBxYLGxthTbnf7689fAodp9MJfa/QH49jIMtpBVwpJYnP2h7Fz3awFYlU94w1/loBBv1W/GDDyuq6lkrUe4b/toevrB42lBXiVEvZgI3nYbVc4kuGE4YRPJlqLoPkHrLHbBOVjI13ZVKSJMXcslA39QjoOK5M3NcD4m6yj33f6y3hNvD8DfwiTekwrcliAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;![[Pasted image 20231020210919.png]]&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/f01647a751c5082b12e81e4e44471340/5c6e9/5.png&quot;
        srcset=&quot;/blog/static/f01647a751c5082b12e81e4e44471340/c26ae/5.png 158w,
/blog/static/f01647a751c5082b12e81e4e44471340/6bdcf/5.png 315w,
/blog/static/f01647a751c5082b12e81e4e44471340/5c6e9/5.png 492w&quot;
        sizes=&quot;(max-width: 492px) 100vw, 492px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;æ•°å­—é‡è½¬åŒ–æˆæ¨¡æ‹Ÿé‡ï¼šç¼–å†™DAè½¬æ¢å‡½æ•°ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// æ•°å­—é‡è½¬åŒ–æˆæ¨¡æ‹Ÿé‡&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;PCF8591_DAC&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;unsigned&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;char&lt;/span&gt; date&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;     
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token function&quot;&gt;IIC_Start&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;              &lt;span class=&quot;token comment&quot;&gt;//å¼€å¯æ€»çº¿&lt;/span&gt;
	&lt;span class=&quot;token function&quot;&gt;IIC_SendByte&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x90&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;       &lt;span class=&quot;token comment&quot;&gt;//0x90: 1001 0000  å‘PCF8091å†™æ•°æ®&lt;/span&gt;
	&lt;span class=&quot;token function&quot;&gt;IIC_WaitAck&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;            &lt;span class=&quot;token comment&quot;&gt;//ç­‰å¾…åº”ç­”&lt;/span&gt;
	&lt;span class=&quot;token function&quot;&gt;IIC_SendByte&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x40&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;       &lt;span class=&quot;token comment&quot;&gt;//å‘Šè¯‰èŠ¯ç‰‡è¦è¾“å‡ºæ¨¡æ‹Ÿé‡ï¼Œå³DA&lt;/span&gt;
	&lt;span class=&quot;token function&quot;&gt;IIC_WaitAck&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;            &lt;span class=&quot;token comment&quot;&gt;//ç­‰å¾…åº”ç­”&lt;/span&gt;
	&lt;span class=&quot;token function&quot;&gt;IIC_SendByte&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;date&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;       &lt;span class=&quot;token comment&quot;&gt;//&lt;/span&gt;
	&lt;span class=&quot;token function&quot;&gt;IIC_WaitAck&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;            &lt;span class=&quot;token comment&quot;&gt;//ç­‰å¾…åº”ç­”&lt;/span&gt;
	&lt;span class=&quot;token function&quot;&gt;IIC_Stop&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;               &lt;span class=&quot;token comment&quot;&gt;//å…³é—­æ€»çº¿&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;åŒæ ·å¯ä»¥æŸ¥é˜…ä¸Šè¿°èŠ¯ç‰‡èµ„æ–™æ‰‹å†Œï¼Œç¬¬å…­ä½ä¸º &lt;code class=&quot;language-text&quot;&gt;1&lt;/code&gt; æ—¶å³è¡¨ç¤ºè¾“å‡ºæ¨¡æ‹Ÿé‡ï¼Œä»¥åŠå…¶ä»–ä½çš„å«ä¹‰åœ¨èŠ¯ç‰‡ä¸­éƒ½å¯ä»¥æŸ¥æ‰¾åˆ°ï¼Œåœ¨è¿™é‡Œè¿˜æ˜¯æƒ³å¼ºè°ƒä¸€ä¸‹ï¼š&lt;strong&gt;åˆå­¦è€…ä¸€å®šè¦å­¦ä¼šçœ‹èŠ¯ç‰‡æ‰‹å†Œï¼Œå­¦ä¼šçœ‹æ‰‹å†Œå¯¹äºä½ çš„ä»£ç æ°´å¹³ä¸€å®šä¼šæœ‰æå‡&lt;/strong&gt;ã€‚
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 367px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/9931dc242a62fda42643cc5ce10ec19f/46684/6.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 186.70886075949366%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAlCAYAAABCr8kFAAAACXBIWXMAAAsTAAALEwEAmpwYAAAD5ElEQVR42p1Wi5aaShDc//+ge5MfyN4ka9bdVVfxDSgveaMgop2qIex1HzmBcA5nnAFrurqra7gRXJZlyW7ny/F4lMPhIHmef3jzeRj64vk7qa+LvL1uzuezGIYus8VSttutbDYbtYHruqLrupimebXmyQbzLX5HcSSe52GDUIIgEOIowMvlIlmWie/74jjOK6DdbqfWbdvGb09Mw1TraZoqMG7keTv1+3DIpTyWcqMCv9Shx3GsduKuSZK80OA63+EaI2UA9aaG9PsPsgC76XQqq9W6Bnz7x/1+L0VRvFtvrjw/qPQEyGWv15PVeo1A6ud/BViVhbigatuWfPr8WZ7H4/aAnDPpp9NJrTd5NnRDlsulzGYzFNX4vyhtIjyWpZqfMAaBL6PRCEBz8SC14lionDYEfgvIwpQAcBz7lWxYUW0yVjLTkTvq95UO3wIydN6Mar/PFC1SGo2G0n94wDiQ4XAoj4+P2GgrSZq90H0HSFlcP2wKsd2Y0vtxjwgdBU4tssqUze1/t6JBMpcugLa1lafB6CUVURipd7nRl9svMkVhWgE29ENUuS6Cp7qGlWYufehQ0zSxMW8FWJtBqCIjPdJdLlcyX8yVdKqrd1vlsLnSJBYTBbjgGSNco7olNqOMKJlrif0RkHlUVQcARxaDgBwjRD+fz9Umly4RskvK8qR0uVgsYAKrV0XrTDmG9znIGZ83umQ77kGXgo+Rkk6A15E2XtkA2uikFGMnQOaPySdl5qyh/NHVStj0PcqF7j2GVRmIcgNRc30y0cRCUTpFeDjslQmQMnNmwiyqqlIbcqza9vL5XKlTsCyPSHyCXKXKQNg5HCPcKdbzvKUOq1OpQNjL3+/uVEGYv7W+VsZKU+j1visra47VVjl00avP4wkKkypBUzY8+VzHUpZmIp+d3CaJ69ZjizHKOYwijEKVWw9HbWfZRFGEdtOVfOjebD3qsIk4hJ21lg0ry0oyOt6kyg0+ars/F6WqT7oErUVBMzKa6RCHFKvcGfC6lxvKLAgNgj5JytRlgN+d3IYROo6rAAlA0MZ46d5MQacIc4ibiWcuWRQ6Tmf7ulx9/VEW7NcTACkTHRFyzvdX6xUoB78B/HUu/9pems+BDOuWif4FZYfCRrcU/LpgwUC9AIMPAdmbJ3ypFvf3EuFOcJing4Ek6IZsOJAU85DrmJ9QbVQKn79wGhz8EkfvAfcAy0ApQ48aOCafJhPRKBXQmoHmE6xLwzfgBs8C0K3AwMd/dtpUEjJ4C6iYgpY8P0sJIBfRuP2+BIjSuuvJ5ts3sX/0JAZwpqG3seH661dZ/POvWAAtz2f5CbiEIva0wqrfAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;![[Pasted image 20231020211515.png]]&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/9931dc242a62fda42643cc5ce10ec19f/46684/6.png&quot;
        srcset=&quot;/blog/static/9931dc242a62fda42643cc5ce10ec19f/c26ae/6.png 158w,
/blog/static/9931dc242a62fda42643cc5ce10ec19f/6bdcf/6.png 315w,
/blog/static/9931dc242a62fda42643cc5ce10ec19f/46684/6.png 367w&quot;
        sizes=&quot;(max-width: 367px) 100vw, 367px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;åœ¨ç¼–å†™å®Œæ—¶é—´è¯»å†™å‡½æ•°ååŠ¡å¿…è¦åœ¨ &lt;code class=&quot;language-text&quot;&gt;iic.h&lt;/code&gt; æ–‡ä»¶ä¸­å£°æ˜å‡½æ•°ï¼Œæ‰å¯åœ¨ä¸»å‡½æ•°ä¸­è°ƒç”¨ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;ifndef&lt;/span&gt; &lt;span class=&quot;token expression&quot;&gt;_IIC_H&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;define&lt;/span&gt; &lt;span class=&quot;token macro-name&quot;&gt;_IIC_H&lt;/span&gt;&lt;/span&gt;

&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;STC15F2K60S2.h&quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;intrins.h&quot;&lt;/span&gt;&lt;/span&gt;

sbit SDA &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; P2&lt;span class=&quot;token operator&quot;&gt;^&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  &lt;span class=&quot;token comment&quot;&gt;/* æ•°æ®çº¿ */&lt;/span&gt;
sbit SCL &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; P2&lt;span class=&quot;token operator&quot;&gt;^&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  &lt;span class=&quot;token comment&quot;&gt;/* æ—¶é’Ÿçº¿ */&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;unsigned&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;PCF8591_ADC&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;unsigned&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;char&lt;/span&gt; addr&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;PCF8591_DAC&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;unsigned&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;char&lt;/span&gt; date&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;endif&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;3ã€ä¸»å‡½æ•°è°ƒç”¨&lt;/h3&gt;
&lt;p&gt;åœ¨ä¸»å‡½æ•°ä¸­è°ƒç”¨æ—¶é—´æ¨¡å—åº•å±‚å‡½æ•°ï¼Œé¦–å…ˆéœ€è¦åœ¨ä¸»å‡½æ•°å¼€å¤´åŒ…å«é©±åŠ¨ &lt;code class=&quot;language-text&quot;&gt;iic.h&lt;/code&gt; å¤´æ–‡ä»¶ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;STC15F2K60S2.h&quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;iic.h&quot;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;mainä¸»å‡½æ•°
ä¸»ç¨‹åºè°ƒç”¨æ¯”è¾ƒç®€å•ï¼Œä¸‹æ–‡ä¸­å®ç°äº† &lt;strong&gt;é‡‡ç”¨PCF8591 D/Aæ¨¡å—è¾“å‡ºç”µå‹ï¼Œå¹¶é€šè¿‡æŒ‰é”®ä¿®æ”¹è¾“å‡ºç”µå‹å€¼ï¼›å¹¶é€šè¿‡PCF8591 A/Dæ¨¡å—Rb2ç”µå‹å’ŒA/Dè„šç”µå‹ï¼Œå¹¶é€šè¿‡æ•°ç ç®¡æ˜¾ç¤º&lt;/strong&gt;ã€‚ç”±äºè€ƒè™‘åˆå­¦è€…åŸºç¡€è¾ƒä¸ºè–„å¼±ï¼Œå› æ­¤å°†å®Œæ•´çš„ main.cpp ä»£ç è´´å‡ºæ¥ï¼ŒåŒ…å«ä¸­æ–­å‡½æ•°ã€çŸ©é˜µé”®ç›˜ã€æ•°ç ç®¡æ˜¾ç¤ºç­‰ï¼Œå¹¶ä¸”åœ¨å…³é”®å¤„è¿›è¡Œäº†æ³¨é‡Šï¼Œå¸Œæœ›å¯¹å¤§å®¶æœ‰æ‰€å¸®åŠ©ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// åŒ…å«å¤´æ–‡ä»¶&lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;STC15F2K60S2.h&quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;iic.h&quot;&lt;/span&gt;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// æ•°æ®ç±»å‹å®šä¹‰&lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;define&lt;/span&gt; &lt;span class=&quot;token macro-name&quot;&gt;u8&lt;/span&gt; &lt;span class=&quot;token expression&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;unsigned&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;char&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;define&lt;/span&gt; &lt;span class=&quot;token macro-name&quot;&gt;u16&lt;/span&gt; &lt;span class=&quot;token expression&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;unsigned&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// 8ä½æ•°ç ç®¡çŠ¶æ€&lt;/span&gt;
u8 dspbuf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
u8 code tab&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xc0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xf9&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xa4&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xb0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x99&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x92&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x82&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xf8&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x80&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x90&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xff&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x40&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x79&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x24&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x30&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x19&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x12&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x02&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x78&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x89&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xc1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xbf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	             &lt;span class=&quot;token comment&quot;&gt;//  0 ,  1 ,  2 ,  3 ,  4 ,  5 ,  6 ,  7 ,  8 ,  9 , ç­ , 0. , 1. , 2. , 3. , 4. , 5. , 6. , 7. , 8. , 9. ,  H ,  U ,  -  ; &lt;/span&gt;
	             &lt;span class=&quot;token comment&quot;&gt;//  0 ,  1 ,  2 ,  3 ,  4 ,  5 ,  6 ,  7 ,  8 ,  9 , 10 , 11 , 12 , 13 , 14 , 15 , 16 , 17 , 18 , 19 , 20 , 21 , 22 , 23  ;&lt;/span&gt;
u8 dspcom &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
bit key_flag &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;iic_flag1 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;iic_flag2 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// å®šæ—¶å™¨åˆå§‹åŒ–&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Timer0Init&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;		&lt;span class=&quot;token comment&quot;&gt;//2æ¯«ç§’@12.000MHz&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	AUXR &lt;span class=&quot;token operator&quot;&gt;|=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0x80&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;		&lt;span class=&quot;token comment&quot;&gt;//å®šæ—¶å™¨æ—¶é’Ÿ1Tæ¨¡å¼&lt;/span&gt;
	TMOD &lt;span class=&quot;token operator&quot;&gt;&amp;amp;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0xF0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;		&lt;span class=&quot;token comment&quot;&gt;//è®¾ç½®å®šæ—¶å™¨æ¨¡å¼&lt;/span&gt;
	TL0 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0x40&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;		&lt;span class=&quot;token comment&quot;&gt;//è®¾ç½®å®šæ—¶åˆå€¼&lt;/span&gt;
	TH0 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0xA2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;		&lt;span class=&quot;token comment&quot;&gt;//è®¾ç½®å®šæ—¶åˆå€¼&lt;/span&gt;
	TF0 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;		&lt;span class=&quot;token comment&quot;&gt;//æ¸…é™¤TF0æ ‡å¿—&lt;/span&gt;
	TR0 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;		&lt;span class=&quot;token comment&quot;&gt;//å®šæ—¶å™¨0å¼€å§‹è®¡æ—¶&lt;/span&gt;
	
	ET0 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;		&lt;span class=&quot;token comment&quot;&gt;//å¼€å®šæ—¶ä¸­æ–­&lt;/span&gt;
	EA&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;			&lt;span class=&quot;token comment&quot;&gt;//å¼€æ€»ä¸­æ–­&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// 573é”å­˜å™¨å°è£…æˆå‡½æ•°&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;door&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;u8 choose&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;u8 input&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	P2 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;P2 &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0x1f&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; choose&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	P0 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; input&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	P2 &lt;span class=&quot;token operator&quot;&gt;&amp;amp;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0x1f&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;	
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// å…³æ•°ç ç®¡&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;clo_num&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	dspbuf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	dspbuf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	dspbuf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	dspbuf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	dspbuf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	dspbuf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	dspbuf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	dspbuf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// å…³ç¯ã€èœ‚é¸£å™¨ã€æ•°ç ç®¡&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;all_init&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;	     
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
 	&lt;span class=&quot;token function&quot;&gt;door&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x80&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xff&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token function&quot;&gt;door&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xa0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xaf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token function&quot;&gt;clo_num&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// æ•°ç ç®¡æ˜¾ç¤ºå‡½æ•°&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;display&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;			  
	&lt;span class=&quot;token function&quot;&gt;door&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xe0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xff&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;		&lt;span class=&quot;token comment&quot;&gt;//æ¶ˆéš&lt;/span&gt;

	&lt;span class=&quot;token function&quot;&gt;door&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xc0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x01&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt;dspcom&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token function&quot;&gt;door&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xe0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;tab&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;dspbuf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;dspcom&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	
	&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;dspcom &lt;span class=&quot;token operator&quot;&gt;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;     &lt;span class=&quot;token comment&quot;&gt;//or dspcom &amp;amp;= 0x07;&lt;/span&gt;
		dspcom &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// çŸ©é˜µé”®ç›˜ï¼Œæ¥KBD&lt;/span&gt;
u8 keypress &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;keyvalue &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0xff&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;keyread &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
u8 &lt;span class=&quot;token function&quot;&gt;Read_key&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;		                             
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    u8 key_m&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;cal&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    
    P3 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0xf0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;P42&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;P44&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  	P36&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;P42&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;P37&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;P44&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;			   &lt;span class=&quot;token comment&quot;&gt;//å˜é‡æ›¿æ¢&lt;/span&gt;
    key_m &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;P3 &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0xf0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;key_m &lt;span class=&quot;token operator&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0xf0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; 
        keypress&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
   &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt;
        keypress &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; 
    
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;keypress &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		  keypress &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	  	keyread &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		  &lt;span class=&quot;token keyword&quot;&gt;switch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;key_m&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0x70&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;cal &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;                
            &lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0xb0&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;cal &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;    
            &lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0xd0&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;cal &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;    
            &lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0xe0&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;cal &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        
        P3 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0x0f&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;P42&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;P44&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
				P36&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;P42&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;P37&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;P44&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;			   &lt;span class=&quot;token comment&quot;&gt;//å˜é‡æ›¿æ¢&lt;/span&gt;
        key_m &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;P3 &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0x0f&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        
			&lt;span class=&quot;token keyword&quot;&gt;switch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;key_m&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
					&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
							&lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0x0e&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;keyvalue &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;cal&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;                
							&lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0x0d&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;keyvalue &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;cal&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;    
							&lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0x0b&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;keyvalue &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;cal&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;    
							&lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0x07&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;keyvalue &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;cal&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
					&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    P3 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0x0f&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;P42&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;P44&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		P36&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;P42&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;P37&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;P44&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;			                &lt;span class=&quot;token comment&quot;&gt;//å˜é‡æ›¿æ¢&lt;/span&gt;
    key_m &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;P3&lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x0f&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;keyread &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;key_m &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0x0f&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        keyread &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; keyvalue&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;	
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0xff&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;//````````````````````````````````ä¸»å‡½æ•°````````````````````````````````````&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;		
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	u8 key_re&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;iic_w &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;vol &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; date_1&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;date_2&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	
	&lt;span class=&quot;token function&quot;&gt;all_init&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token function&quot;&gt;Timer0Init&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

	&lt;span class=&quot;token comment&quot;&gt;// æ•°å­—é‡è½¬ä¸ºæ¨¡æ‹Ÿé‡ï¼Œæ­¤æ—¶å¯ä»¥åœ¨å•ç‰‡æœºD/Aè§’ä¸Šæµ‹åˆ° 200/255*5V ç”µå‹&lt;/span&gt;
	&lt;span class=&quot;token function&quot;&gt;PCF8591_DAC&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;200&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	
 	&lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;key_flag&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;			
		&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
			key_flag &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
			key_re &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Read_key&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
			
			&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;key_re &lt;span class=&quot;token operator&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0xff&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
			&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
				&lt;span class=&quot;token keyword&quot;&gt;switch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;key_re&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
				&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
					&lt;span class=&quot;token comment&quot;&gt;// ä¿®æ”¹ç”µå‹è¾“å‡º&lt;/span&gt;
					&lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;18&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;vol &lt;span class=&quot;token operator&quot;&gt;+=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
					&lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;17&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;iic_w &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
					&lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;16&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;iic_w &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
					        &lt;span class=&quot;token function&quot;&gt;clo_num&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
					&lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
				&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
				&lt;span class=&quot;token comment&quot;&gt;// è®¾ç½®ä¿®æ”¹çš„ç”µå‹è¾“å‡ºå€¼&lt;/span&gt;
				&lt;span class=&quot;token function&quot;&gt;PCF8591_DAC&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;vol&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
			&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
		&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
			&lt;span class=&quot;token comment&quot;&gt;// å®šæ—¶é‡‡é›†Rb2ç”µå‹å¤§å°&lt;/span&gt;
			&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;iic_flag1&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;iic_w&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
			&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
				iic_flag1 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
				date_1 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;PCF8591_ADC&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;       &lt;span class=&quot;token comment&quot;&gt;//æµ‹Rb2ç”µå‹&lt;/span&gt;
				date_1 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;date_1&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;255.0&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

				dspbuf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; date_1&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
				dspbuf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; date_1&lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
				dspbuf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; date_1&lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; 
			&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
			&lt;span class=&quot;token comment&quot;&gt;// å®šæ—¶é‡‡é›† A/D å¼•è„šç”µå‹å¤§å°&lt;/span&gt;
			&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;iic_flag2&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;iic_w&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
			&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
				iic_flag2 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
				date_2 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;PCF8591_ADC&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;      &lt;span class=&quot;token comment&quot;&gt;// ç”¨A/Då¼•è„šæµ‹ç”µå‹&lt;/span&gt;
				date_2 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;date_2&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;255.0&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
				
				dspbuf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; date_2&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
				dspbuf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; date_2&lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
				dspbuf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; date_2&lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
			&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// å®šæ—¶å™¨0ä¸­æ–­æœåŠ¡å‡½æ•°&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;timer0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; interrupt &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;	  
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; u8  t_20ms &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;t_100ms &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;   &lt;span class=&quot;token comment&quot;&gt;//MAX = 500 ms&lt;/span&gt;

	&lt;span class=&quot;token comment&quot;&gt;//ä¸éœ€è¦é‡è½½è£…è½½å€¼&lt;/span&gt;
	
	&lt;span class=&quot;token function&quot;&gt;display&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;		&lt;span class=&quot;token comment&quot;&gt;//æ•°ç ç®¡æ˜¾ç¤ºå‡½æ•°æ”¾é‡Œé¢&lt;/span&gt;

	t_20ms&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	t_100ms&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

	&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;t_20ms &lt;span class=&quot;token operator&quot;&gt;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;	&lt;span class=&quot;token comment&quot;&gt;//æ¯20msæ‰«æä¸€æ¬¡æŒ‰é”®&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		t_20ms &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		key_flag &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
	
	&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;t_100ms &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;      
	&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		iic_flag1 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;t_100ms &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;200&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		t_100ms &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		iic_flag2 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;è‡³æ­¤ï¼Œæœ¬æ¬¡ PCF8591 A/Dè½¬æ¢æ¨¡å—å·²ä»‹ç»å®Œæ¯•ã€‚&lt;/p&gt;</content:encoded></item><item><title><![CDATA[è“æ¡¥æ¯å•ç‰‡æœºè®¾è®¡ä¸å¼€å‘_åŸºç¡€æ¨¡å—_DS1302]]></title><description><![CDATA[Githubä»£ç ä»“åº“é“¾æ¥ ä¸€ã€å‰è¨€ æ‰¿æ¥ä¸Šæ–‡ï¼Œæœ¬æ–‡å°†ç»§ç»­ä»‹ç»å‰©ä½™è“æ¡¥æ¯æ¶‰åŠæ¨¡å—ï¼ˆDS1302ã€PCF8591ã€AT24C02ã€PWMã€ä¸²å£é€šä¿¡ã€NE555ä»¥åŠè¶…å£°æ³¢æµ‹è·ï¼‰ï¼Œä¸ºå¤§å®¶åšå‡ºè¯¦ç»†ç¼–ç¨‹æŒ‡å¯¼ã€‚ äºŒã€DS130â€¦]]></description><link>https://gatsbystarterblogsource.gatsbyjs.io/003_Lanqiaobei/</link><guid isPermaLink="false">https://gatsbystarterblogsource.gatsbyjs.io/003_Lanqiaobei/</guid><pubDate>Sat, 15 May 2021 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;a href=&quot;https://github.com/Joker001014/LanQiaoCup&quot;&gt;Githubä»£ç ä»“åº“é“¾æ¥&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;ä¸€ã€å‰è¨€&lt;/h2&gt;
&lt;p&gt;æ‰¿æ¥ä¸Šæ–‡ï¼Œæœ¬æ–‡å°†ç»§ç»­ä»‹ç»å‰©ä½™è“æ¡¥æ¯æ¶‰åŠæ¨¡å—ï¼ˆDS1302ã€PCF8591ã€AT24C02ã€PWMã€ä¸²å£é€šä¿¡ã€NE555ä»¥åŠè¶…å£°æ³¢æµ‹è·ï¼‰ï¼Œä¸ºå¤§å®¶åšå‡ºè¯¦ç»†ç¼–ç¨‹æŒ‡å¯¼ã€‚&lt;/p&gt;
&lt;h2&gt;äºŒã€DS1302 æ—¶é’Ÿæ¨¡å—&lt;/h2&gt;
&lt;p&gt;ç¬”è€…å°†åŸºäºè“æ¡¥æ¯å®˜æ–¹ç»™çš„èµ›ç‚¹èµ„æºåŒ…ï¼ˆ&lt;a href=&quot;https://github.com/Joker001014/LanQiaoCup/tree/main/%E8%B5%9B%E7%82%B9%E8%B5%84%E6%BA%90%E6%95%B0%E6%8D%AE%E5%8C%85_SCM&quot;&gt;è“æ¡¥æ¯å•ç‰‡æœºè®¾è®¡ä¸å¼€å‘_èµ›ç‚¹èµ„æºæ•°æ®åŒ…&lt;/a&gt;ï¼‰è¿›è¡Œç¼–ç¨‹ï¼Œä¸ºå¤§å®¶è®²è§£ç¼–ç¨‹è°ƒç”¨å„è¯­å¥çš„å«ä¹‰ï¼Œå¸®åŠ©å¤§å®¶ç¼–å†™æ¸©åº¦ä¼ æ„Ÿå™¨çš„ç¨‹åºï¼Œä¹Ÿä¾¿äºå¤§å®¶è®°å¿†ã€‚&lt;/p&gt;
&lt;h3&gt;1ã€å¯¼å…¥åº•å±‚é©±åŠ¨ä»£ç &lt;/h3&gt;
&lt;p&gt;è¯»è€…å¯ä¸‹è½½èµ›ç‚¹èµ„æºåŒ…ï¼Œè§£å‹åå¯å¾—åˆ°ä»¥ä¸‹å›¾ç‰‡æ‰€ç¤ºæ–‡ä»¶ã€‚
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/93f78654fba2229b6f46f4f17b49c028/828fb/1.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 48.734177215189874%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAKABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAgAF/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEAMQAAAB2kUKMf/EABgQAAIDAAAAAAAAAAAAAAAAAAABAhAx/9oACAEBAAEFAk7joz//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAVEAEBAAAAAAAAAAAAAAAAAAAQAf/aAAgBAQAGPwJr/8QAHBAAAgICAwAAAAAAAAAAAAAAAAERMRBRIXGR/9oACAEBAAE/IeRpwKVqzzE32XP/2gAMAwEAAgADAAAAEDTP/8QAFREBAQAAAAAAAAAAAAAAAAAAABH/2gAIAQMBAT8QV//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EABwQAQACAgMBAAAAAAAAAAAAAAEAEUGxITGRwf/aAAgBAQABPxBEWt0AdxWUEi0z7nO/DPhuaZ//2Q==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/93f78654fba2229b6f46f4f17b49c028/828fb/1.jpg&quot;
        srcset=&quot;/blog/static/93f78654fba2229b6f46f4f17b49c028/ff44c/1.jpg 158w,
/blog/static/93f78654fba2229b6f46f4f17b49c028/a6688/1.jpg 315w,
/blog/static/93f78654fba2229b6f46f4f17b49c028/828fb/1.jpg 630w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
æˆ‘ä»¬åŒå‡»æ‰“å¼€æ–‡ä»¶â€œ3-åº•å±‚é©±åŠ¨ä»£ç å‚è€ƒâ€æ–‡ä»¶ï¼Œå°†å¾—åˆ°ä»¥ä¸‹ &lt;code class=&quot;language-text&quot;&gt;.c&lt;/code&gt; å’Œ &lt;code class=&quot;language-text&quot;&gt;.h&lt;/code&gt; æ–‡ä»¶ã€‚æ¥ä¸‹æ¥å°† &lt;code class=&quot;language-text&quot;&gt;ds1302.c&lt;/code&gt; å’Œ &lt;code class=&quot;language-text&quot;&gt;ds1302.h&lt;/code&gt; æ–‡ä»¶æ‹·è´åˆ°å·¥ç¨‹æ‰€åœ¨æ–‡ä»¶å¤¹ä¸­ï¼Œå¹¶åœ¨ç¼–è¯‘å™¨ä¸­å°†è¿™ä¸¤ä¸ªæ–‡ä»¶å¯¼å…¥ï¼Œä¾¿å¯ä»¥å¼€å§‹ç¼–å†™ç¨‹åºäº†ã€‚
![[Pasted image 20231013184631.png]]&lt;/p&gt;
&lt;h3&gt;2ã€DS1302é©±åŠ¨å‡½æ•°&lt;/h3&gt;
&lt;p&gt;é¦–å…ˆï¼Œåœ¨ç¼–å†™é©±åŠ¨å‡½æ•°ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦åœ¨åº•å±‚é©±åŠ¨ä»£ç &lt;code class=&quot;language-text&quot;&gt;ds1302.c&lt;/code&gt;æ–‡ä»¶ä¸­ç¼–å†™ &lt;strong&gt;æ—¶é—´è¯»å†™å‡½æ•°&lt;/strong&gt;ã€‚æˆ‘ä»¬å¯ä»¥æ‰“å¼€èµ›ç‚¹èµ„æºæ•°æ®åŒ…ä¸­çš„æ–‡ä»¶â€œ5-ç«èµ›æ¿èŠ¯ç‰‡èµ„æ–™â€ã€‚&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/e5f3caa93863fbe80e44f65abed177c5/f7974/2.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 47.46835443037975%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAJABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAIBBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAezc2aD/xAAYEAACAwAAAAAAAAAAAAAAAAACEBEhMv/aAAgBAQABBQKbQ6X/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAUEAEAAAAAAAAAAAAAAAAAAAAg/9oACAEBAAY/Al//xAAbEAACAwADAAAAAAAAAAAAAAAAARExUSFxof/aAAgBAQABPyFPJRwS8JeelhvY7P/aAAwDAQACAAMAAAAQpB//xAAVEQEBAAAAAAAAAAAAAAAAAAAAEf/aAAgBAwEBPxCq/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAGxABAQEAAgMAAAAAAAAAAAAAAREAEFFhobH/2gAIAQEAAT8QKwsECYGwhe94memZ+HB//9k=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/e5f3caa93863fbe80e44f65abed177c5/828fb/2.jpg&quot;
        srcset=&quot;/blog/static/e5f3caa93863fbe80e44f65abed177c5/ff44c/2.jpg 158w,
/blog/static/e5f3caa93863fbe80e44f65abed177c5/a6688/2.jpg 315w,
/blog/static/e5f3caa93863fbe80e44f65abed177c5/828fb/2.jpg 630w,
/blog/static/e5f3caa93863fbe80e44f65abed177c5/0ede0/2.jpg 945w,
/blog/static/e5f3caa93863fbe80e44f65abed177c5/f7974/2.jpg 1097w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;æ‰“å¼€â€œDS1302â€èŠ¯ç‰‡æ‰‹å†Œã€‚ç¬”è€…å°†å€ŸåŠ©èŠ¯ç‰‡æ‰‹å†Œä¸­çš„èµ„æ–™ç¼–å†™æ¸©åº¦è¯»å–å‡½æ•°å¹¶ä¸ºå¤§å®¶è®²è§£ã€‚
![[Pasted image 20231013185402.png]]&lt;/p&gt;
&lt;p&gt;æ—¶é—´å†™å‡½æ•°ï¼šç¼–å†™æ—¶é—´å†™å‡½æ•°ï¼Œå³è®¾ç½®æ—¶é—´æ¨¡å—çš„åˆå§‹æ—¶é—´å‡½æ•°ã€‚æˆ‘ä»¬åªéœ€è¦é€šè¿‡è°ƒç”¨åº•å±‚é©±åŠ¨å‡½æ•°ä¸­çš„ ds1302 å†™å…¥å­—èŠ‚å‡½æ•°ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// æ—¶é—´å†™å‡½æ•°&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;DS1302_write&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;unsigned&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;time_tab&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token function&quot;&gt;Write_Ds1302_Byte&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x8e&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;                                      &lt;span class=&quot;token comment&quot;&gt;// å†™å¼€å§‹åˆå§‹åŒ–å‡½æ•°&lt;/span&gt;
	&lt;span class=&quot;token function&quot;&gt;Write_Ds1302_Byte&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x84&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;time_tab&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;time_tab&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;      &lt;span class=&quot;token comment&quot;&gt;// æ—¶ï¼ˆåè¿›åˆ¶-&gt;åå…­è¿›åˆ¶ï¼‰&lt;/span&gt;
	&lt;span class=&quot;token function&quot;&gt;Write_Ds1302_Byte&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x82&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;time_tab&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;time_tab&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;      &lt;span class=&quot;token comment&quot;&gt;// åˆ†ï¼ˆåè¿›åˆ¶-&gt;åå…­è¿›åˆ¶ï¼‰&lt;/span&gt;
	&lt;span class=&quot;token function&quot;&gt;Write_Ds1302_Byte&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x80&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;time_tab&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;time_tab&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;      &lt;span class=&quot;token comment&quot;&gt;// ç§’ï¼ˆåè¿›åˆ¶-&gt;åå…­è¿›åˆ¶ï¼‰&lt;/span&gt;
	&lt;span class=&quot;token function&quot;&gt;Write_Ds1302_Byte&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x8e&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x80&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;                                      &lt;span class=&quot;token comment&quot;&gt;// å†™ç»“æŸåˆå§‹åŒ–å‡½æ•°&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;å…¶ä¸­ï¼Œåœ¨ç¼–å†™æ—¶é—´å†™å‡½æ•°æŒ‡ä»¤å¯é€šè¿‡æŸ¥é˜…èŠ¯ç‰‡èµ„æ–™æ‰‹å†Œï¼Œä¸éœ€è¦æ­»è®°ç¡¬èƒŒã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åœ°å€ 0x8e å³ä¸ºå†™åˆå§‹åŒ–åœ°å€&lt;/li&gt;
&lt;li&gt;åœ°å€ 0x84ã€0x82ã€0x80 åˆ†åˆ«å¯¹åº” æ—¶ã€åˆ†ã€ç§’ çš„å†™å…¥åœ°å€&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;![[Pasted image 20231013190031.png]]&lt;/p&gt;
&lt;p&gt;æ—¶é—´è¯»å‡½æ•°ï¼šç¼–å†™æ—¶é—´è¯»å‡½æ•°ï¼Œå³ä»æ—¶é—´æ¨¡å—ä¸­å¾—åˆ°å½“å‰æ—¶é—´ã€‚æˆ‘ä»¬åªéœ€è¦é€šè¿‡è°ƒç”¨åº•å±‚é©±åŠ¨å‡½æ•°ä¸­çš„ds1302è¯»å–å­—èŠ‚å‡½æ•°ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// æ—¶é—´è¯»å‡½æ•°&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;unsigned&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;char&lt;/span&gt; hour&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;minute&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;second&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;       &lt;span class=&quot;token comment&quot;&gt;// è®¾ç½®å…¨å±€å˜é‡&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;DS1302_read&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	hour &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Read_Ds1302_Byte&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x85&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;      &lt;span class=&quot;token comment&quot;&gt;// è¯»å– - æ—¶ï¼ˆä»æŒ‡å®šåœ°å€è¯»å–ï¼‰&lt;/span&gt;
	minute &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Read_Ds1302_Byte&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x83&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;    &lt;span class=&quot;token comment&quot;&gt;// è¯»å– - åˆ†ï¼ˆä»æŒ‡å®šåœ°å€è¯»å–ï¼‰&lt;/span&gt;
	second &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Read_Ds1302_Byte&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x81&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;    &lt;span class=&quot;token comment&quot;&gt;// è¯»å– - ç§’ï¼ˆä»æŒ‡å®šåœ°å€è¯»å–ï¼‰&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;åŒæ ·å¯ä»¥æŸ¥é˜…ä¸Šè¿°èŠ¯ç‰‡èµ„æ–™æ‰‹å†Œï¼Œä¸éœ€è¦æ­»è®°ç¡¬èƒŒï¼Œæ­¤å¤„å°†ä¸å†èµ˜è¿°ã€‚
![[Pasted image 20231013190436.png]]&lt;/p&gt;
&lt;p&gt;åœ¨ç¼–å†™å®Œæ—¶é—´è¯»å†™å‡½æ•°ååŠ¡å¿…è¦åœ¨ &lt;code class=&quot;language-text&quot;&gt;ds1302.h&lt;/code&gt; æ–‡ä»¶ä¸­å£°æ˜å‡½æ•°ï¼Œæ‰å¯åœ¨ä¸»å‡½æ•°ä¸­è°ƒç”¨ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;ifndef&lt;/span&gt; &lt;span class=&quot;token expression&quot;&gt;__DS1302_H&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;define&lt;/span&gt; &lt;span class=&quot;token macro-name&quot;&gt;__DS1302_H&lt;/span&gt;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;DS1302_write&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;unsigned&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;time_tab&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;DS1302_read&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;extern&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;unsigned&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;char&lt;/span&gt; hour&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;minute&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;second&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;      &lt;span class=&quot;token comment&quot;&gt;// å…¨å±€å˜é‡å­˜å‚¨ æ—¶ã€åˆ†ã€ç§’&lt;/span&gt;

&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;endif&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;3ã€ä¸»å‡½æ•°è°ƒç”¨&lt;/h3&gt;
&lt;p&gt;åœ¨ä¸»å‡½æ•°ä¸­è°ƒç”¨æ—¶é—´æ¨¡å—åº•å±‚å‡½æ•°ï¼Œé¦–å…ˆéœ€è¦åœ¨ä¸»å‡½æ•°å¼€å¤´åŒ…å«é©±åŠ¨ ds1302 å¤´æ–‡ä»¶ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;STC15F2K60S2.h&quot;&lt;/span&gt;   &lt;span class=&quot;token comment&quot;&gt;//å¤´æ–‡ä»¶&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;ds1302.h&quot;&lt;/span&gt;        &lt;span class=&quot;token comment&quot;&gt;//åŒ…å«DS18B20é©±åŠ¨å¤´æ–‡ä»¶&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;é™¤æ­¤ä¹‹å¤–ï¼Œç¬”è€…å°†ä¸ªä½æ•°åçš„å°æ•°ç‚¹æ˜¾ç¤ºå‡ºæ¥ï¼Œé‡‡å–çš„æ–¹æ³•æ˜¯åœ¨å®šä¹‰ tab æ•°ç»„æ—¶ï¼Œåœ¨åé¢å†å®šä¹‰åä¸ªå°æ•°ç‚¹ç‚¹äº®çš„æ•°ï¼Œå³é€šè¿‡å°† 0~9 å¯¹åº”çš„é«˜å…«ä½å‡å» 8ï¼Œå³å¯ç‚¹äº®å°æ•°ç‚¹ dp ä½ã€‚å†åœ¨æ•°ç ç®¡æ˜¾ç¤ºçš„ç¼“å†²åŒºä¸ŠåŠ ä¸Š 11ï¼Œå³å¯æ˜¾ç¤ºå¸¦å°æ•°ç‚¹çš„æ•°å­—ï¼ˆä¸ä¸Šæ–‡ä¸€è‡´ï¼Œä¸‹æ–‡å°†ä¸å†ç»§ç»­èµ˜è¿°ï¼‰ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;u8 code tab&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xc0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xf9&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xa4&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xb0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x99&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x92&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x82&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xf8&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x80&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x90&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xff&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x40&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x79&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x24&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x30&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x19&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x12&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x02&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x78&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;   &lt;span class=&quot;token comment&quot;&gt;//å®šä¹‰æ•°ç»„å­˜æ”¾æ•°ç ç®¡æ•°å­—çŠ¶æ€&lt;/span&gt;
		       &lt;span class=&quot;token comment&quot;&gt;//  0 ,  1 ,  2 ,  3 ,  4 ,  5 ,  6 ,  7 ,  8 ,  9 , ç­ , 0. , 1. , 2. , 3. , 4. , 5. , 6. , 7. , 8. , 9. &lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;mainä¸»å‡½æ•°
ä¸»ç¨‹åºè°ƒç”¨æ¯”è¾ƒç®€å•ï¼Œä¸‹æ–‡ä¸­å®ç°äº† &lt;strong&gt;åˆå§‹åŒ– ds1302 æ—¶é’Ÿæ¨¡å—ï¼Œå¹¶é€šè¿‡çŸ©é˜µæŒ‰é”®ä¿®æ”¹å½“å‰çš„æ—¶é—´å€¼ï¼Œå¹¶åœ¨æ•°ç ç®¡ä¸­å®æ—¶æ˜¾ç¤ºæ—¶é—´&lt;/strong&gt;ã€‚ç”±äºè€ƒè™‘åˆå­¦è€…åŸºç¡€è¾ƒä¸ºè–„å¼±ï¼Œå› æ­¤å°†å®Œæ•´çš„ main.cpp ä»£ç è´´å‡ºæ¥ï¼ŒåŒ…å«ä¸­æ–­å‡½æ•°ã€çŸ©é˜µé”®ç›˜ã€æ•°ç ç®¡æ˜¾ç¤ºç­‰ï¼Œå¹¶ä¸”åœ¨å…³é”®å¤„è¿›è¡Œäº†æ³¨é‡Šï¼Œå¸Œæœ›å¯¹å¤§å®¶æœ‰æ‰€å¸®åŠ©ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// åŒ…å«å¤´æ–‡ä»¶&lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;STC15F2K60S2.h&quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;ds1302.h&quot;&lt;/span&gt;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// æ•°æ®ç±»å‹å®šä¹‰&lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;define&lt;/span&gt; &lt;span class=&quot;token macro-name&quot;&gt;u8&lt;/span&gt; &lt;span class=&quot;token expression&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;unsigned&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;char&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;define&lt;/span&gt; &lt;span class=&quot;token macro-name&quot;&gt;u16&lt;/span&gt; &lt;span class=&quot;token expression&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;unsigned&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// 8ä½æ•°ç ç®¡çŠ¶æ€&lt;/span&gt;
u8 dspbuf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
u8 code tab&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xc0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xf9&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xa4&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xb0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x99&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x92&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x82&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xf8&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x80&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x90&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xff&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x40&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x79&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x24&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x30&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x19&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x12&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x02&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x78&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x89&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xc1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xbf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	             &lt;span class=&quot;token comment&quot;&gt;//  0 ,  1 ,  2 ,  3 ,  4 ,  5 ,  6 ,  7 ,  8 ,  9 , ç­ , 0. , 1. , 2. , 3. , 4. , 5. , 6. , 7. , 8. , 9. ,  H ,  U ,  -  ; &lt;/span&gt;
u8 time_tab&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;23&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;59&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;50&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;           &lt;span class=&quot;token comment&quot;&gt;// åˆå§‹åŒ–æ—¶é—´æ•°ç»„&lt;/span&gt;
u8 dspcom &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
bit clock_flag &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;key_flag &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;       &lt;span class=&quot;token comment&quot;&gt;// æ ‡æ³¨ä½&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// ä¸­æ–­å‡½æ•°&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Timer0Init&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;		&lt;span class=&quot;token comment&quot;&gt;//2æ¯«ç§’@12.000MHz&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	AUXR &lt;span class=&quot;token operator&quot;&gt;|=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0x80&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;		&lt;span class=&quot;token comment&quot;&gt;//å®šæ—¶å™¨æ—¶é’Ÿ1Tæ¨¡å¼&lt;/span&gt;
	TMOD &lt;span class=&quot;token operator&quot;&gt;&amp;amp;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0xF0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;		&lt;span class=&quot;token comment&quot;&gt;//è®¾ç½®å®šæ—¶å™¨æ¨¡å¼&lt;/span&gt;
	TL0 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0x40&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;		&lt;span class=&quot;token comment&quot;&gt;//è®¾ç½®å®šæ—¶åˆå€¼&lt;/span&gt;
	TH0 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0xA2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;		&lt;span class=&quot;token comment&quot;&gt;//è®¾ç½®å®šæ—¶åˆå€¼&lt;/span&gt;
	TF0 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;		&lt;span class=&quot;token comment&quot;&gt;//æ¸…é™¤TF0æ ‡å¿—&lt;/span&gt;
	TR0 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;		&lt;span class=&quot;token comment&quot;&gt;//å®šæ—¶å™¨0å¼€å§‹è®¡æ—¶&lt;/span&gt;
	
	ET0 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;		&lt;span class=&quot;token comment&quot;&gt;//å¼€å®šæ—¶ä¸­æ–­&lt;/span&gt;
	EA&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;			&lt;span class=&quot;token comment&quot;&gt;//å¼€æ€»ä¸­æ–­&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// 573é”å­˜å™¨å°è£…æˆå‡½æ•°&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;door&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;u8 choose&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;u8 input&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;	   
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	P2 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;P2 &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0x1f&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; choose&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	P0 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; input&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	P2 &lt;span class=&quot;token operator&quot;&gt;&amp;amp;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0x1f&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;	
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// å…³æ•°ç ç®¡&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;clo_num&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;        
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	dspbuf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	dspbuf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	dspbuf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	dspbuf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	dspbuf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	dspbuf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	dspbuf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	dspbuf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// åˆå§‹åŒ–ï¼Œå…³ç¯ã€èœ‚é¸£å™¨ã€æ•°ç ç®¡&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;all_init&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;	     
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
 	&lt;span class=&quot;token function&quot;&gt;door&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x80&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xff&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token function&quot;&gt;door&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xa0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xaf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token function&quot;&gt;clo_num&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// æ•°ç ç®¡æ˜¾ç¤ºå‡½æ•°&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;display&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;		
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;			  
	&lt;span class=&quot;token function&quot;&gt;door&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xe0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xff&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;		&lt;span class=&quot;token comment&quot;&gt;//æ¶ˆéš&lt;/span&gt;

	&lt;span class=&quot;token function&quot;&gt;door&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xc0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x01&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt;dspcom&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token function&quot;&gt;door&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xe0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;tab&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;dspbuf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;dspcom&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	
	&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;dspcom &lt;span class=&quot;token operator&quot;&gt;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;     &lt;span class=&quot;token comment&quot;&gt;//or dspcom &amp;amp;= 0x07;&lt;/span&gt;
		dspcom &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// çŸ©é˜µé”®ç›˜ï¼Œæ¥KBD&lt;/span&gt;
u8 keypress &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;keyvalue &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0xff&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;keyread &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
u8 &lt;span class=&quot;token function&quot;&gt;Read_key&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;		                              	
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    u8 key_m&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;cal&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    
    P3 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0xf0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;P42&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;P44&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  	P36&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;P42&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;P37&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;P44&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;			   &lt;span class=&quot;token comment&quot;&gt;//å˜é‡æ›¿æ¢&lt;/span&gt;
    key_m &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;P3 &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0xf0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;key_m &lt;span class=&quot;token operator&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0xf0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; 
        keypress&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
   &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt;
        keypress &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; 
    
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;keypress &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		  keypress &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	  	keyread &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		  &lt;span class=&quot;token keyword&quot;&gt;switch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;key_m&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0x70&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;cal &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;                
            &lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0xb0&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;cal &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;    
            &lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0xd0&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;cal &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;    
            &lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0xe0&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;cal &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        
        P3 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0x0f&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;P42&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;P44&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
				P36&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;P42&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;P37&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;P44&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;			   &lt;span class=&quot;token comment&quot;&gt;//å˜é‡æ›¿æ¢&lt;/span&gt;
        key_m &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;P3 &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0x0f&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        
			&lt;span class=&quot;token keyword&quot;&gt;switch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;key_m&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
					&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
							&lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0x0e&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;keyvalue &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;cal&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;                
							&lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0x0d&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;keyvalue &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;cal&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;    
							&lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0x0b&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;keyvalue &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;cal&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;    
							&lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0x07&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;keyvalue &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;cal&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
					&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    P3 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0x0f&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;P42&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;P44&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		P36&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;P42&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;P37&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;P44&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;			                &lt;span class=&quot;token comment&quot;&gt;//å˜é‡æ›¿æ¢&lt;/span&gt;
    key_m &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;P3&lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x0f&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;keyread &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;key_m &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0x0f&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;        &lt;span class=&quot;token comment&quot;&gt;//æ¾æ‰‹æ£€æµ‹&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        keyread &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; keyvalue&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;	
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0xff&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;//````````````````````````````````ä¸»å‡½æ•°````````````````````````````````````&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;		
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    u8 key_re&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;clock_w&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token comment&quot;&gt;// åˆå§‹åŒ–&lt;/span&gt;
	&lt;span class=&quot;token function&quot;&gt;all_init&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token comment&quot;&gt;// ä¸­æ–­åˆå§‹åŒ–&lt;/span&gt;
	&lt;span class=&quot;token function&quot;&gt;Timer0Init&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token comment&quot;&gt;// DS1302åˆå§‹åŒ–&lt;/span&gt;
	&lt;span class=&quot;token function&quot;&gt;DS1302_write&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;time_tab&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	
 	&lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;key_flag&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
		&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
			key_flag &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
			key_re &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Read_key&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
			
			&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;key_re &lt;span class=&quot;token operator&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0xff&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
			&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
				&lt;span class=&quot;token keyword&quot;&gt;switch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;key_re&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
				&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
					&lt;span class=&quot;token comment&quot;&gt;// æŒ‰é”®è°ƒæ•´ æ—¶&lt;/span&gt;
					&lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;13&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;time_tab&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
					        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;time_tab&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;24&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
										time_tab&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
									&lt;span class=&quot;token function&quot;&gt;DS1302_write&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;time_tab&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
					&lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;time_tab&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
					        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;time_tab&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
										time_tab&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;23&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
									&lt;span class=&quot;token function&quot;&gt;DS1302_write&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;time_tab&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
					&lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
				&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
			&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
		&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
		&lt;span class=&quot;token comment&quot;&gt;// å®æ—¶æ›´æ–°å½“å‰æ—¶é—´å¹¶å­˜å…¥ time_tab ,ç”¨äºæŒ‰é”®è°ƒæ•´æ—¶é—´æ—¶ä¿®æ”¹&lt;/span&gt;
		&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;clock_flag&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;clock_w&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
		&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
			clock_flag &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
			&lt;span class=&quot;token function&quot;&gt;DS1302_read&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
			
			dspbuf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; hour&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;16&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
			dspbuf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; hour&lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;16&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
			dspbuf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;23&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
			dspbuf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; minute&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;16&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
			dspbuf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; minute&lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;16&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
			dspbuf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;23&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
			dspbuf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; second&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;16&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
			dspbuf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; second&lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;16&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
			
			time_tab&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; hour&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;16&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;hour&lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;16&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
			time_tab&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; minute&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;16&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;minute&lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;16&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
			time_tab&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; second&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;16&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;second&lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;16&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// ä¸­æ–­æœåŠ¡å‡½æ•°&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;timer0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; interrupt &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; u8  t_20ms &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;t_50ms &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;   &lt;span class=&quot;token comment&quot;&gt;//MAX = 500 ms&lt;/span&gt;

	&lt;span class=&quot;token comment&quot;&gt;//ä¸éœ€è¦é‡è½½è£…è½½å€¼&lt;/span&gt;
	
	&lt;span class=&quot;token function&quot;&gt;display&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;		&lt;span class=&quot;token comment&quot;&gt;//æ•°ç ç®¡æ˜¾ç¤ºå‡½æ•°æ”¾é‡Œé¢&lt;/span&gt;

	t_20ms&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	t_50ms&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

	&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;t_20ms &lt;span class=&quot;token operator&quot;&gt;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;	&lt;span class=&quot;token comment&quot;&gt;//æ¯20msæ‰«æä¸€æ¬¡æŒ‰é”®&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		t_20ms &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		key_flag &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

	&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;t_50ms &lt;span class=&quot;token operator&quot;&gt;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;25&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	    t_50ms &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		clock_flag &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;è‡³æ­¤ï¼Œæœ¬æ¬¡ DS1302 æ—¶é’Ÿç¨‹åºå·²ç¼–å†™å®Œæ¯•ã€‚&lt;/p&gt;</content:encoded></item><item><title><![CDATA[è“æ¡¥æ¯å•ç‰‡æœºè®¾è®¡ä¸å¼€å‘_åŸºç¡€æ¨¡å—_DS18B20]]></title><description><![CDATA[Githubä»£ç ä»“åº“é“¾æ¥ ä¸€ã€å‰è¨€ ä»ä»Šå¤©å¼€å§‹ï¼Œç¬”è€…å°†å‘å¤§å®¶é€ä¸€è®²è§£è“æ¡¥æ¯çš„å¤§éƒ¨åˆ†ç«èµ›æ¨¡å—ï¼Œç¬”è€…å°†åŸºäºä¸Šä¸€ç¯‡æ–‡ç« ï¼ˆè“æ¡¥æ¯å•ç‰‡æœºè®¾è®¡ä¸å¼€å‘_æ ‡å‡†æ¨¡æ¿ï¼‰ä¸­è®²è§£çš„æ ‡å‡†æ¨¡æ¿ç¼–å†™ç¨‹åºã€‚æŒ‰ç…§é¡ºåºï¼ˆDS18B20ã€DS1302ã€PCF8591ã€AT24C02ã€PWMã€ä¸²å£é€šä¿¡ã€NE55â€¦]]></description><link>https://gatsbystarterblogsource.gatsbyjs.io/002_Lanqiaobei/</link><guid isPermaLink="false">https://gatsbystarterblogsource.gatsbyjs.io/002_Lanqiaobei/</guid><pubDate>Wed, 12 May 2021 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;a href=&quot;https://github.com/Joker001014/LanQiaoCup&quot;&gt;Githubä»£ç ä»“åº“é“¾æ¥&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;ä¸€ã€å‰è¨€&lt;/h2&gt;
&lt;p&gt;ä»ä»Šå¤©å¼€å§‹ï¼Œç¬”è€…å°†å‘å¤§å®¶é€ä¸€è®²è§£è“æ¡¥æ¯çš„å¤§éƒ¨åˆ†ç«èµ›æ¨¡å—ï¼Œç¬”è€…å°†åŸºäºä¸Šä¸€ç¯‡æ–‡ç« ï¼ˆ&lt;a href=&quot;https://joker001014.github.io/blog/001_Lanqiaobei&quot;&gt;è“æ¡¥æ¯å•ç‰‡æœºè®¾è®¡ä¸å¼€å‘_æ ‡å‡†æ¨¡æ¿&lt;/a&gt;ï¼‰ä¸­è®²è§£çš„æ ‡å‡†æ¨¡æ¿ç¼–å†™ç¨‹åºã€‚æŒ‰ç…§é¡ºåºï¼ˆDS18B20ã€DS1302ã€PCF8591ã€AT24C02ã€PWMã€ä¸²å£é€šä¿¡ã€NE555ä»¥åŠè¶…å£°æ³¢æµ‹è·ï¼‰ï¼Œä¸ºå¤§å®¶åšå‡ºè¯¦ç»†ç¼–ç¨‹æŒ‡å¯¼ã€‚&lt;/p&gt;
&lt;h2&gt;äºŒã€DS18B20 æ¸©åº¦ä¼ æ„Ÿå™¨&lt;/h2&gt;
&lt;p&gt;DS18B20 åˆå«æ¸©åº¦ä¼ æ„Ÿå™¨ã€‚ç¬”è€…å°†åŸºäºè“æ¡¥æ¯å®˜æ–¹ç»™çš„èµ›ç‚¹èµ„æºåŒ…ï¼ˆ&lt;a href=&quot;https://github.com/Joker001014/LanQiaoCup/tree/main/%E8%B5%9B%E7%82%B9%E8%B5%84%E6%BA%90%E6%95%B0%E6%8D%AE%E5%8C%85_SCM&quot;&gt;è“æ¡¥æ¯å•ç‰‡æœºè®¾è®¡ä¸å¼€å‘_èµ›ç‚¹èµ„æºæ•°æ®åŒ…&lt;/a&gt;ï¼‰è¿›è¡Œç¼–ç¨‹ï¼Œä¸ºå¤§å®¶è®²è§£ç¼–ç¨‹è°ƒç”¨å„è¯­å¥çš„å«ä¹‰ï¼Œå¸®åŠ©å¤§å®¶ç¼–å†™æ¸©åº¦ä¼ æ„Ÿå™¨çš„ç¨‹åºï¼Œä¹Ÿä¾¿äºå¤§å®¶è®°å¿†ã€‚&lt;/p&gt;
&lt;h3&gt;1ã€å¯¼å…¥åº•å±‚é©±åŠ¨ä»£ç &lt;/h3&gt;
&lt;p&gt;é¦–å…ˆï¼Œåˆ›å»ºå·¥ç¨‹å’Œå¯¼å…¥.cæ–‡ä»¶ç¬”è€…å·²åœ¨ä¸ŠèŠ‚æ–‡ç« ä¸­å‘å¤§å®¶è¯¦ç»†ä»‹ç»äº†ï¼Œè¿™é‡Œå°±ä¸å†èµ˜è¿°ã€‚
è¯»è€…å¯ä¸‹è½½&lt;code class=&quot;language-text&quot;&gt;èµ›ç‚¹èµ„æºåŒ…&lt;/code&gt;ï¼Œè§£å‹åå¯å¾—åˆ°ä»¥ä¸‹å›¾ç‰‡æ‰€ç¤ºæ–‡ä»¶ã€‚
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/93f78654fba2229b6f46f4f17b49c028/828fb/1.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 48.734177215189874%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAKABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAgAF/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEAMQAAAB2kUKMf/EABgQAAIDAAAAAAAAAAAAAAAAAAABAhAx/9oACAEBAAEFAk7joz//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAVEAEBAAAAAAAAAAAAAAAAAAAQAf/aAAgBAQAGPwJr/8QAHBAAAgICAwAAAAAAAAAAAAAAAAERMRBRIXGR/9oACAEBAAE/IeRpwKVqzzE32XP/2gAMAwEAAgADAAAAEDTP/8QAFREBAQAAAAAAAAAAAAAAAAAAABH/2gAIAQMBAT8QV//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EABwQAQACAgMBAAAAAAAAAAAAAAEAEUGxITGRwf/aAAgBAQABPxBEWt0AdxWUEi0z7nO/DPhuaZ//2Q==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/93f78654fba2229b6f46f4f17b49c028/828fb/1.jpg&quot;
        srcset=&quot;/blog/static/93f78654fba2229b6f46f4f17b49c028/ff44c/1.jpg 158w,
/blog/static/93f78654fba2229b6f46f4f17b49c028/a6688/1.jpg 315w,
/blog/static/93f78654fba2229b6f46f4f17b49c028/828fb/1.jpg 630w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
æˆ‘ä»¬åŒå‡»æ‰“å¼€æ–‡ä»¶â€œ3-åº•å±‚é©±åŠ¨ä»£ç å‚è€ƒâ€æ–‡ä»¶ï¼Œå°†å¾—åˆ°ä»¥ä¸‹.c.hæ–‡ä»¶ã€‚æ¥ä¸‹æ¥å°†åŒ…å«DS18B20 çš„æ–‡ä»¶onewire.c å’Œ onewire.h æ–‡ä»¶æ‹·è´åˆ°å·¥ç¨‹æ‰€åœ¨æ–‡ä»¶å¤¹ä¸­ã€‚
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 609px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/978b4704777367f0ced38f8447c542f4/51891/2.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 26.58227848101266%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAFABQDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAX/xAAVAQEBAAAAAAAAAAAAAAAAAAABAP/aAAwDAQACEAMQAAABtgQn/8QAFRABAQAAAAAAAAAAAAAAAAAAARD/2gAIAQEAAQUCG//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABQQAQAAAAAAAAAAAAAAAAAAABD/2gAIAQEABj8Cf//EABgQAAIDAAAAAAAAAAAAAAAAAAABESEx/9oACAEBAAE/IaidG2f/2gAMAwEAAgADAAAAEP8A7//EABYRAAMAAAAAAAAAAAAAAAAAAAABEf/aAAgBAwEBPxCIiP/EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EABoQAAMAAwEAAAAAAAAAAAAAAAABESFBUZH/2gAIAQEAAT8QdS44X6LlnR//2Q==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/978b4704777367f0ced38f8447c542f4/51891/2.jpg&quot;
        srcset=&quot;/blog/static/978b4704777367f0ced38f8447c542f4/ff44c/2.jpg 158w,
/blog/static/978b4704777367f0ced38f8447c542f4/a6688/2.jpg 315w,
/blog/static/978b4704777367f0ced38f8447c542f4/51891/2.jpg 609w&quot;
        sizes=&quot;(max-width: 609px) 100vw, 609px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
ç„¶ååŒå‡»å·¥ç¨‹ä¸­ Source Group 1ï¼Œå°†è¿™ä¸¤ä¸ªæ–‡ä»¶å¯¼å…¥ï¼Œä¾¿å¯ä»¥å¼€å§‹ç¼–å†™ç¨‹åºäº†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 243px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/b96066340e660a5aa0bd0c52120cb54f/3f316/3.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 65.82278481012659%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAgADBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAeytCGcf/8QAGRAAAgMBAAAAAAAAAAAAAAAAABEBAhAS/9oACAEBAAEFAuUQiaVxZ//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABYQAQEBAAAAAAAAAAAAAAAAADEAEP/aAAgBAQAGPwKIxz//xAAYEAEBAQEBAAAAAAAAAAAAAAABABExcf/aAAgBAQABPyFHBBzRxZpCGPt//9oADAMBAAIAAwAAABDAH//EABYRAQEBAAAAAAAAAAAAAAAAAAABEf/aAAgBAwEBPxBtf//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EABkQAQADAQEAAAAAAAAAAAAAAAEAESFB0f/aAAgBAQABPxAizB2Uhp61EWWY4XpHTZHlQN+J/9k=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/b96066340e660a5aa0bd0c52120cb54f/3f316/3.jpg&quot;
        srcset=&quot;/blog/static/b96066340e660a5aa0bd0c52120cb54f/ff44c/3.jpg 158w,
/blog/static/b96066340e660a5aa0bd0c52120cb54f/3f316/3.jpg 243w&quot;
        sizes=&quot;(max-width: 243px) 100vw, 243px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h3&gt;2ã€DS18B20é©±åŠ¨å‡½æ•°&lt;/h3&gt;
&lt;p&gt;é¦–å…ˆï¼Œåœ¨ç¼–å†™é©±åŠ¨å‡½æ•°ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å¯¹åº•å±‚é©±åŠ¨ä»£ç  onewire.c ä¸­çš„å»¶è¿Ÿå‡½æ•° Delay_OneWire() åšå‡ºä¿®æ”¹ï¼Œå°†å»¶è¿Ÿæ—¶é—´å¢å¤§ 12 å€ï¼ã€‚å› ä¸ºæ¯”èµ›ä½¿ç”¨çš„IAP15ç³»åˆ—å•ç‰‡æœºé€Ÿåº¦æ¯”STC89C52ç³»åˆ—å•ç‰‡æœºé€Ÿåº¦å¿«12å€ï¼Œå¦‚æœä¸æ”¹æ—¶åºä¸Šå°†å‡ºç°é—®é¢˜ï¼Œæ— æ³•æ­£å¸¸è¯»å–æ¸©åº¦ã€‚
ç¬”è€…é‡‡ç”¨ä¸€ä¸ª for å¾ªç¯ï¼Œåœ¨ while å¾ªç¯ä¸­é‡å¤å¾ªç¯ 12 æ¬¡ï¼Œè¾¾åˆ°å»¶è¿Ÿæ•ˆæœã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Delay_OneWire&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;u16 t&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;token comment&quot;&gt;//STC89C52RC&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	u8 num&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;                             &lt;span class=&quot;token comment&quot;&gt;//å®šä¹‰è®¡æ•°å˜é‡&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;t&lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
		&lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;num &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;num &lt;span class=&quot;token operator&quot;&gt;&amp;lt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;num&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;     &lt;span class=&quot;token comment&quot;&gt;//å»¶è¿Ÿæ—¶é•¿æ‰©å¤§12å€&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;æ¥ä¸‹æ¥ï¼Œå°±å¼€å§‹åœ¨ onewire.c æ–‡ä»¶ä¸­ç¼–å†™æ¸©åº¦è¯»å–å‡½æ•°ã€‚æˆ‘ä»¬å¯ä»¥æ‰“å¼€èµ›ç‚¹èµ„æºæ•°æ®åŒ…ä¸­çš„æ–‡ä»¶â€œ5-ç«èµ›æ¿èŠ¯ç‰‡èµ„æ–™â€ã€‚&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/e5f3caa93863fbe80e44f65abed177c5/f7974/4.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 47.46835443037975%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAJABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAIBBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAezc2aD/xAAYEAACAwAAAAAAAAAAAAAAAAACEBEhMv/aAAgBAQABBQKbQ6X/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAUEAEAAAAAAAAAAAAAAAAAAAAg/9oACAEBAAY/Al//xAAbEAACAwADAAAAAAAAAAAAAAAAARExUSFxof/aAAgBAQABPyFPJRwS8JeelhvY7P/aAAwDAQACAAMAAAAQpB//xAAVEQEBAAAAAAAAAAAAAAAAAAAAEf/aAAgBAwEBPxCq/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAGxABAQEAAgMAAAAAAAAAAAAAAREAEFFhobH/2gAIAQEAAT8QKwsECYGwhe94memZ+HB//9k=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/e5f3caa93863fbe80e44f65abed177c5/828fb/4.jpg&quot;
        srcset=&quot;/blog/static/e5f3caa93863fbe80e44f65abed177c5/ff44c/4.jpg 158w,
/blog/static/e5f3caa93863fbe80e44f65abed177c5/a6688/4.jpg 315w,
/blog/static/e5f3caa93863fbe80e44f65abed177c5/828fb/4.jpg 630w,
/blog/static/e5f3caa93863fbe80e44f65abed177c5/0ede0/4.jpg 945w,
/blog/static/e5f3caa93863fbe80e44f65abed177c5/f7974/4.jpg 1097w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
æ‰“å¼€â€œDS18B20â€èŠ¯ç‰‡æ‰‹å†Œã€‚ç¬”è€…å°†å€ŸåŠ©èŠ¯ç‰‡æ‰‹å†Œä¸­çš„èµ„æ–™ç¼–å†™æ¸©åº¦è¯»å–å‡½æ•°å¹¶ä¸ºå¤§å®¶è®²è§£ã€‚
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 621px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/c742dcca309e732fbac19186289b909f/a430b/5.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 60.12658227848101%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAMABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAQAF/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEAMQAAAB3CQmP//EABUQAQEAAAAAAAAAAAAAAAAAAAIQ/9oACAEBAAEFAjTf/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAFBABAAAAAAAAAAAAAAAAAAAAIP/aAAgBAQAGPwJf/8QAGhAAAgMBAQAAAAAAAAAAAAAAAAERITGhUf/aAAgBAQABPyGUOul3XRtznTTPR6f/2gAMAwEAAgADAAAAEHfP/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAHRAAAgIBBQAAAAAAAAAAAAAAAAEhMRFBYXGBsf/aAAgBAQABPxCQwlhvDeGlKEk92OuZ5H//2Q==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/c742dcca309e732fbac19186289b909f/a430b/5.jpg&quot;
        srcset=&quot;/blog/static/c742dcca309e732fbac19186289b909f/ff44c/5.jpg 158w,
/blog/static/c742dcca309e732fbac19186289b909f/a6688/5.jpg 315w,
/blog/static/c742dcca309e732fbac19186289b909f/a430b/5.jpg 621w&quot;
        sizes=&quot;(max-width: 621px) 100vw, 621px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
æ¸©åº¦è¯»å–å‡½æ•°ï¼šåœ¨ç¼–å†™æ¸©åº¦è¯»å–å‡½æ•°æ—¶ï¼Œæˆ‘ä»¬åªéœ€è¦é€šè¿‡è°ƒç”¨åº•å±‚é©±åŠ¨å‡½æ•°ä¸­çš„åˆå§‹åŒ–ã€å†™å…¥ã€è¯»å–å‡½æ•°ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;rd_temperature&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;   &lt;span class=&quot;token comment&quot;&gt;//è¯»å–æ¸©åº¦å‡½æ•°&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; temp &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;            &lt;span class=&quot;token comment&quot;&gt;//å®šä¹‰æ¸©åº¦è¯»å–è¿”å›å€¼&lt;/span&gt;
	u8 tmh&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;tml&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;              &lt;span class=&quot;token comment&quot;&gt;//å®šä¹‰æ¸©åº¦è¯»å–é«˜å…«ä½å’Œç¬¬å…«ä½&lt;/span&gt;
	
    &lt;span class=&quot;token function&quot;&gt;init_ds18b20&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;          &lt;span class=&quot;token comment&quot;&gt;//è®¾å¤‡åˆå§‹åŒ–&lt;/span&gt;
	&lt;span class=&quot;token function&quot;&gt;Write_DS18B20&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xcc&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;     &lt;span class=&quot;token comment&quot;&gt;//è·³è¿‡ROMåœ°å€æŒ‡ä»¤&lt;/span&gt;
	&lt;span class=&quot;token function&quot;&gt;Write_DS18B20&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x44&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;     &lt;span class=&quot;token comment&quot;&gt;//å®‰è£…æ¸©åº¦è½¬æ¢æŒ‡ä»¤&lt;/span&gt;
	
	&lt;span class=&quot;token function&quot;&gt;init_ds18b20&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token function&quot;&gt;Write_DS18B20&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xcc&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;     &lt;span class=&quot;token comment&quot;&gt;//è·³è¿‡ROMåœ°å€æŒ‡ä»¤&lt;/span&gt;
	&lt;span class=&quot;token function&quot;&gt;Write_DS18B20&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xbe&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;     &lt;span class=&quot;token comment&quot;&gt;//å®‰è£…æ¸©åº¦è¯»å–æŒ‡ä»¤&lt;/span&gt;
	
	tml&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;Read_DS18B20&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;      &lt;span class=&quot;token comment&quot;&gt;//è¯»å–ä½å…«ä½&lt;/span&gt;
	tmh&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;Read_DS18B20&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;      &lt;span class=&quot;token comment&quot;&gt;//è¯»å–é«˜å…«ä½&lt;/span&gt;
	
	&lt;span class=&quot;token comment&quot;&gt;//å°†æ¸©åº¦é«˜å…«ä½å’Œä½å…«ä½ç»„åˆæˆ16ä½intç±»å‹&lt;/span&gt;
	temp &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; tmh&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	temp &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&amp;lt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	temp &lt;span class=&quot;token operator&quot;&gt;|=&lt;/span&gt; tml&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	
	&lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; temp&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;             &lt;span class=&quot;token comment&quot;&gt;//è¿”å›æ¸©åº¦è¯»å–å€¼&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;å…¶ä¸­ï¼Œåœ¨å†™å…¥å‡½æ•° Write_DS18B20() å†™å…¥çš„æŒ‡ä»¤å¯é€šè¿‡æŸ¥é˜…èŠ¯ç‰‡èµ„æ–™æ‰‹å†Œï¼Œä¸éœ€è¦æ­»è®°ç¡¬èƒŒã€‚
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/3c77557e2d689c8759fc258a1d663899/8b5c7/6.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 45.56962025316456%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAJABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAMCBAX/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEAMQAAAB2F2UxMA//8QAGBAAAwEBAAAAAAAAAAAAAAAAAAFBEBH/2gAIAQEAAQUCZe5Uf//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABgQAAIDAAAAAAAAAAAAAAAAAAAgMUHh/9oACAEBAAY/AsLJT//EABwQAAICAgMAAAAAAAAAAAAAAABBAREQMVFxkf/aAAgBAQABPyGHexbNwRZvMOaH/9oADAMBAAIAAwAAABCs/wD/xAAVEQEBAAAAAAAAAAAAAAAAAAAAEf/aAAgBAwEBPxCq/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAGhABAQEBAAMAAAAAAAAAAAAAAQARMSGhsf/aAAgBAQABPxBMcILHrAuQB4SvJ9zfS//Z&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/3c77557e2d689c8759fc258a1d663899/828fb/6.jpg&quot;
        srcset=&quot;/blog/static/3c77557e2d689c8759fc258a1d663899/ff44c/6.jpg 158w,
/blog/static/3c77557e2d689c8759fc258a1d663899/a6688/6.jpg 315w,
/blog/static/3c77557e2d689c8759fc258a1d663899/828fb/6.jpg 630w,
/blog/static/3c77557e2d689c8759fc258a1d663899/0ede0/6.jpg 945w,
/blog/static/3c77557e2d689c8759fc258a1d663899/8b5c7/6.jpg 1038w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/25111e35947f1035c0e84303d9e78723/69128/7.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 53.79746835443038%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAwABBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAe0LGLbH/8QAGRABAAIDAAAAAAAAAAAAAAAAAAERAhAh/9oACAEBAAEFAqRbrJGv/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAFRABAQAAAAAAAAAAAAAAAAAAEAH/2gAIAQEABj8CY//EABkQAQEBAAMAAAAAAAAAAAAAAAEAITFBcf/aAAgBAQABPyFWYWvEK6sPqOxf/9oADAMBAAIAAwAAABB03//EABURAQEAAAAAAAAAAAAAAAAAAAAR/9oACAEDAQE/EKr/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAcEAEAAwACAwAAAAAAAAAAAAABABEhMUFhkbH/2gAIAQEAAT8Q4TNX7FQqQem4BZ7ZMAy4KzueZs2f/9k=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/25111e35947f1035c0e84303d9e78723/828fb/7.jpg&quot;
        srcset=&quot;/blog/static/25111e35947f1035c0e84303d9e78723/ff44c/7.jpg 158w,
/blog/static/25111e35947f1035c0e84303d9e78723/a6688/7.jpg 315w,
/blog/static/25111e35947f1035c0e84303d9e78723/828fb/7.jpg 630w,
/blog/static/25111e35947f1035c0e84303d9e78723/0ede0/7.jpg 945w,
/blog/static/25111e35947f1035c0e84303d9e78723/69128/7.jpg 1036w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
åœ¨ç¼–å†™å®Œæ¸©åº¦ä¼ æ„Ÿå™¨é©±åŠ¨å‡½æ•°ååŠ¡å¿…è¦åœ¨ onewire.h æ–‡ä»¶ä¸­å£°æ˜å‡½æ•°ï¼Œæ‰å¯åœ¨ä¸»å‡½æ•°ä¸­è°ƒç”¨ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;ifndef&lt;/span&gt; &lt;span class=&quot;token expression&quot;&gt;__ONEWIRE_H&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;define&lt;/span&gt; &lt;span class=&quot;token macro-name&quot;&gt;__ONEWIRE_H&lt;/span&gt;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;rd_temperature&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;      &lt;span class=&quot;token comment&quot;&gt;//å£°æ˜å‡½æ•°&lt;/span&gt;

&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;endif&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;3ã€ä¸»å‡½æ•°è°ƒç”¨&lt;/h3&gt;
&lt;p&gt;åœ¨ä¸»å‡½æ•°ä¸­è°ƒç”¨æ¸©åº¦ä¼ æ„Ÿå™¨é©±åŠ¨å‡½æ•°ï¼Œé¦–å…ˆéœ€è¦åœ¨ä¸»å‡½æ•°å¼€å¤´åŒ…å«é©±åŠ¨ DS18B20 é©±åŠ¨å‡½æ•°çš„å¤´æ–‡ä»¶ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;STC15F2K60S2.h&quot;&lt;/span&gt;   &lt;span class=&quot;token comment&quot;&gt;//å¤´æ–‡ä»¶&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;onewire.h&quot;&lt;/span&gt;        &lt;span class=&quot;token comment&quot;&gt;//åŒ…å«DS18B20é©±åŠ¨å¤´æ–‡ä»¶&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;æ¸©åº¦æ•°å€¼è½¬æ¢å‡½æ•°
ç¼–å†™æ¸©åº¦æ•°æ®è½¬æ¢å‡½æ•°éœ€è¦æ³¨æ„çš„æ˜¯ï¼šè¯»å–æ¸©åº¦æ•°å€¼éœ€è¦å†ä¹˜ä»¥ 0.0625 è½¬æ¢æˆåè¿›åˆ¶æ¸©åº¦å€¼ã€‚ç¬”è€…å°†è¯»å–æ¸©åº¦å€¼è¯»å–åˆ°å°æ•°ç‚¹åå››ä½ï¼Œé‡‡ç”¨çš„æ–¹æ³•æ˜¯å°†ä¹˜ä»¥ 0.0625 åçš„æ•°æ®æ”¾å¤§ 10000 å€ï¼Œå†é€šè¿‡å–ä½™é™¤æ•°çš„æ–¹æ³•å¾—åˆ°å„ä½å°æ•°å€¼ã€‚å› æ•°å€¼æ”¾å¤§åˆ°ç™¾ä¸‡çº§åˆ«ï¼Œå› æ­¤éœ€è¦å®šä¹‰é•¿æ•´å‹æ•°å€¼ã€‚
å¾—åˆ°å„ä½æ•°åï¼Œé€šè¿‡æ”¹å˜ç¼“å†²åŒº dspbuf çš„æ•°å€¼ï¼Œåœ¨æ•°ç ç®¡1~7ä¸­æ˜¾ç¤ºè¯»å–åˆ°çš„æ¸©åº¦æ•°å€¼ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;datachange&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;long&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; temp&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;     &lt;span class=&quot;token comment&quot;&gt;//è¯»å–æ¸©åº¦æ•°æ®è½¬æ¢å‡½æ•°&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	temp &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; temp&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0.0625&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;        &lt;span class=&quot;token comment&quot;&gt;//æ”¾å¤§10000å€ï¼Œè¯»å–å°æ•°ç‚¹åå››ä½&lt;/span&gt;
                    
	dspbuf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; temp&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1000000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;            &lt;span class=&quot;token comment&quot;&gt;//å–æ¸©åº¦çš„ç™¾ä½æ•°&lt;/span&gt;
	dspbuf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; temp&lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1000000&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;100000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;     &lt;span class=&quot;token comment&quot;&gt;//å–æ¸©åº¦çš„åä½æ•°&lt;/span&gt;
	dspbuf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; temp&lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;100000&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10000&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;    &lt;span class=&quot;token comment&quot;&gt;//å–æ¸©åº¦ä¸ªä½æ•°å¹¶åŠ ä¸Šå°æ•°ç‚¹&lt;/span&gt;
	dspbuf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; temp&lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10000&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;         &lt;span class=&quot;token comment&quot;&gt;//å–æ¸©åº¦çš„å°æ•°ç‚¹ç¬¬ä¸€ä½&lt;/span&gt;
	dspbuf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; temp&lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;           &lt;span class=&quot;token comment&quot;&gt;//å–æ¸©åº¦çš„å°æ•°ç‚¹ç¬¬äºŒä½&lt;/span&gt;
	dspbuf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; temp&lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;             &lt;span class=&quot;token comment&quot;&gt;//å–æ¸©åº¦çš„å°æ•°ç‚¹ç¬¬ä¸‰ä½&lt;/span&gt;
	dspbuf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; temp&lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;                 &lt;span class=&quot;token comment&quot;&gt;//å–æ¸©åº¦çš„å°æ•°ç‚¹ç¬¬å››ä½&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;é™¤æ­¤ä¹‹å¤–ï¼Œç¬”è€…å°†ä¸ªä½æ•°åçš„å°æ•°ç‚¹æ˜¾ç¤ºå‡ºæ¥ï¼Œé‡‡å–çš„æ–¹æ³•æ˜¯åœ¨å®šä¹‰ tab æ•°ç»„æ—¶ï¼Œåœ¨åé¢å†å®šä¹‰åä¸ªå°æ•°ç‚¹ç‚¹äº®çš„æ•°ï¼Œå³é€šè¿‡å°† 0~9 å¯¹åº”çš„é«˜å…«ä½å‡å» 8ï¼Œå³å¯ç‚¹äº®å°æ•°ç‚¹ dp ä½ã€‚å†åœ¨æ•°ç ç®¡æ˜¾ç¤ºçš„ç¼“å†²åŒºä¸ŠåŠ ä¸Š 11ï¼Œå³å¯æ˜¾ç¤ºå¸¦å°æ•°ç‚¹çš„æ•°å­—ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;u8 code tab&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xc0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xf9&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xa4&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xb0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x99&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x92&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x82&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xf8&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x80&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x90&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xff&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x40&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x79&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x24&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x30&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x19&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x12&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x02&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x78&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;   &lt;span class=&quot;token comment&quot;&gt;//å®šä¹‰æ•°ç»„å­˜æ”¾æ•°ç ç®¡æ•°å­—çŠ¶æ€&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ä¸­æ–­å‡½æ•°
ç¬”è€…åœ¨ä¸­æ–­å‡½æ•°ä¸­å®šä¹‰æ¯ 50ms äº§ç”Ÿä¸€æ¬¡ä¸­æ–­ï¼Œå°†æ¸©åº¦è¯»å–æ ‡å¿—ä½ç½® 1ï¼Œè¿›è¡Œæ¸©åº¦è¯»å–ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;bit temp_flag &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;     &lt;span class=&quot;token comment&quot;&gt;//å®šä¹‰æ¸©åº¦è¯»å–æ ‡å¿—ä½&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;timer0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; interrupt &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;    &lt;span class=&quot;token comment&quot;&gt;//å®šä¹‰ä¸­æ–­æ¨¡å¼1&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; u8 t_20ms &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;      &lt;span class=&quot;token comment&quot;&gt;//å®šä¹‰é™æ€å˜é‡è®¡æ—¶20ms&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; u8 t_50ms &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;      &lt;span class=&quot;token comment&quot;&gt;//å®šä¹‰é™æ€å˜é‡è®¡æ—¶50ms&lt;/span&gt;
	
	&lt;span class=&quot;token function&quot;&gt;display&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;                 &lt;span class=&quot;token comment&quot;&gt;//æ•°ç ç®¡æ˜¾ç¤ºå‡½æ•°&lt;/span&gt;
	
	t_20ms&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;                  &lt;span class=&quot;token comment&quot;&gt;//è®¡æ•°è‡ªå¢&lt;/span&gt;
	t_50ms&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;                  &lt;span class=&quot;token comment&quot;&gt;//è®¡æ•°è‡ªå¢&lt;/span&gt;
	
	&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;t_20ms &lt;span class=&quot;token operator&quot;&gt;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;           &lt;span class=&quot;token comment&quot;&gt;//åˆ¤æ–­è®¡æ—¶æ—¶é—´&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		t_20ms &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;              &lt;span class=&quot;token comment&quot;&gt;//è®¡æ•°æ¸…é›¶&lt;/span&gt;
		key_flag &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;            &lt;span class=&quot;token comment&quot;&gt;//æŒ‰é”®æ ‡å¿—ä½ç½®1&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
	
	&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;t_50ms &lt;span class=&quot;token operator&quot;&gt;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;           &lt;span class=&quot;token comment&quot;&gt;//åˆ¤æ–­è®¡æ—¶æ—¶é—´&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		t_50ms &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;              &lt;span class=&quot;token comment&quot;&gt;//è®¡æ•°æ¸…é›¶&lt;/span&gt;
		temp_flag &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;           &lt;span class=&quot;token comment&quot;&gt;//æ¸©åº¦æ ‡å¿—ä½ç½®1&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;mainä¸»å‡½æ•°
ç¬”è€…åœ¨ä¸»å‡½æ•°å¼€å¤´ä¸­å®šä¹‰æ¸©åº¦è¯»å–å¼€å…³å˜é‡ temp_wï¼Œé€šè¿‡ä¸ 1 å¼‚æˆ–ï¼Œå¯å®åŠŸèƒ½ï¼šæŒ‰ä¸€æ¬¡ S4 æ‰“å¼€æ¸©åº¦ä¼ æ„Ÿå™¨ï¼Œæ¯ 50ms è¯»å–ä¸€æ¬¡æ¸©åº¦ï¼›å†æŒ‰ä¸€æ¬¡ S4 å…³é—­æ¸©åº¦ä¼ æ„Ÿå™¨ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;      &lt;span class=&quot;token comment&quot;&gt;//ä¸»å‡½æ•°&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	u8 key_re&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;     &lt;span class=&quot;token comment&quot;&gt;//å®šä¹‰å˜é‡è¯»å–æŒ‰é”®è¿”å›å€¼&lt;/span&gt;
	u8 temp_w &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//å®šä¹‰æ¸©åº¦è¯»å–å¼€å…³å˜é‡&lt;/span&gt;
	
	&lt;span class=&quot;token function&quot;&gt;all_init&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;    &lt;span class=&quot;token comment&quot;&gt;//åˆå§‹åŒ–å‡½æ•°&lt;/span&gt;
	&lt;span class=&quot;token function&quot;&gt;Timer0Init&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  &lt;span class=&quot;token comment&quot;&gt;//å®šæ—¶å™¨0åˆå§‹åŒ–&lt;/span&gt;
	
	&lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;key_flag&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;            &lt;span class=&quot;token comment&quot;&gt;//æ¯20msæ‰«æä¸€æ¬¡æŒ‰é”®&lt;/span&gt;
		&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
			key_flag &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;         &lt;span class=&quot;token comment&quot;&gt;//æ ‡å¿—ä½ç½®0&lt;/span&gt;
			key_re &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Read_key&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  &lt;span class=&quot;token comment&quot;&gt;//è¯»å–æŒ‰é”®&lt;/span&gt;
			 
			&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;key_re &lt;span class=&quot;token operator&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0xff&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;    &lt;span class=&quot;token comment&quot;&gt;//åˆ¤æ–­æŒ‰é”®æ˜¯å¦æŒ‰ä¸‹&lt;/span&gt;
			&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
				&lt;span class=&quot;token comment&quot;&gt;//åˆ¤æ–­æŒ‰é”®&lt;/span&gt;
				&lt;span class=&quot;token keyword&quot;&gt;switch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;key_re&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
				&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
					&lt;span class=&quot;token comment&quot;&gt;//æ”¾å…¥éœ€è¦æ‰§è¡Œçš„åŠŸèƒ½&lt;/span&gt;
					&lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; temp_w &lt;span class=&quot;token operator&quot;&gt;^=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  &lt;span class=&quot;token comment&quot;&gt;//æŒ‰ä¸€æ¬¡æŒ‰é”®æ‰“å¼€/å…³é—­æ¸©åº¦ä¼ æ„Ÿå™¨&lt;/span&gt;
				&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
			&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
		&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
		
		&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;temp_w&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;temp_flag&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;    &lt;span class=&quot;token comment&quot;&gt;//å®šä¹‰æ¸©åº¦è¯»å–å‡½æ•°&lt;/span&gt;
		&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
			temp_flag &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;               &lt;span class=&quot;token comment&quot;&gt;//æ¸…ç©ºæ ‡å¿—ä½&lt;/span&gt;
			&lt;span class=&quot;token function&quot;&gt;datachange&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;rd_temperature&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  &lt;span class=&quot;token comment&quot;&gt;//è°ƒç”¨æ¸©åº¦è¯»å–åŠè½¬æ¢å‡½æ•°&lt;/span&gt;
		&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;è‡³æ­¤ï¼Œæœ¬æ¬¡ DS18B20 æ¸©åº¦ä¼ æ„Ÿå™¨ç¨‹åºå·²ç¼–å†™å®Œæ¯•ã€‚&lt;/p&gt;</content:encoded></item><item><title><![CDATA[è“æ¡¥æ¯å•ç‰‡æœºè®¾è®¡ä¸å¼€å‘_æ ‡å‡†æ¨¡ç‰ˆ]]></title><description><![CDATA[Githubä»£ç ä»“åº“é“¾æ¥ ä¸€ã€å‰è¨€ ç¬”è€…åœ¨æœ¬ç§‘å¤§äºŒæœŸé—´ï¼Œå‚åŠ äº†202â€¦]]></description><link>https://gatsbystarterblogsource.gatsbyjs.io/001_Lanqiaobei/</link><guid isPermaLink="false">https://gatsbystarterblogsource.gatsbyjs.io/001_Lanqiaobei/</guid><pubDate>Sun, 09 May 2021 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;a href=&quot;https://github.com/Joker001014/LanQiaoCup&quot;&gt;Githubä»£ç ä»“åº“é“¾æ¥&lt;/a&gt;&lt;/p&gt;
&lt;h1&gt;ä¸€ã€å‰è¨€&lt;/h1&gt;
&lt;p&gt;ç¬”è€…åœ¨æœ¬ç§‘å¤§äºŒæœŸé—´ï¼Œå‚åŠ äº†2021å¹´è“æ¡¥æ¯å•ç‰‡æœºè®¾è®¡ä¸å¼€å‘ç»„çœèµ›ï¼Œè·çœèµ›ä¸€ç­‰å¥–æˆåŠŸå…¥å›´å†³èµ›ï¼Œå¹¶è·å…¨å›½æ€»å†³èµ›äºŒç­‰å¥–ï¼ˆè¯ä¹¦è§æ–‡æœ«é™„å½•ï¼‰ã€‚ç¬”è€…å°†åœ¨æ¥ä¸‹æ¥ä¸€ä¸ªæœˆçš„æ—¶é—´å†…ä¸æ–­æ›´æ–°å…³äºè“æ¡¥æ¯å•ç‰‡æœºè®¾è®¡ä¸å¼€å‘å›½èµ›çš„åšæ–‡ï¼Œåˆè¡·æ˜¯ä¸å„ä½åŒå­¦å…±å‹‰ï¼Œä¸€èµ·å‡†å¤‡å›½èµ›ï¼Œå¸Œæœ›å’Œå¤§å®¶å…±åŒå–å¾—ä½³ç»©ã€‚&lt;/p&gt;
&lt;h2&gt;äºŒã€æ ‡å‡†æ¨¡æ¿&lt;/h2&gt;
&lt;p&gt;è¯ä¸å¤šè¯´ï¼Œæˆ‘ä»¬ç›´æ¥è¿›å…¥æ­£é¢˜ã€‚æ–‡ç« ä¸­æ‰€è¯´çš„æ ‡å‡†æ¨¡æ¿ï¼Œå…¶å®æ˜¯æŒ‡åŒ…å«äº†åˆå§‹åŒ–å‡½æ•°ã€é”å­˜å™¨é©±åŠ¨ã€æ•°ç ç®¡é©±åŠ¨å‡½æ•°ã€çŸ©é˜µé”®ç›˜/ç‹¬ç«‹é”®ç›˜ä»¥åŠå®šæ—¶å™¨ä¸­æ–­ç­‰æ¨¡å—çš„å¯ç¼–è¯‘.cæ–‡ä»¶ã€‚
ç¬”è€…çš„æ ‡å‡†æ¨¡æ¿å¹¶ä¸æ˜¯é‡‡ç”¨æ¨¡å—åŒ–ç¼–ç¨‹ï¼Œç¬”è€…è®¤ä¸ºå®šä¹‰åŒ…å«å¤šä¸ªLEDã€æ•°ç ç®¡ç­‰å¤šä¸ªå¤´æ–‡ä»¶çœ‹èµ·æ¥è¾ƒä¸ºç¹çï¼Œå¯¹äºæ–°æ‰‹ä¸å¤ªå‹å–„ã€‚è€Œåº”ä»˜è“æ¡¥æ¯æ¯”èµ›ã€51å•ç‰‡æœºè€ƒè¯•ç­‰ï¼Œç¬”è€…ä»¥ä¸ºé€šè¿‡é‡‡ç”¨â€œå‡½æ•°æ¨¡å—åŒ–â€ç¼–ç¨‹å³å¯ï¼Œæ•…æœ¬æ¨¡æ¿åœ¨ä¸€ä¸ª.cæ–‡ä»¶ä¸­åˆ†æ¨¡å—å®šä¹‰å¤šä¸ªé©±åŠ¨å‡½æ•°ï¼Œä¹Ÿæ˜¯ååˆ†ç®€æ´ã€å®¹æ˜“ä¸Šæ‰‹çš„ã€‚&lt;/p&gt;
&lt;h3&gt;1ã€åˆ›å»ºå·¥ç¨‹&lt;/h3&gt;
&lt;p&gt;åˆ›å»ºå·¥ç¨‹ï¼šä¾æ¬¡ç‚¹å‡»èœå•æ ä¸­ Project â†’ New uvision Project... â†’ è¾“å…¥å·¥ç¨‹åç§°å¹¶ä¿å­˜ â†’  é€‰æ‹©STC15F2K60S2ï¼ˆæ³¨ï¼šéœ€é€šè¿‡ stc-isp è½¯ä»¶ Keil ä»¿çœŸæ·»åŠ å¤´æ–‡ä»¶ï¼‰â†’ ç‚¹å‡» File ä¸‹æ–¹ç©ºç™½é¡µæ–°å»ºç©ºæ–‡ä»¶å¹¶å‘½åä¸º.cæ–‡ä»¶ â†’ åŒå‡» Source Group å°†.cæ–‡ä»¶åŠ å…¥å·¥ç¨‹ï¼Œå°±å¯ä»¥å¼€å§‹åœ¨æ–‡ä»¶ä¸­ç¼–å†™ç¨‹åºã€‚
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 569px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/5780e6c83e96a626c73e2077d8357394/17a45/1.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 114.55696202531647%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAXABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAEDBf/EABUBAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAHtWyIBmVoD/8QAGBAAAgMAAAAAAAAAAAAAAAAAARACAzH/2gAIAQEAAQUCIcnZgX//xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAEDAQE/AR//xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAECAQE/AR//xAAUEAEAAAAAAAAAAAAAAAAAAAAw/9oACAEBAAY/Ah//xAAcEAACAgIDAAAAAAAAAAAAAAAAARARIVExcYH/2gAIAQEAAT8hYqzXR6xtrZyRa2ODGo//2gAMAwEAAgADAAAAEMs/AP/EABYRAAMAAAAAAAAAAAAAAAAAAAAQEf/aAAgBAwEBPxAr/8QAFxEAAwEAAAAAAAAAAAAAAAAAAAEREP/aAAgBAgEBPxCEW//EAB0QAQACAgIDAAAAAAAAAAAAAAEAESExEJFRYYH/2gAIAQEAAT8QoF+ggNbPsQAe0VIoHlg2AL6ZvrhyLNRbpn//2Q==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;åˆ›å»ºå·¥ç¨‹1&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/5780e6c83e96a626c73e2077d8357394/17a45/1.jpg&quot;
        srcset=&quot;/blog/static/5780e6c83e96a626c73e2077d8357394/ff44c/1.jpg 158w,
/blog/static/5780e6c83e96a626c73e2077d8357394/a6688/1.jpg 315w,
/blog/static/5780e6c83e96a626c73e2077d8357394/17a45/1.jpg 569w&quot;
        sizes=&quot;(max-width: 569px) 100vw, 569px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/c40fbf0d2a5ac345b1baef9603bb2b03/6a068/2.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 56.32911392405063%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAEDAgX/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAHuuTNEQ//EABcQAAMBAAAAAAAAAAAAAAAAAAABEBH/2gAIAQEAAQUCUYpp/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAFBABAAAAAAAAAAAAAAAAAAAAIP/aAAgBAQAGPwJf/8QAGRAAAgMBAAAAAAAAAAAAAAAAAAERITFR/9oACAEBAAE/IbogWzBI26f/2gAMAwEAAgADAAAAEFAP/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAGhABAAMBAQEAAAAAAAAAAAAAAQARITFRYf/aAAgBAQABPxAAN3mwowKd57E0bd+xVOsRSrk//9k=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;åˆ›å»ºå·¥ç¨‹2&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/c40fbf0d2a5ac345b1baef9603bb2b03/828fb/2.jpg&quot;
        srcset=&quot;/blog/static/c40fbf0d2a5ac345b1baef9603bb2b03/ff44c/2.jpg 158w,
/blog/static/c40fbf0d2a5ac345b1baef9603bb2b03/a6688/2.jpg 315w,
/blog/static/c40fbf0d2a5ac345b1baef9603bb2b03/828fb/2.jpg 630w,
/blog/static/c40fbf0d2a5ac345b1baef9603bb2b03/0ede0/2.jpg 945w,
/blog/static/c40fbf0d2a5ac345b1baef9603bb2b03/6a068/2.jpg 960w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/414327fe73d477c8a71ef228d668013a/c08c5/3.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 74.68354430379746%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAECBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAe0gjI//xAAYEAEBAAMAAAAAAAAAAAAAAAAAARIhIv/aAAgBAQABBQKMlctK/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAFBABAAAAAAAAAAAAAAAAAAAAIP/aAAgBAQAGPwJf/8QAGRAAAwEBAQAAAAAAAAAAAAAAAAERIUFR/9oACAEBAAE/IaI9H0da1onyh1T/2gAMAwEAAgADAAAAEKPP/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAGxABAQEAAgMAAAAAAAAAAAAAAREAIUFRcYH/2gAIAQEAAT8QEVCBvBX3VDesBFMHPO6DfWYZ0Tf/2Q==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;åˆ›å»ºå·¥ç¨‹3&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/414327fe73d477c8a71ef228d668013a/828fb/3.jpg&quot;
        srcset=&quot;/blog/static/414327fe73d477c8a71ef228d668013a/ff44c/3.jpg 158w,
/blog/static/414327fe73d477c8a71ef228d668013a/a6688/3.jpg 315w,
/blog/static/414327fe73d477c8a71ef228d668013a/828fb/3.jpg 630w,
/blog/static/414327fe73d477c8a71ef228d668013a/c08c5/3.jpg 640w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/b6df8b518ee7496fb9388345874a2995/0f98f/4.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 54.43037974683544%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAECBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAd5pFEh//8QAFBABAAAAAAAAAAAAAAAAAAAAIP/aAAgBAQABBQJf/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAFBABAAAAAAAAAAAAAAAAAAAAIP/aAAgBAQAGPwJf/8QAFRABAQAAAAAAAAAAAAAAAAAAASD/2gAIAQEAAT8hAK//2gAMAwEAAgADAAAAEFAP/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAGBABAQEBAQAAAAAAAAAAAAAAAREAITH/2gAIAQEAAT8QcQNCTQNDTmVvu//Z&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;åˆ›å»ºå·¥ç¨‹4&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/b6df8b518ee7496fb9388345874a2995/828fb/4.jpg&quot;
        srcset=&quot;/blog/static/b6df8b518ee7496fb9388345874a2995/ff44c/4.jpg 158w,
/blog/static/b6df8b518ee7496fb9388345874a2995/a6688/4.jpg 315w,
/blog/static/b6df8b518ee7496fb9388345874a2995/828fb/4.jpg 630w,
/blog/static/b6df8b518ee7496fb9388345874a2995/0ede0/4.jpg 945w,
/blog/static/b6df8b518ee7496fb9388345874a2995/3ac88/4.jpg 1260w,
/blog/static/b6df8b518ee7496fb9388345874a2995/0f98f/4.jpg 1920w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h3&gt;2ã€ç¼–ç¨‹å‡†å¤‡&lt;/h3&gt;
&lt;p&gt;ï¼ˆ1ï¼‰é¦–å…ˆï¼ŒåŒ…å«å¤´æ–‡ä»¶ã€‚å¯¹äºè“æ¡¥æ¯å•ç‰‡æœºè®¾è®¡ä¸å¼€å‘å¤§èµ›é‡‡ç”¨çš„å•ç‰‡æœºä¸º IAP15 ç³»åˆ—å•ç‰‡æœºï¼Œå‹å·ä¸ºï¼šIAP15F2K61S2ï¼Œå¤´æ–‡ä»¶ä½¿ç”¨â€œSTC15F2K60S2.hâ€å³å¯ï¼ˆæœ¬æ–‡ç« å°†ä»¥æ­¤ä¸ºä¾‹ï¼‰ã€‚è‹¥é‡‡ç”¨â€œreg52.hâ€éœ€åœ¨å¤´æ–‡ä»¶ä¸­æ·»åŠ AUXRã€SCONç­‰ç‰¹æ®Šå¯„å­˜å™¨ï¼Œä»¥å…å½±å“ä¸²å£åŠä¸€äº›èŠ¯ç‰‡çš„æ­£å¸¸ç¼–ç¨‹ã€‚
è€Œå¯¹äºåˆšå…¥é—¨çš„æ–°æ‰‹ï¼Œä½¿ç”¨ STC89S52 å•ç‰‡æœºç¼–å†™ç®€å•çš„ LEDã€æ•°ç ç®¡ã€é”®ç›˜ç­‰ç¨‹åºï¼Œä½¿ç”¨â€œreg52.hâ€å¤´æ–‡ä»¶è¶³çŸ£ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;STC15F2K60S2.h&quot;&lt;/span&gt;   &lt;span class=&quot;token comment&quot;&gt;//å¤´æ–‡ä»¶&lt;/span&gt;&lt;/span&gt;

&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;define&lt;/span&gt; &lt;span class=&quot;token macro-name&quot;&gt;u8&lt;/span&gt; &lt;span class=&quot;token expression&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;unsigned&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;char&lt;/span&gt;    &lt;/span&gt;&lt;span class=&quot;token comment&quot;&gt;//å®å®šä¹‰å¸¸ç”¨ç±»å‹&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;define&lt;/span&gt; &lt;span class=&quot;token macro-name&quot;&gt;u16&lt;/span&gt; &lt;span class=&quot;token expression&quot;&gt;unsinged &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; &lt;/span&gt;&lt;/span&gt;
	
u8 dspbuf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;    &lt;span class=&quot;token comment&quot;&gt;//å®šä¹‰ç¼“å†²åŒº&lt;/span&gt;
u8 code tab&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xc0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xf9&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xa4&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xb0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x99&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x92&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x82&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xf8&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x80&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x90&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xff&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;   &lt;span class=&quot;token comment&quot;&gt;//å®šä¹‰æ•°ç»„å­˜æ”¾æ•°ç ç®¡æ•°å­—1~9å’Œç†„ç­çŠ¶æ€&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;3ã€é”å­˜å™¨é©±åŠ¨å‡½æ•°&lt;/h3&gt;
&lt;p&gt;ç¬”è€…ä¸»å‡½æ•°å‰ç¼–å†™é”å­˜å™¨é©±åŠ¨å‡½æ•°ï¼Œå°†ä¸ºæ¥ä¸‹æ¥çš„æ•°ç ç®¡é©±åŠ¨ã€ä¸»å‡½æ•°åŠŸèƒ½ç­‰ç¨‹åºçš„ç¼–å†™å¸¦æ¥æå¤§çš„ç›Šå¤„ï¼Œååˆ†ä¾¿æ·ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;door&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;u8 choose&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;input&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;    &lt;span class=&quot;token comment&quot;&gt;//æ•°ç ç®¡é©±åŠ¨å‡½æ•°&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	P2 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;P2&lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x1f&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; choose&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;    &lt;span class=&quot;token comment&quot;&gt;//ç›¸ä¸ç©ºå‡ºé«˜3ä½ï¼Œchooseè¾“å…¥æ‰“é€šé”å­˜å™¨&lt;/span&gt;
	P0 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; input&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;                 &lt;span class=&quot;token comment&quot;&gt;//é€å…¥æ•°æ®&lt;/span&gt;
	P2 &lt;span class=&quot;token operator&quot;&gt;&amp;amp;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0x1f&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;                 &lt;span class=&quot;token comment&quot;&gt;//å…³é—­é”å­˜å™¨&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;4ã€æ•°ç ç®¡é©±åŠ¨å‡½æ•°&lt;/h3&gt;
&lt;p&gt;æ•°ç ç®¡æ˜¾ç¤ºæ•°å­— 0~9 é‡‡ç”¨äº†ç¼–ç¨‹å‡†å¤‡æ­¥éª¤ä¸­çš„ dspbuf ç¼“å†²åŒºåŠæ•°ç»„ tab ï¼Œæˆ‘ä»¬é€šè¿‡æ”¹å˜ dspbuf æ•°ç»„ä¸­å¯¹åº”çš„å…«ä¸ªæ•°å­—å³å¯æ”¹å˜å…«ä¸ªæ•°ç ç®¡æ˜¾ç¤ºçš„æ•°å­—ã€‚ä¾‹ï¼šdspbuf [0] = 8;å°†åœ¨ç¬¬ä¸€ä¸ªæ•°ç ç®¡ä¸Šæ˜¾ç¤ºæ•°å­—â€œ8â€ã€‚
è¯­å¥ door(0xe0,tab[dspbuf[dspcom++]])  åŸç†å…¶å®å¾ˆç®€å•ï¼šé€šè¿‡åˆå§‹åŒ–è¯­å¥ dspbuf [0] = 8ï¼Œä½¿å¾— dspbuf æ•°ç»„é€‰ä¸­ç¬¬ä¸€ä¸ªç¼“å†²åŒºï¼ˆå³æ˜¾ç¤ºç¬¬ä¸€ä¸ªæ•°ç ç®¡ï¼‰ï¼Œè€Œ tab æ•°ç»„å°†é€‰ä¸­ç¬¬å…«ä¸ªæ•°ï¼Œç¬¬å…«ä¸ªæ•°â€œ0x80â€å¯¹åº”çš„å°†åœ¨æ•°ç ç®¡ä¸­æ˜¾ç¤ºæ•°å­—â€œ8â€ï¼ˆå¯¹äºæ•°ç ç®¡æ˜¾ç¤ºæ•°å­—çš„äºŒè¿›åˆ¶ä»£ç è®¡ç®—è¿™é‡Œä¸å†èµ˜è¿°ï¼‰ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;u8 dspcom &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;                       &lt;span class=&quot;token comment&quot;&gt;//å®šä¹‰æ•°ç ç®¡ç‚¹äº®ä½æ•°&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;display&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;                       &lt;span class=&quot;token comment&quot;&gt;//æ•°ç ç®¡é©±åŠ¨å‡½æ•°&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token function&quot;&gt;door&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xe0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xff&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;                   &lt;span class=&quot;token comment&quot;&gt;//æ¶ˆéš&lt;/span&gt;
	
	&lt;span class=&quot;token function&quot;&gt;door&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xc0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x01&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt;dspcom&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;           &lt;span class=&quot;token comment&quot;&gt;//ä½é€‰&lt;/span&gt;
	&lt;span class=&quot;token function&quot;&gt;door&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xe0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;tab&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;dspbuf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;dspcom&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  &lt;span class=&quot;token comment&quot;&gt;//æ®µé€‰&lt;/span&gt;
	
	&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;dspcom &lt;span class=&quot;token operator&quot;&gt;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;                    &lt;span class=&quot;token comment&quot;&gt;//åˆå§‹åŒ–ä½æ•°ï¼ŒåŠ¨æ€å¾ªç¯&lt;/span&gt;
		dspcom &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;5ã€åˆå§‹åŒ–å‡½æ•°&lt;/h3&gt;
&lt;h4&gt;ï¼ˆ1ï¼‰LEDã€èœ‚é¸£å™¨ç­‰åˆå§‹åŒ–&lt;/h4&gt;
&lt;p&gt;ç¬”è€…åœ¨åˆå§‹åŒ–å‡½æ•° all_init å‰å®šä¹‰æ•°ç ç®¡ç†„ç­å‡½æ•°ï¼Œä¸»è¦ç›®çš„æ˜¯ä¾¿äºåœ¨è®¾è®¡æ¯”èµ›è¯•é¢˜å„ç§åŠŸèƒ½æ—¶ç†„ç­æ•°ç ç®¡ï¼Œé¿å…å„ä¸ªåŠŸèƒ½ç›¸äº’å¹²æ¶‰ï¼Œä½¿ç”¨è¾ƒä¸ºæ–¹ä¾¿ï¼Œç¨‹åºæ›´åŠ ç®€æ´ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;num_close&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;    &lt;span class=&quot;token comment&quot;&gt;//ç†„ç­æ•°ç ç®¡&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	dspbuf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	dspbuf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	dspbuf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	dspbuf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	dspbuf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	dspbuf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	dspbuf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	dspbuf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
	
&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;all_init&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;    &lt;span class=&quot;token comment&quot;&gt;//åˆå§‹åŒ–å‡½æ•°&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token function&quot;&gt;door&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x80&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xff&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  &lt;span class=&quot;token comment&quot;&gt;//ç†„ç­LED&lt;/span&gt;
	&lt;span class=&quot;token function&quot;&gt;door&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xa0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xaf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  &lt;span class=&quot;token comment&quot;&gt;//å…³é—­èœ‚é¸£å™¨ã€ç»§ç”µå™¨&lt;/span&gt;
	&lt;span class=&quot;token function&quot;&gt;num_close&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;      &lt;span class=&quot;token comment&quot;&gt;//ç†„ç­æ•°ç ç®¡&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;ï¼ˆ2ï¼‰å®šæ—¶å™¨åˆå§‹åŒ–&lt;/h3&gt;
&lt;p&gt;å®šæ—¶å™¨åˆå§‹åŒ–å‡½æ•°ï¼Œè¿™é‡Œä¸»è¦å¯¹æœ¬æ ¡è‡ªåŠ¨åŒ–ä¸“ä¸šçš„å­¦å¼Ÿå­¦å¦¹ä»¬æœ‰ä¸€äº›å¯„è¯­ï¼Œåœ¨ä½ ä»¬åˆæ­¥æ¥è§¦51å•ç‰‡æœºæ—¶å¯èƒ½ä¼šè®¤ä¸ºå®šæ—¶ä¸­æ–­å¾ˆéš¾ã€çœ‹ä¸æ‡‚ï¼Œä½†å…¶å®å¹¶ä¸æ˜¯è¿™æ ·çš„ã€‚å¯¹äºå®šæ—¶å™¨ä¸­æ–­ï¼Œåªè¦è‚¯èŠ±ç‚¹æ—¶é—´å»çœ‹ï¼Œå…¶å®æ˜¯å¾ˆå®¹æ˜“æŒæ¡çš„ï¼ˆå»ºè®®å­¦å¼Ÿå­¦å¦¹ä»¬å¤šèŠ±ç‚¹åŠŸå¤«æŠŠè¿™ç¯‡æ–‡ç« é˜…è¯»å®Œ)ã€‚æŒæ¡ä¹‹åé€šè¿‡ä¸­æ–­åŠ¨æ€æ˜¾ç¤ºæ•°ç ç®¡ï¼Œä»¥åŠç”¨ä¸­æ–­è®¾ç½®è®¡æ—¶ã€LEDå®šæ—¶é—ªçƒï¼Œåœ¨ç§‘åˆ›çš„ç»“è¯¾æµ‹è¯•æ˜¯éå¸¸å¥½ç”¨çš„ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;//å®šæ—¶å™¨0åˆå§‹åŒ–å‡½æ•°&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Timer0Init&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;		&lt;span class=&quot;token comment&quot;&gt;//2æ¯«ç§’@12.000MHz&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	AUXR &lt;span class=&quot;token operator&quot;&gt;|=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0x80&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;		&lt;span class=&quot;token comment&quot;&gt;//å®šæ—¶å™¨æ—¶é’Ÿ1Tæ¨¡å¼&lt;/span&gt;
	TMOD &lt;span class=&quot;token operator&quot;&gt;&amp;amp;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0xF0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;		&lt;span class=&quot;token comment&quot;&gt;//è®¾ç½®å®šæ—¶å™¨æ¨¡å¼&lt;/span&gt;
	TL0 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0x40&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;		&lt;span class=&quot;token comment&quot;&gt;//è®¾ç½®å®šæ—¶åˆå€¼&lt;/span&gt;
	TH0 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0xA2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;		&lt;span class=&quot;token comment&quot;&gt;//è®¾ç½®å®šæ—¶åˆå€¼&lt;/span&gt;
	TF0 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;		&lt;span class=&quot;token comment&quot;&gt;//æ¸…é™¤TF0æ ‡å¿—&lt;/span&gt;
	TR0 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;		&lt;span class=&quot;token comment&quot;&gt;//å®šæ—¶å™¨0å¼€å§‹è®¡æ—¶&lt;/span&gt;
	
	EA &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;    &lt;span class=&quot;token comment&quot;&gt;//æ‰“å¼€æ€»ä¸­æ–­&lt;/span&gt;
	ET0 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;   &lt;span class=&quot;token comment&quot;&gt;//æ‰“å¼€å®šæ—¶å™¨0ä¸­æ–­&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;å®šæ—¶å™¨åˆå§‹åŒ–å‡½æ•°è¿™é‡Œéœ€è¦è¯´æ˜ä¸€ä¸‹ï¼Œå‡½æ•°å†…å®¹çœ‹ä¸Šå»éå¸¸ç¹çï¼Œå¯¹äºæ–°æ‰‹å¯èƒ½è§‰å¾—ä¸€è„¸æ‡µã€‚ä½†å…¶å®å®šæ—¶å™¨åˆå§‹åŒ–å‡½æ•°å¯é€šè¿‡ STC-ISP è½¯ä»¶ä¸­çš„â€œå®šæ—¶å™¨è®¡ç®—å™¨â€è¿›è¡Œä»£ç ç”Ÿæˆï¼Œå†åŠ ä¸Šå¯¹åº”çš„å®šæ—¶å™¨å¼€å…³å³å¯ã€‚å…·ä½“æ“ä½œæ­¥éª¤å¦‚ä¸‹ï¼šç‚¹å‡»â€œå®šæ—¶å™¨è®¡ç®—æœºâ€æŒ‰é’®ï¼Œè®¾ç½®ç³»ç»Ÿé¢‘ç‡ä¸ºå¯¹åº”é¢‘ç‡ï¼ˆè¿™é‡Œä»¥12MHZä¸ºä¾‹ï¼‰ï¼Œè®¾ç½®å®šæ—¶é•¿åº¦ä¸º2msï¼Œå…¶ä½™é€‰é¡¹ä¿æŒé»˜è®¤ï¼Œå¤åˆ¶ä»£ç å³å¯ï¼ˆæ³¨ï¼šç‰ˆæœ¬è¾ƒä½çš„ STC-ISP è½¯ä»¶éœ€ç‚¹å‡»ç”Ÿæˆcä»£ç ï¼Œå†ç‚¹å‡»å¤åˆ¶æŒ‰é’®ï¼‰ã€‚
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/44075f5821fec0e91f066cb529108195/2c24f/5.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 72.15189873417721%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAOABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAIBAwX/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAHWeuRgD//EABgQAQEAAwAAAAAAAAAAAAAAAAEAAhEh/9oACAEBAAEFApGcYelu/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAFhAAAwAAAAAAAAAAAAAAAAAAECAx/9oACAEBAAY/AhU//8QAGhAAAwEAAwAAAAAAAAAAAAAAAAERITFRgf/aAAgBAQABPyFbURZ2bciDQaPXfBj/2gAMAwEAAgADAAAAEGPP/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAGRABAQEBAQEAAAAAAAAAAAAAAREhADFR/9oACAEBAAE/EEoLjq9VSqibM+9kqQ94IjV+51m1uYJxXx7/2Q==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;å®šæ—¶å™¨åˆå§‹åŒ–&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/44075f5821fec0e91f066cb529108195/828fb/5.jpg&quot;
        srcset=&quot;/blog/static/44075f5821fec0e91f066cb529108195/ff44c/5.jpg 158w,
/blog/static/44075f5821fec0e91f066cb529108195/a6688/5.jpg 315w,
/blog/static/44075f5821fec0e91f066cb529108195/828fb/5.jpg 630w,
/blog/static/44075f5821fec0e91f066cb529108195/2c24f/5.jpg 817w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h3&gt;6ã€çŸ©é˜µé”®ç›˜&lt;/h3&gt;
&lt;p&gt;åœ¨ä¹¦å†™çŸ©é˜µé”®ç›˜çš„ç¨‹åºå‰ï¼Œæˆ‘ä»¬å…ˆçœ‹ä¸€ä¸‹åŸç†å›¾ï¼ˆ2.0ç‰ˆæœ¬ï¼‰ã€‚å¯¹äºè“æ¡¥æ¯å•ç‰‡æœº2.0ç‰ˆæœ¬ï¼Œå³IAP15ç³»åˆ—å•ç‰‡æœºçš„éœ€è¦æ³¨æ„çš„æ˜¯å›¾ä¸­WRã€RDå¼•è„šæ›¿æ¢æˆP42ã€P44å¼•è„šï¼Œå› æ­¤ä¹¦å†™ç¨‹åºæ—¶å¯é‡‡å–å˜é‡ä»£æ¢ã€‚åŒæ—¶ï¼Œå¯¹äºSTC89C52ç³»åˆ—å•ç‰‡æœºçš„åˆ™çœå»å˜é‡ä»£æ¢ã€‚
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/b4342f616f7f1103e3d6d54cc4173c9d/53d2d/6.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 48.10126582278481%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAKABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAECBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAe3NiA//xAAXEAADAQAAAAAAAAAAAAAAAAAAAREg/9oACAEBAAEFAnmH/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAFBABAAAAAAAAAAAAAAAAAAAAIP/aAAgBAQAGPwJf/8QAGhAAAgMBAQAAAAAAAAAAAAAAAAERITEQUf/aAAgBAQABPyGV6Ob3BOt5BDxH/9oADAMBAAIAAwAAABBwz//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8QP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EAB0QAAMAAQUBAAAAAAAAAAAAAAABETEhQVGRocH/2gAIAQEAAT8QZlOWJRq1bA5p9kUwRwuhtd8j/9k=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/b4342f616f7f1103e3d6d54cc4173c9d/828fb/6.jpg&quot;
        srcset=&quot;/blog/static/b4342f616f7f1103e3d6d54cc4173c9d/ff44c/6.jpg 158w,
/blog/static/b4342f616f7f1103e3d6d54cc4173c9d/a6688/6.jpg 315w,
/blog/static/b4342f616f7f1103e3d6d54cc4173c9d/828fb/6.jpg 630w,
/blog/static/b4342f616f7f1103e3d6d54cc4173c9d/0ede0/6.jpg 945w,
/blog/static/b4342f616f7f1103e3d6d54cc4173c9d/53d2d/6.jpg 999w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
ç¨‹åºä¸­éƒ½æ³¨æœ‰è¯¦ç»†çš„æ³¨é‡Šï¼Œå› æ­¤è¿™é‡Œä¸å†è§£é‡Šï¼Œå¦‚è‹¥æœ‰ä¸æ‡‚çš„åŒå­¦æ¬¢è¿è¯„è®ºåŒºæé—®ã€‚åŒæ—¶ï¼Œç¬”è€…ä»…ä»¥çŸ©é˜µé”®ç›˜ä¸ºä¾‹ï¼Œå¯¹äºç‹¬ç«‹é”®ç›˜åˆ™åŒç†ä¸”æ›´åŠ ç®€å•ï¼Œè¿™é‡Œä¹Ÿä¸å†èµ˜è¿°ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;u8 keypress &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;keyread &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;keyvalue &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0xff&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
u8 &lt;span class=&quot;token function&quot;&gt;Read_key&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	u8 key_m&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;cal&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	
	&lt;span class=&quot;token comment&quot;&gt;//æ£€æµ‹æŒ‰é”®åˆ—æ•°&lt;/span&gt;
	P3 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0xf0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;P42 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;P44 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	P36 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; P42&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;P44 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; P37&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;   &lt;span class=&quot;token comment&quot;&gt;//å˜é‡ä»£æ¢ï¼ŒåŒºåˆ«äºSTC89C52ç³»åˆ—å•ç‰‡æœº&lt;/span&gt;
	key_m &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; P3&lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xf0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	
	&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;key_m &lt;span class=&quot;token operator&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0xf0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
		keypress&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;       &lt;span class=&quot;token comment&quot;&gt;//è¯†åˆ«åˆ°æŒ‰é”®&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt;
		keypress &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;     &lt;span class=&quot;token comment&quot;&gt;//æŒ‰é”®æŠ–åŠ¨&lt;/span&gt;
	
	&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;keypress &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;   &lt;span class=&quot;token comment&quot;&gt;//å¤šæ¬¡æ£€æµ‹ï¼Œé¿å…è¯¯åˆ¤&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		keypress &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;     &lt;span class=&quot;token comment&quot;&gt;//æ¸…ç©ºæŒ‰é”®è®¡æ•°&lt;/span&gt;
		keyread &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;      &lt;span class=&quot;token comment&quot;&gt;//è¯»å–æŒ‰é”®æ ‡å¿—ä½&lt;/span&gt;
		
		&lt;span class=&quot;token comment&quot;&gt;//åˆ—æ•°åˆ¤æ–­&lt;/span&gt;
		&lt;span class=&quot;token keyword&quot;&gt;switch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;key_m&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
		&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
			&lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0x70&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;cal &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;   &lt;span class=&quot;token comment&quot;&gt;//æ£€æµ‹åˆ°ç¬¬ä¸€åˆ—&lt;/span&gt;
			&lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0xb0&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;cal &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;   &lt;span class=&quot;token comment&quot;&gt;//æ£€æµ‹åˆ°ç¬¬äºŒåˆ—&lt;/span&gt;
			&lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0xd0&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;cal &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;   &lt;span class=&quot;token comment&quot;&gt;//æ£€æµ‹åˆ°ç¬¬ä¸‰åˆ—&lt;/span&gt;
			&lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0xe0&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;cal &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;   &lt;span class=&quot;token comment&quot;&gt;//æ£€æµ‹åˆ°ç¬¬å››åˆ—&lt;/span&gt;
		&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
		
		&lt;span class=&quot;token comment&quot;&gt;//æ£€æµ‹æŒ‰é”®è¡Œæ•°&lt;/span&gt;
		P3 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0x0f&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;P42 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;P44 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		key_m &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; P3&lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x0f&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		
		&lt;span class=&quot;token comment&quot;&gt;//è¡Œæ•°åˆ¤æ–­&lt;/span&gt;
		&lt;span class=&quot;token keyword&quot;&gt;switch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;key_m&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
		&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
			&lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0x0e&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;keyvalue &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;cal&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;   &lt;span class=&quot;token comment&quot;&gt;//æ£€æµ‹åˆ°ç¬¬ä¸€è¡Œ&lt;/span&gt;
			&lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0x0d&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;keyvalue &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;cal&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;   &lt;span class=&quot;token comment&quot;&gt;//æ£€æµ‹åˆ°ç¬¬äºŒè¡Œ&lt;/span&gt;
			&lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0x0b&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;keyvalue &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;cal&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;   &lt;span class=&quot;token comment&quot;&gt;//æ£€æµ‹åˆ°ç¬¬ä¸‰è¡Œ&lt;/span&gt;
			&lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0x07&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;keyvalue &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;cal&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;   &lt;span class=&quot;token comment&quot;&gt;//æ£€æµ‹åˆ°ç¬¬å››è¡Œ&lt;/span&gt;
		&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
	
	&lt;span class=&quot;token comment&quot;&gt;//å†æ¬¡èµ‹å€¼æ£€æµ‹æ¾æ‰‹&lt;/span&gt;
	P3 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0x0f&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;P42 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;P44 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	key_m &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; P3&lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x0f&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	
	&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;keyread&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;key_m &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0x0f&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;token comment&quot;&gt;//æ¾æ‰‹æ£€æµ‹&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		keyread &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;                    &lt;span class=&quot;token comment&quot;&gt;//æ¸…ç©ºè¯»å–æ ‡å¿—ä½&lt;/span&gt;
		&lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; keyvalue&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;                &lt;span class=&quot;token comment&quot;&gt;//è¿”å›è¯»åˆ°çš„æŒ‰é”®&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0xff&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;     &lt;span class=&quot;token comment&quot;&gt;//æœªè¯†åˆ«åˆ°æŒ‰é”®&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;7ã€ä¸­æ–­å‡½æ•°&lt;/h3&gt;
&lt;p&gt;é¦–å…ˆï¼Œç”±å‰æ–‡å¯çŸ¥å®šæ—¶å™¨åˆå§‹åŒ–å‡½æ•°ä¸­å®šä¹‰äº† 2ms äº§ç”Ÿä¸€æ¬¡ä¸­æ–­ï¼Œå› æ­¤ç¬”è€…å°†æ•°ç ç®¡æ˜¾ç¤ºå‡½æ•° display æ”¾åœ¨ä¸­æ–­é‡Œï¼Œå¹¶å®šä¹‰äº†é™æ€å˜é‡è®¡æ—¶æ¯ 20ms å°†æŒ‰é”®æ ‡å¿—ä½ç½®ä¸€ï¼Œåœ¨ä¸»å‡½æ•°ä¸­è¯†åˆ«æŒ‰é”®ï¼Œå¯é¿å…æŒ‰é”®æŠ–åŠ¨å¸¦æ¥çš„å½±å“ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;bit key_flag &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;            &lt;span class=&quot;token comment&quot;&gt;//å®šä¹‰æŒ‰é”®æ ‡å¿—ä½&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;timer0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; interrupt &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;    &lt;span class=&quot;token comment&quot;&gt;//å®šä¹‰ä¸­æ–­æ¨¡å¼1&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; u8 t_20ms &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;      &lt;span class=&quot;token comment&quot;&gt;//å®šä¹‰é™æ€å˜é‡è®¡æ—¶20ms&lt;/span&gt;
	
	&lt;span class=&quot;token function&quot;&gt;display&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;                 &lt;span class=&quot;token comment&quot;&gt;//æ•°ç ç®¡æ˜¾ç¤ºå‡½æ•°&lt;/span&gt;
	
	t_20ms&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;                  &lt;span class=&quot;token comment&quot;&gt;//è®¡æ•°è‡ªå¢&lt;/span&gt;
	
	&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;t_20ms &lt;span class=&quot;token operator&quot;&gt;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;           &lt;span class=&quot;token comment&quot;&gt;//åˆ¤æ–­è®¡æ—¶æ—¶é—´&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		t_20ms &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;              &lt;span class=&quot;token comment&quot;&gt;//è®¡æ•°æ¸…é›¶&lt;/span&gt;
		key_flag &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;            &lt;span class=&quot;token comment&quot;&gt;//æŒ‰é”®æ ‡å¿—ä½ç½®1&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;ä¸‰ã€åº”ç”¨ç¤ºä¾‹&lt;/h2&gt;
&lt;h3&gt;1ã€é”å­˜å™¨é©±åŠ¨å‡½æ•°&lt;/h3&gt;
&lt;p&gt;LEDï¼šç”±åŸç†å›¾å¯çŸ¥ï¼Œé€‰ä¸­æ§åˆ¶ LED çš„èŠ¯ç‰‡ M74HC573M1R éœ€è¦æ‰“é€šé”å­˜å™¨ Y4Cã€‚å¯¹åº”çš„äºŒè¿›åˆ¶ä»£ç ä¸ºï¼š100 0 0000ï¼ˆ100è½¬æ¢ä¸ºåè¿›åˆ¶å³ä¸º4ï¼ŒY4Cï¼‰ï¼Œå³0x80ã€‚
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 306px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/bc28507f3f37f95662916fbc432f7659/01fdd/7.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 37.34177215189873%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAHABQDASIAAhEBAxEB/8QAFwABAAMAAAAAAAAAAAAAAAAAAAIDBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAdyIWA//xAAWEAEBAQAAAAAAAAAAAAAAAAAAIQL/2gAIAQEAAQUCrKv/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAWEAADAAAAAAAAAAAAAAAAAAAAECH/2gAIAQEABj8CIv/EABoQAAICAwAAAAAAAAAAAAAAAAABESFRcdH/2gAIAQEAAT8hat0aVfciyaP/2gAMAwEAAgADAAAAEHPP/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAHBAAAQQDAQAAAAAAAAAAAAAAEQABITFBUWGR/9oACAEBAAE/EAb3Ax8hNVw6SmMJE6C//9k=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Y4C&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/bc28507f3f37f95662916fbc432f7659/01fdd/7.jpg&quot;
        srcset=&quot;/blog/static/bc28507f3f37f95662916fbc432f7659/ff44c/7.jpg 158w,
/blog/static/bc28507f3f37f95662916fbc432f7659/01fdd/7.jpg 306w&quot;
        sizes=&quot;(max-width: 306px) 100vw, 306px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
å†é€šè¿‡ P0 å£è¾“å…¥éœ€è¦ç‚¹äº® LED å¯¹åº”çš„åå…­è¿›åˆ¶ä»£ç ã€‚æ³¨æ„ï¼šåŸç†å›¾ä¸­é‡‡ç”¨å…±é˜³ææ¥æ³•ï¼Œå› æ­¤å¯¹åº”çš„ç«¯å£è¾“å…¥ä½ç”µå¹³å³å¯ç‚¹äº®ç›¸åº”çš„ LEDã€‚
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/dec26e7f0dc5177339a4feb85b1b4ece/b3d5a/8.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 30.37974683544304%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAGABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAEF/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEAMQAAAB2wUH/8QAGBAAAgMAAAAAAAAAAAAAAAAAABEBAkH/2gAIAQEAAQUC1WFJ/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAFRABAQAAAAAAAAAAAAAAAAAAADH/2gAIAQEABj8CVX//xAAXEAEBAQEAAAAAAAAAAAAAAAABQQAQ/9oACAEBAAE/IUa4Su//2gAMAwEAAgADAAAAEPAP/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAGRABAAMBAQAAAAAAAAAAAAAAAQARMSGB/9oACAEBAAE/EDANFFy56PCCNGf/2Q==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/dec26e7f0dc5177339a4feb85b1b4ece/828fb/8.jpg&quot;
        srcset=&quot;/blog/static/dec26e7f0dc5177339a4feb85b1b4ece/ff44c/8.jpg 158w,
/blog/static/dec26e7f0dc5177339a4feb85b1b4ece/a6688/8.jpg 315w,
/blog/static/dec26e7f0dc5177339a4feb85b1b4ece/828fb/8.jpg 630w,
/blog/static/dec26e7f0dc5177339a4feb85b1b4ece/0ede0/8.jpg 945w,
/blog/static/dec26e7f0dc5177339a4feb85b1b4ece/b3d5a/8.jpg 1114w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
ä¾‹ï¼š&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token function&quot;&gt;door&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x80&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  &lt;span class=&quot;token comment&quot;&gt;//0000 0000ï¼šç‚¹äº®æ‰€æœ‰LED&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;door&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x80&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xff&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  &lt;span class=&quot;token comment&quot;&gt;//1111 1111ï¼šç†„ç­æ‰€æœ‰LED&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;door&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x80&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xaa&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  &lt;span class=&quot;token comment&quot;&gt;//1010 1010ï¼šç‚¹äº®ç¬¬1ã€3ã€5ã€7ä¸ªLED&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;èœ‚é¸£å™¨ã€ç»§ç”µå™¨ï¼šç”±åŸç†å›¾å¯çŸ¥ï¼Œé€‰ä¸­æ§åˆ¶èœ‚é¸£å™¨ã€ç»§ç”µå™¨çš„èŠ¯ç‰‡ M74HC573M1R éœ€è¦æ‰“é€šé”å­˜å™¨Y5Cã€‚å¯¹åº”çš„äºŒè¿›åˆ¶ä»£ç ä¸ºï¼š101 0 0000ï¼ˆ101è½¬æ¢ä¸ºåè¿›åˆ¶å³ä¸º5ï¼ŒY5Cï¼‰ï¼Œå³0xa0ã€‚
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 303px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/696b10e49cf3b1fa65319f837ece4162/c8fe0/9.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 41.77215189873418%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAIABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAIF/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEAMQAAAB3JCwf//EABYQAQEBAAAAAAAAAAAAAAAAAAAhAv/aAAgBAQABBQKsq//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABYQAAMAAAAAAAAAAAAAAAAAAAAQIf/aAAgBAQAGPwIi/8QAGRAAAgMBAAAAAAAAAAAAAAAAADERQYGh/9oACAEBAAE/IbMTuTJ//9oADAMBAAIAAwAAABDzz//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8QP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EABkQAAIDAQAAAAAAAAAAAAAAAAERADFhIf/aAAgBAQABPxDO5VQmhF63LHueGf/Z&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Y5C&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/696b10e49cf3b1fa65319f837ece4162/c8fe0/9.jpg&quot;
        srcset=&quot;/blog/static/696b10e49cf3b1fa65319f837ece4162/ff44c/9.jpg 158w,
/blog/static/696b10e49cf3b1fa65319f837ece4162/c8fe0/9.jpg 303w&quot;
        sizes=&quot;(max-width: 303px) 100vw, 303px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
å†é€šè¿‡ P0 å£è¾“å…¥ç›¸åº”çš„åå…­è¿›åˆ¶ä»£ç ã€‚ç”±å›¾å¯è§ï¼Œæ§åˆ¶èœ‚é¸£å™¨çš„ BUZZ å¼•è„šç”± P06 å¼•è„šæ§åˆ¶ï¼Œç»™äºˆ P06 å¼•è„šä¸€ä¸ªé«˜ç”µå¹³å³å¯æ‰“å¼€èœ‚é¸£å™¨ï¼›åŒç†ï¼Œæ§åˆ¶ç»§ç”µå™¨çš„ RELAY å¼•è„šç”± P04 å¼•è„šæ§åˆ¶ï¼Œç»™äºˆ P04 å¼•è„šä¸€ä¸ªé«˜ç”µå¹³å³å¯æ‰“å¼€ç»§ç”µå™¨ï¼›å…¶ä½™ P0 å£ç½®1å³å¯ã€‚
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/c1caec4eb3855f60161492dfaf04265f/50376/10.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 41.139240506329116%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAIABQDASIAAhEBAxEB/8QAFwABAAMAAAAAAAAAAAAAAAAAAAECBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAduAsD//xAAYEAACAwAAAAAAAAAAAAAAAAAAAREhQf/aAAgBAQABBQLbFJ//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAUEAEAAAAAAAAAAAAAAAAAAAAQ/9oACAEBAAY/An//xAAXEAEBAQEAAAAAAAAAAAAAAAABAFER/9oACAEBAAE/IXoMhmt//9oADAMBAAIAAwAAABBwD//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8QP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EABkQAQADAQEAAAAAAAAAAAAAAAEAESExgf/aAAgBAQABPxA2aNOrA0c76xVcO5tT/9k=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/c1caec4eb3855f60161492dfaf04265f/828fb/10.jpg&quot;
        srcset=&quot;/blog/static/c1caec4eb3855f60161492dfaf04265f/ff44c/10.jpg 158w,
/blog/static/c1caec4eb3855f60161492dfaf04265f/a6688/10.jpg 315w,
/blog/static/c1caec4eb3855f60161492dfaf04265f/828fb/10.jpg 630w,
/blog/static/c1caec4eb3855f60161492dfaf04265f/50376/10.jpg 793w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
ä¾‹ï¼š&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token function&quot;&gt;door&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xa0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xaf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  &lt;span class=&quot;token comment&quot;&gt;//1010 1111 å…³é—­èœ‚é¸£å™¨ã€ç»§ç”µå™¨&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;door&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xa0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xef&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  &lt;span class=&quot;token comment&quot;&gt;//1110 1111 æ‰“å¼€èœ‚é¸£å™¨ï¼Œå…³é—­ç»§ç”µå™¨&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;door&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xa0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xbf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  &lt;span class=&quot;token comment&quot;&gt;//1011 1111 å…³é—­ä½ èœ‚é¸£å™¨ï¼Œæ‰“å¼€ç»§ç”µå™¨&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;2ã€æ•°ç ç®¡é©±åŠ¨å‡½æ•°&lt;/h3&gt;
&lt;p&gt;æ•°ç ç®¡ï¼šå‰æ–‡æåˆ°çš„æ•°ç ç®¡é©±åŠ¨å‡½æ•°ï¼ŒåŒæ ·æ˜¯å¯¹äº M74HC573M1R èŠ¯ç‰‡ã€‚ç¬”è€…é€šè¿‡æ‰“é€šé”å­˜å™¨Y6Cï¼Œæ§åˆ¶æ•°ç ç®¡ä½é€‰ï¼Œå¯¹åº”çš„äºŒè¿›åˆ¶ä»£ç ä¸ºï¼š110 0 0000ï¼ˆ110è½¬æ¢ä¸ºåè¿›åˆ¶å³ä¸º6ï¼ŒY6Cï¼‰ï¼Œå³0xc0ï¼›é€šè¿‡æ‰“é€šé”å­˜å™¨Y7Cï¼Œæ§åˆ¶æ•°ç ç®¡æ®µé€‰ï¼Œå¯¹åº”çš„äºŒè¿›åˆ¶ä»£ç ä¸ºï¼š111 0 0000ï¼ˆ111è½¬æ¢ä¸ºåè¿›åˆ¶å³ä¸º7ï¼ŒY7Cï¼‰ï¼Œå³0xe0ï¼›
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 297px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/0c6ebe096298907a4c2f09bc2499e133/c43cc/11.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 37.9746835443038%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAIABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAIF/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEAMQAAAB2wWD/8QAFxAAAwEAAAAAAAAAAAAAAAAAAAEhEv/aAAgBAQABBQK5RT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAXEAADAQAAAAAAAAAAAAAAAAAAECJB/9oACAEBAAY/AtJX/8QAGxAAAgEFAAAAAAAAAAAAAAAAAAEhQWFxkfH/2gAIAQEAAT8hfQTVCuZLR//aAAwDAQACAAMAAAAQAA//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/ED//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAaEAEBAAMBAQAAAAAAAAAAAAABEQAhoTFR/9oACAEBAAE/EBYSpsA9xQFD2HmAbW3r47n/2Q==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/0c6ebe096298907a4c2f09bc2499e133/c43cc/11.jpg&quot;
        srcset=&quot;/blog/static/0c6ebe096298907a4c2f09bc2499e133/ff44c/11.jpg 158w,
/blog/static/0c6ebe096298907a4c2f09bc2499e133/c43cc/11.jpg 297w&quot;
        sizes=&quot;(max-width: 297px) 100vw, 297px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 303px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/14f028697fc4ef6ffa8fc967dbc59802/c8fe0/12.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 39.87341772151899%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAIABQDASIAAhEBAxEB/8QAFwABAAMAAAAAAAAAAAAAAAAAAAECBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAdyAuD//xAAWEAEBAQAAAAAAAAAAAAAAAAAAIQH/2gAIAQEAAQUCrFf/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAWEAADAAAAAAAAAAAAAAAAAAAAECH/2gAIAQEABj8CIv/EABsQAAEEAwAAAAAAAAAAAAAAAAABESExQYGh/9oACAEBAAE/IcrFx25of//aAAwDAQACAAMAAAAQAA//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/ED//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAaEAEAAwEBAQAAAAAAAAAAAAABABEhMVFh/9oACAEBAAE/EHIrtqqYyBOevYd2/OM//9k=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/14f028697fc4ef6ffa8fc967dbc59802/c8fe0/12.jpg&quot;
        srcset=&quot;/blog/static/14f028697fc4ef6ffa8fc967dbc59802/ff44c/12.jpg 158w,
/blog/static/14f028697fc4ef6ffa8fc967dbc59802/c8fe0/12.jpg 303w&quot;
        sizes=&quot;(max-width: 303px) 100vw, 303px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
å†é€šè¿‡ P0 å£è¾“å…¥ç›¸åº”çš„åå…­è¿›åˆ¶ä»£ç å³å¯ç‚¹äº®å“åº”çš„æ•°ç ç®¡æ®µã€‚æ³¨æ„ï¼šåŸç†å›¾ä¸­å„æ•°ç ç®¡æ®µé‡‡ç”¨å…±é˜³ææ¥æ³•ï¼Œå› æ­¤å¯¹åº”çš„è¾“å…¥ç«¯è¾“å…¥ä½ç”µå¹³å³å¯ç‚¹äº®ç›¸åº”çš„æ•°ç ç®¡æ®µã€‚
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/e032a9e2e5a52fc29b89ba2452784fb7/09753/13.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 54.43037974683544%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAIBBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAe42iFj/xAAXEAADAQAAAAAAAAAAAAAAAAAAEEEh/9oACAEBAAEFAqaVf//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABUQAQEAAAAAAAAAAAAAAAAAACAx/9oACAEBAAY/Aqv/xAAXEAADAQAAAAAAAAAAAAAAAAABECEA/9oACAEBAAE/IcWoQH//2gAMAwEAAgADAAAAENPP/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAGxABAAMAAwEAAAAAAAAAAAAAAQARIRBBcbH/2gAIAQEAAT8QbrWM+wNqzcuAQoH1ihZ1z//Z&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/e032a9e2e5a52fc29b89ba2452784fb7/828fb/13.jpg&quot;
        srcset=&quot;/blog/static/e032a9e2e5a52fc29b89ba2452784fb7/ff44c/13.jpg 158w,
/blog/static/e032a9e2e5a52fc29b89ba2452784fb7/a6688/13.jpg 315w,
/blog/static/e032a9e2e5a52fc29b89ba2452784fb7/828fb/13.jpg 630w,
/blog/static/e032a9e2e5a52fc29b89ba2452784fb7/0ede0/13.jpg 945w,
/blog/static/e032a9e2e5a52fc29b89ba2452784fb7/3ac88/13.jpg 1260w,
/blog/static/e032a9e2e5a52fc29b89ba2452784fb7/09753/13.jpg 1389w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
æ¥ä¸‹æ¥åˆ†æä¸€ä¸‹ä¸Šæ–‡çš„æ•°ç ç®¡é©±åŠ¨å‡½æ•°ä¸­çš„å‰©ä½™è¯­å¥ã€‚è¯­å¥ door(0xe0,0xff) é€šè¿‡æ‰“é€šé”å­˜å™¨ Y7C å¯¹æ•°ç ç®¡æ®µé€‰ï¼Œè¾“å…¥ 0xffï¼ˆ1111 1111ï¼‰ç†„ç­æ•°ç ç®¡ï¼Œå±è”½å‰ä¸€æ—¶åˆ»æ•°ç ç®¡çŠ¶æ€å®ç°æ¶ˆéšï¼›å†é€šè¿‡è¯­å¥ door(0xc0,0x01&amp;#x3C;&amp;#x3C;dspcom) æ‰“é€šé”å­˜å™¨ Y6C ï¼Œè¾“å…¥ä¸åŒå€¼è¿›è¡Œä½é€‰ï¼›æœ€åè°ƒç”¨è¯­å¥ door(0xe0,tab[dspbuf[dspcom++]]) è¿›è¡Œæ®µé€‰è¾“å…¥ç‚¹äº®ä¸åŒçŠ¶æ€çš„æ•°ç ç®¡ã€‚
ä¾‹ï¼š&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token function&quot;&gt;door&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xe0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xff&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;                   &lt;span class=&quot;token comment&quot;&gt;//æ¶ˆéš&lt;/span&gt;
	
&lt;span class=&quot;token function&quot;&gt;door&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xc0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x01&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt;dspcom&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;           &lt;span class=&quot;token comment&quot;&gt;//ä½é€‰&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;door&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xe0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;tab&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;dspbuf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;dspcom&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  &lt;span class=&quot;token comment&quot;&gt;//æ®µé€‰&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;3ã€ä¸»å‡½æ•°&lt;/h3&gt;
&lt;p&gt;ä¸»å‡½æ•°ï¼šå³ä¸ºè°ƒç”¨å‰æ–‡ç¼–å†™çš„å„ç§é©±åŠ¨å‡½æ•°ã€‚ç¬”è€…é€šè¿‡åœ¨ä¸­æ–­ä¸­å®šä¹‰æŒ‰é”®è¯†åˆ«æ ‡å¿—ä½ key_flagï¼Œæ¯ 20 ç§’æ‰«æè¯»å–ä¸€æ¬¡æŒ‰é”®ï¼Œå°†æŒ‰é”®è¿”å›å€¼å­˜å–åœ¨å˜é‡ key_re ä¸­ï¼Œå†é€šè¿‡ case è¯­å¥å®ç°ä¸åŒæŒ‰é”®æ§åˆ¶ä¸åŒåŠŸèƒ½ï¼ˆé€šè¿‡æŒ‰é”®è°ƒå‚ï¼Œå¯èŠ‚çº¦ä¸å°‘æ—¶é—´ï¼‰ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;      &lt;span class=&quot;token comment&quot;&gt;//ä¸»å‡½æ•°&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	u8 key_re&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;     &lt;span class=&quot;token comment&quot;&gt;//å®šä¹‰å˜é‡è¯»å–æŒ‰é”®è¿”å›å€¼&lt;/span&gt;
	
	&lt;span class=&quot;token function&quot;&gt;all_init&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;    &lt;span class=&quot;token comment&quot;&gt;//åˆå§‹åŒ–å‡½æ•°&lt;/span&gt;
	&lt;span class=&quot;token function&quot;&gt;Timer0Init&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  &lt;span class=&quot;token comment&quot;&gt;//å®šæ—¶å™¨0åˆå§‹åŒ–&lt;/span&gt;
	
	&lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;key_flag&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;            &lt;span class=&quot;token comment&quot;&gt;//æ¯20msæ‰«æä¸€æ¬¡æŒ‰é”®&lt;/span&gt;
		&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
			key_flag &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;         &lt;span class=&quot;token comment&quot;&gt;//æ ‡å¿—ä½ç½®0&lt;/span&gt;
			key_re &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Read_key&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  &lt;span class=&quot;token comment&quot;&gt;//è¯»å–æŒ‰é”®&lt;/span&gt;
			 
			&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;key_re &lt;span class=&quot;token operator&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0xff&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;    &lt;span class=&quot;token comment&quot;&gt;//åˆ¤æ–­æŒ‰é”®æ˜¯å¦æŒ‰ä¸‹&lt;/span&gt;
			&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
				&lt;span class=&quot;token comment&quot;&gt;//åˆ¤æ–­æŒ‰é”®&lt;/span&gt;
				&lt;span class=&quot;token keyword&quot;&gt;switch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;key_re&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
				&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
					&lt;span class=&quot;token comment&quot;&gt;//æ”¾å…¥éœ€è¦æ‰§è¡Œçš„åŠŸèƒ½&lt;/span&gt;
					&lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
					&lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
					&lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
					&lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
					&lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
					&lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;9&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
					&lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
					&lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
					&lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
					&lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;13&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
					&lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;14&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
					&lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;15&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
					&lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;16&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
					&lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;17&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
					&lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;18&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
					&lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;19&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
				&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
			&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
		&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ä¾‹ï¼š&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;c&quot;&gt;&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;door&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x80&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  &lt;span class=&quot;token comment&quot;&gt;//æŒ‰ä¸‹æŒ‰é”®4ï¼Œç‚¹äº®æ‰€æœ‰LED&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;door&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xa0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0xff&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  &lt;span class=&quot;token comment&quot;&gt;//æŒ‰ä¸‹æŒ‰é”®5ï¼Œæ‰“å¼€èœ‚é¸£å™¨ã€ç»§ç”µå™¨&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;dspbuf&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;    &lt;span class=&quot;token comment&quot;&gt;//æŒ‰ä¸‹æŒ‰é”®6,ç¬¬ä¸€ä½æ•°ç ç®¡æ˜¾ç¤ºæ•°å­—1&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;é™„å½•ï¼šè¯ä¹¦
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/5d83805f5f6c453bf1bd05e51325f28f/91606/0.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 141.13924050632912%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAcABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAIBBf/EABUBAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAHsbNkCwnZaB//EABgQAQADAQAAAAAAAAAAAAAAAAEAIUER/9oACAEBAAEFAgoCbh2b2hvZcJ//xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAEDAQE/AR//xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAECAQE/AR//xAAcEAABAwUAAAAAAAAAAAAAAAAAEDFBAREggZH/2gAIAQEABj8CuT1NkFcHHT//xAAcEAEAAwACAwAAAAAAAAAAAAABABEhMUFhkaH/2gAIAQEAAT8hBSt17iKyHCCU5tLXEsMfSP2gVHdsAixTNFBBcPLDzbP/2gAMAwEAAgADAAAAEKvczv/EABURAQEAAAAAAAAAAAAAAAAAAAEQ/9oACAEDAQE/EIIT/8QAFREBAQAAAAAAAAAAAAAAAAAAARD/2gAIAQIBAT8QYk//xAAgEAEAAgICAQUAAAAAAAAAAAABABEhUTFBYXGxwdHh/9oACAEBAAE/ELPIxCO4sAc9/qItGhxl0SnBQWtrMxiapG1qXT2IzbpU15gNbwVk71Kq38E5xhgDfpEgVWtH1LRIq840T//Z&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;è¯ä¹¦1&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/5d83805f5f6c453bf1bd05e51325f28f/828fb/0.jpg&quot;
        srcset=&quot;/blog/static/5d83805f5f6c453bf1bd05e51325f28f/ff44c/0.jpg 158w,
/blog/static/5d83805f5f6c453bf1bd05e51325f28f/a6688/0.jpg 315w,
/blog/static/5d83805f5f6c453bf1bd05e51325f28f/828fb/0.jpg 630w,
/blog/static/5d83805f5f6c453bf1bd05e51325f28f/0ede0/0.jpg 945w,
/blog/static/5d83805f5f6c453bf1bd05e51325f28f/3ac88/0.jpg 1260w,
/blog/static/5d83805f5f6c453bf1bd05e51325f28f/91606/0.jpg 1736w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/blog/static/67f21b3f03d6d24bc5d3bf8f695be272/effa3/00.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 143.03797468354432%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAdABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAIBBf/EABYBAQEBAAAAAAAAAAAAAAAAAAABAv/aAAwDAQACEAMQAAAB7GzZITNk1bCf/8QAGhAAAgMBAQAAAAAAAAAAAAAAAAERIUEQIv/aAAgBAQABBQJKoXMRs+U720WI/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAwEBPwEf/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAgEBPwEf/8QAGxAAAQQDAAAAAAAAAAAAAAAAABARIUEBIJH/2gAIAQEABj8CeS1hjOtcT//EAB0QAQACAQUBAAAAAAAAAAAAAAEAETEhQVFhocH/2gAIAQEAAT8hsuctmGh9zCg+wsBystnxjcgNN7YBltNFPcDQEzxOzAZuf//aAAwDAQACAAMAAAAQazkC/8QAFREBAQAAAAAAAAAAAAAAAAAAARD/2gAIAQMBAT8Qgk//xAAVEQEBAAAAAAAAAAAAAAAAAAABEP/aAAgBAgEBPxBiT//EAB4QAQACAwACAwAAAAAAAAAAAAEAESFBYTFRccHw/9oACAEBAAE/ECZFthPccijnamXih3wQPFACNJ5YWUbFkPIq7N8I6Tjo7CtjGVFRpW/oSwobec8vzC4KPzsRFS10cn//2Q==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;è¯ä¹¦2&quot;
        title=&quot;&quot;
        src=&quot;/blog/static/67f21b3f03d6d24bc5d3bf8f695be272/828fb/00.jpg&quot;
        srcset=&quot;/blog/static/67f21b3f03d6d24bc5d3bf8f695be272/ff44c/00.jpg 158w,
/blog/static/67f21b3f03d6d24bc5d3bf8f695be272/a6688/00.jpg 315w,
/blog/static/67f21b3f03d6d24bc5d3bf8f695be272/828fb/00.jpg 630w,
/blog/static/67f21b3f03d6d24bc5d3bf8f695be272/0ede0/00.jpg 945w,
/blog/static/67f21b3f03d6d24bc5d3bf8f695be272/3ac88/00.jpg 1260w,
/blog/static/67f21b3f03d6d24bc5d3bf8f695be272/effa3/00.jpg 1752w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;åˆ°æ­¤ï¼Œè“æ¡¥æ¯å•ç‰‡æœºè®¾è®¡ä¸å¼€å‘_æ ‡å‡†æ¨¡æ¿å…¼æ–°æ‰‹å…¥é—¨STC89C52ç³»åˆ—å•ç‰‡æœºåŸºç¡€æ¨¡æ¿è®²è§£åˆ°æ­¤ç»“æŸå•¦ï¼&lt;/p&gt;</content:encoded></item></channel></rss>